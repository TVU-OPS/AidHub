[{"name":"/#Logic/UpdateTinhThienTaiChiTiet","nodes":[{"id":"50ad84f4-533d-c228-e1f6-399ced9d22d2","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","type":"JavaScriptFunction","parameters":{"functionScript":"const data = Inputs.data;\r\n\r\nfunction extractProvinces(data) {\r\n  return data?.Provinces?.map(province => ({\r\n    name: province.FullName,\r\n    location: {\r\n      lat: parseFloat(province.Latitude) || 0,\r\n      lng: parseFloat(province.Longitude) || 0,\r\n    },\r\n  }))\r\n}\r\n\r\nif (data) {\r\n  const provinces = extractProvinces(data);\r\n\r\n  const oldProvinces = JSON.parse(localStorage.getItem(\"provinces\")) || [];\r\n\r\n  if (JSON.stringify(provinces) === JSON.stringify(oldProvinces)) {\r\n    return;\r\n  } else {\r\n    if (provinces !== undefined) {\r\n      localStorage.setItem(\"provinces\", JSON.stringify(provinces));\r\n      Outputs.Success();\r\n      return;\r\n    }\r\n  }\r\n}"},"ports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[]},{"id":"367d5b1c-dbd8-790e-e0f8-2e1bda794b80","type":"/#Logic/ReloadPage","parameters":{},"ports":[],"children":[]},{"id":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","type":"/#Logic/GetChiTietThienTai","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","sourcePort":"out-Success","targetId":"367d5b1c-dbd8-790e-e0f8-2e1bda794b80","targetPort":"Do"},{"sourceId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","sourcePort":"data","targetId":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","targetPort":"run"},{"sourceId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","sourcePort":"Success","targetId":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","targetPort":"run"},{"sourceId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","sourcePort":"data","targetId":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","targetPort":"in-data"},{"sourceId":"50ad84f4-533d-c228-e1f6-399ced9d22d2","sourcePort":"Do","targetId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","targetPort":"Do"},{"sourceId":"50ad84f4-533d-c228-e1f6-399ced9d22d2","sourcePort":"idThienTai","targetId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","targetPort":"id"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"idThienTai","type":{"name":"*","editAsType":"string"},"group":"Parameters","plug":"input","index":2}],"roots":[]}]