[{"name":"/page/Yeu cau","nodes":[{"id":"12b9a717-5831-7527-beea-102d4da7c5d0","type":"Page","parameters":{},"ports":[],"children":[{"id":"fea2842e-49bc-3156-ea12-eda4a631ab3d","type":"Group","parameters":{"scrollEnabled":true,"height":{"value":100,"unit":"vh"}},"ports":[],"children":[{"id":"966a895f-5b92-8448-94cb-994abab5fe43","type":"Group","parameters":{"alignItems":"center","justifyContent":"flex-start","alignX":"center","sizeMode":"contentHeight","flexWrap":"nowrap","flexDirection":"column","boxShadowEnabled":false,"scrollEnabled":false,"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":60,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"c329d150-5aef-3fd9-fbea-73c426159cae","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":12,"unit":"px"},"sizeMode":"contentHeight","alignX":"left"},"ports":[],"children":[{"id":"f0241f5b-0343-7e1e-d59d-0fef29f89620","type":"Text","parameters":{"text":"Yêu cầu hỗ trợ","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":24,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"children":[]},{"id":"ddaa63c7-8a0f-ec7d-c6f9-5fd397db2803","type":"net.noodl.controls.button","parameters":{"label":"In","useIcon":true,"iconIconSource":{"class":"material-icons","code":"local_printshop","codeAsClass":false},"alignX":"right"},"ports":[],"children":[]}]},{"id":"87dfe0ce-7f81-123d-5a45-603374d33bcd","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":12,"unit":"px"},"paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"alignItems":"center","justifyContent":"flex-start"},"ports":[],"children":[{"id":"1692cff7-3203-370e-3371-6d5cb543a914","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentSize","flexWrap":"nowrap","columnGap":{"value":12,"unit":"px"},"clip":false,"alignY":"bottom","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"justifyContent":"flex-start","borderRadius":{"value":8,"unit":"px"},"minHeight":{"value":42,"unit":"px"},"position":"relative"},"ports":[],"children":[{"id":"9ef588e4-80ae-04b7-06db-4f6e36a53c9b","type":"net.noodl.controls.textinput","parameters":{"label":"","alignY":"center","borderStyle":"none","placeholder":"Tìm kiếm","sizeMode":"contentHeight","width":{"value":300,"unit":"px"}},"ports":[],"children":[]},{"id":"b1858d3e-e68b-a6f4-00d8-7093f7d8fe11","type":"net.noodl.controls.button","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","iconSize":{"value":18,"unit":"px"},"paddingLeft":{"value":2,"unit":"px"},"paddingRight":{"value":2,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"backgroundColor":"Grey - 400","mounted":true,"position":"relative","enabled":true,"blockTouch":false},"stateParameters":{"hover":{"backgroundColor":"Grey - 500","useIcon":true}},"ports":[],"children":[]},{"id":"38a63593-9a4d-a650-db6e-d294cd378829","type":"net.noodl.controls.button","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"search","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"minWidth":{"value":0,"unit":"px"},"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"iconSize":{"value":22,"unit":"px"},"minHeight":{"value":34,"unit":"px"}},"ports":[],"children":[]}]},{"id":"64ca6f1e-d322-794b-57ca-f0c77f8e5a64","type":"net.noodl.controls.options","parameters":{"sizeMode":"explicit","label":"Thiên tai","maxWidth":{"value":240,"unit":"px"},"alignY":"bottom"},"ports":[],"children":[]},{"id":"5da81c0b-6d38-cfde-3683-efeca4b515f6","type":"net.noodl.controls.button","parameters":{"label":"Lọc","useIcon":true,"iconIconSource":{"class":"material-icons","code":"filter_list","codeAsClass":false},"backgroundColor":"transparent","color":"Grey - 800","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","iconColor":"Grey - 800","sizeMode":"contentSize","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"minHeight":{"value":42,"unit":"px"},"alignY":"bottom"},"stateParameters":{"hover":{"borderColor":"Grey - 900"}},"ports":[],"children":[]}]},{"id":"17ac10fa-ad8f-f684-d754-605bc098f5de","type":"Group","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","borderTopLeftRadius":{"value":12,"unit":"px"},"borderTopRightRadius":{"value":12,"unit":"px"},"minHeight":{"value":500,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"7d2ec121-1aa1-7be4-fb0f-3e67eee7d1dc","type":"/page/Yeu cau/HeaderSOS","parameters":{},"ports":[],"children":[]},{"id":"e67bfb2e-0739-cd57-2701-dd976fbc98d8","type":"For Each","parameters":{"template":"/page/Yeu cau/RowSOS"},"ports":[],"children":[]}]},{"id":"1100dcc7-653e-adfe-7789-8afd7f7254f4","type":"Group","parameters":{"alignX":"center","alignItems":"center","justifyContent":"center","sizeMode":"contentHeight","paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"7bb7db16-697b-d348-cfb3-77931b9733e1","type":"/Pages And Rows","parameters":{"Margin Top":{"value":12,"unit":"px"},"Options":"[1,2,5,10,15,20,30,40,50]","Rows Per Page":10},"ports":[],"children":[]}]},{"id":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","type":"/page/Yeu cau/Modal filter Yeu cau","parameters":{},"ports":[],"children":[]}]}]}]},{"id":"a136c852-cd66-1fa5-78d1-f8bda60293b9","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"12aff6f8-8ae9-4f9d-3932-933860d40a57","type":"/#Logic/GetAllYeuCau","parameters":{},"ports":[],"children":[]},{"id":"f173758a-00dd-5a07-d4d4-3f72d11908cf","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.page = 0"},"ports":[{"name":"out-page","displayName":"page","plug":"output","type":"*","group":"Outputs","index":4}],"children":[]},{"id":"4f4997fc-234a-5947-c6ee-600555d67e56","type":"JavaScriptFunction","parameters":{"functionScript":"const data = Inputs.data;\r\n\r\nfunction mapData(data) {\r\n  return data.map((item) => ({\r\n    \"Tên\": item.FullName ?? \"\",\r\n    \"Mô tả\": item.RequestDescription ?? \"\",\r\n    \"Cần đồ ăn\": item.NeedFood ? \"Có\" : \"Không\",\r\n    \"Cần nước\": item.NeedWater ? \"Có\" : \"Không\",\r\n    \"Cần y tế\": item.NeedMedical ? \"Có\" : \"Không\",\r\n    \"Số người\": item.PeopleCount ?? \"\",\r\n    \"Địa chỉ\": item.Road ?? \"\",\r\n    \"Amenity\": item.Amenity ?? \"\",\r\n    \"Xã phường\": item.Ward?.FullName ?? \"\",\r\n    \"Huyện\": item.District?.FullName ?? \"\",\r\n    \"Tỉnh\": item.Province?.FullName ?? \"\",\r\n  }));\r\n}\r\n\r\n\r\nOutputs.data = data && mapData(data)"},"ports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"b37c6da7-c0b0-a9b3-ab3c-ecea7c812cc8","type":"/#Logic/printTable","parameters":{},"ports":[],"children":[]},{"id":"9e79ef18-c710-a163-2e57-07881e1f3ac7","type":"/#Logic/Get Thien tai","parameters":{},"ports":[],"children":[]},{"id":"254f1aa6-a466-16fb-33c5-7c99d04b193e","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Chua = 1\r\nOutputs.Dang = 2\r\nOutputs.Da = 3"},"ports":[{"name":"out-Chua","displayName":"Chua","plug":"output","type":"*","group":"Outputs","index":4},{"name":"out-Dang","displayName":"Dang","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Da","displayName":"Da","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"cbfceed5-79b0-e8fb-5a1e-786e9b38a5d3","type":"/#Logic/GetAllThienTai","parameters":{},"ports":[],"children":[]},{"id":"ae1936ee-4847-4442-a875-2dcb13db2b22","type":"JavaScriptFunction","parameters":{"functionScript":"const data = Inputs.data\r\n\r\nif(data){\r\n    Outputs.value = String(data[0].id)\r\n}"},"ports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-value","displayName":"value","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"5da81c0b-6d38-cfde-3683-efeca4b515f6","sourcePort":"onClick","targetId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","targetPort":"Do"},{"sourceId":"b1858d3e-e68b-a6f4-00d8-7093f7d8fe11","sourcePort":"onClick","targetId":"9ef588e4-80ae-04b7-06db-4f6e36a53c9b","targetPort":"clear"},{"sourceId":"9ef588e4-80ae-04b7-06db-4f6e36a53c9b","sourcePort":"onTextChanged","targetId":"b1858d3e-e68b-a6f4-00d8-7093f7d8fe11","targetPort":"visible"},{"sourceId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","sourcePort":"idTinh","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"ProvinceId "},{"sourceId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","sourcePort":"idHuyen","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"DistrictId"},{"sourceId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","sourcePort":"idXa","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"WardId"},{"sourceId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","sourcePort":"sort","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"sort"},{"sourceId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","sourcePort":"Data","targetId":"e67bfb2e-0739-cd57-2701-dd976fbc98d8","targetPort":"items"},{"sourceId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","sourcePort":"Page","targetId":"7bb7db16-697b-d348-cfb3-77931b9733e1","targetPort":"Selected Page"},{"sourceId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","sourcePort":"total","targetId":"7bb7db16-697b-d348-cfb3-77931b9733e1","targetPort":"Total Count"},{"sourceId":"fea2842e-49bc-3156-ea12-eda4a631ab3d","sourcePort":"didMount","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"Do"},{"sourceId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","sourcePort":"PageSize","targetId":"7bb7db16-697b-d348-cfb3-77931b9733e1","targetPort":"Rows Per Page"},{"sourceId":"7bb7db16-697b-d348-cfb3-77931b9733e1","sourcePort":"Selected Page","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"page"},{"sourceId":"7bb7db16-697b-d348-cfb3-77931b9733e1","sourcePort":"Limit","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"limit"},{"sourceId":"7bb7db16-697b-d348-cfb3-77931b9733e1","sourcePort":"Changed","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"Do"},{"sourceId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","sourcePort":"run","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"Do"},{"sourceId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","sourcePort":"page","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"page"},{"sourceId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","sourcePort":"status","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"status"},{"sourceId":"38a63593-9a4d-a650-db6e-d294cd378829","sourcePort":"onClick","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"Do"},{"sourceId":"9ef588e4-80ae-04b7-06db-4f6e36a53c9b","sourcePort":"onTextChanged","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"keyword"},{"sourceId":"9ef588e4-80ae-04b7-06db-4f6e36a53c9b","sourcePort":"onEnter","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"Do"},{"sourceId":"38a63593-9a4d-a650-db6e-d294cd378829","sourcePort":"onClick","targetId":"f173758a-00dd-5a07-d4d4-3f72d11908cf","targetPort":"run"},{"sourceId":"f173758a-00dd-5a07-d4d4-3f72d11908cf","sourcePort":"out-page","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"page"},{"sourceId":"ed9829cc-0c10-9096-dcb6-6348adcf0e95","sourcePort":"change","targetId":"f173758a-00dd-5a07-d4d4-3f72d11908cf","targetPort":"run"},{"sourceId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","sourcePort":"Data","targetId":"4f4997fc-234a-5947-c6ee-600555d67e56","targetPort":"in-data"},{"sourceId":"4f4997fc-234a-5947-c6ee-600555d67e56","sourcePort":"out-data","targetId":"b37c6da7-c0b0-a9b3-ab3c-ecea7c812cc8","targetPort":"data"},{"sourceId":"ddaa63c7-8a0f-ec7d-c6f9-5fd397db2803","sourcePort":"onClick","targetId":"b37c6da7-c0b0-a9b3-ab3c-ecea7c812cc8","targetPort":"Do"},{"sourceId":"9e79ef18-c710-a163-2e57-07881e1f3ac7","sourcePort":"Data","targetId":"64ca6f1e-d322-794b-57ca-f0c77f8e5a64","targetPort":"items"},{"sourceId":"fea2842e-49bc-3156-ea12-eda4a631ab3d","sourcePort":"didMount","targetId":"9e79ef18-c710-a163-2e57-07881e1f3ac7","targetPort":"Do"},{"sourceId":"254f1aa6-a466-16fb-33c5-7c99d04b193e","sourcePort":"out-Dang","targetId":"cbfceed5-79b0-e8fb-5a1e-786e9b38a5d3","targetPort":"status"},{"sourceId":"9e79ef18-c710-a163-2e57-07881e1f3ac7","sourcePort":"Data","targetId":"cbfceed5-79b0-e8fb-5a1e-786e9b38a5d3","targetPort":"Do"},{"sourceId":"64ca6f1e-d322-794b-57ca-f0c77f8e5a64","sourcePort":"onChange","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"Do"},{"sourceId":"64ca6f1e-d322-794b-57ca-f0c77f8e5a64","sourcePort":"value","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"DisasterId"},{"sourceId":"cbfceed5-79b0-e8fb-5a1e-786e9b38a5d3","sourcePort":"Data","targetId":"ae1936ee-4847-4442-a875-2dcb13db2b22","targetPort":"in-data"},{"sourceId":"ae1936ee-4847-4442-a875-2dcb13db2b22","sourcePort":"out-value","targetId":"64ca6f1e-d322-794b-57ca-f0c77f8e5a64","targetPort":"value"},{"sourceId":"ae1936ee-4847-4442-a875-2dcb13db2b22","sourcePort":"out-value","targetId":"12aff6f8-8ae9-4f9d-3932-933860d40a57","targetPort":"Do"}],"ports":[],"roots":["12b9a717-5831-7527-beea-102d4da7c5d0"]},{"name":"/page/Yeu cau/HeaderSOS","nodes":[{"id":"46c35633-9f9a-2ea1-82b2-4372809dd379","type":"Group","parameters":{"sizeMode":"contentHeight","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#E7E7E9","flexDirection":"row","alignItems":"center","backgroundColor":"Primary","borderTopLeftRadius":{"value":12,"unit":"px"},"borderTopRightRadius":{"value":12,"unit":"px"},"position":"sticky","styleCss":"/* background-color: red; */\r\nz-index: 1"},"ports":[],"children":[{"id":"8d0ae7f2-05cb-d9e6-7d17-a9f777baafbe","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"width":{"value":120,"unit":"px"}},"ports":[],"children":[{"id":"62f1149d-6bbf-4b90-e4ab-bdd6b020a8b9","type":"Text","parameters":{"text":"Thời gian","textAlignX":"left","color":"Grey - 100"},"ports":[],"children":[]}]},{"id":"4fdca90d-1ff7-44a3-f29e-ee75188e869a","type":"Group","parameters":{"alignY":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"alignItems":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"0a6250cc-e96f-e99f-89c3-c61cdf7f8ded","type":"Text","parameters":{"text":"Thông tin ","color":"Grey - 100"},"ports":[],"children":[]}]},{"id":"4210da61-3789-5b30-3789-0c86fb696036","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"f81dd029-aa39-31e7-7ddb-6c0c82c8545e","type":"Text","parameters":{"text":"Nhu cầu","color":"Grey - 100"},"ports":[],"children":[]}]},{"id":"4c395a77-017b-1686-96e4-695ea4aaa7f4","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"014eeebf-d006-0876-6738-cfe78b2b0cac","type":"Text","parameters":{"text":"Mô tả","color":"Grey - 100"},"ports":[],"children":[]}]},{"id":"6a52f505-8362-e024-62d7-daf26aae8cca","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"563f1847-a461-a79f-e782-9a911a78c15b","type":"Text","parameters":{"text":"Địa chỉ","color":"Grey - 100"},"ports":[],"children":[]}]},{"id":"8f408a7d-361e-3811-0f60-78ab109948d9","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"92d3ccd5-b48f-4483-fd49-713c59710a8a","type":"Text","parameters":{"text":"Trạng thái","color":"Grey - 100"},"ports":[],"children":[]}]}]}],"connections":[],"ports":[],"roots":["46c35633-9f9a-2ea1-82b2-4372809dd379"]},{"name":"/page/Yeu cau/RowSOS","nodes":[{"id":"dddaf651-077d-df4f-2c3f-fa5a03786767","type":"Group","parameters":{"sizeMode":"contentHeight","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#E7E7E9","flexDirection":"row","alignItems":"center","styleCss":"/* background-color: red; */\r\ncursor: pointer;\r\n"},"stateParameters":{"hover":{"backgroundColor":"Border"}},"ports":[],"children":[{"id":"47f2b806-0499-94c5-5c57-f736f900d816","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"width":{"value":120,"unit":"px"}},"ports":[],"children":[{"id":"760f6421-b0c9-c041-ef94-f0af1e8a6a34","type":"Text","parameters":{"color":"Grey - 700"},"ports":[],"children":[]},{"id":"15ec3c86-cba5-074a-aa05-8df5ec6d92dd","type":"Text","parameters":{"fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","color":"Grey - 600"},"ports":[],"children":[]}]},{"id":"69d8787d-7f77-3634-43c7-4abd778c3687","type":"Group","parameters":{"alignY":"center","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"alignItems":"flex-start","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight","rowGap":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"757f7794-932d-add9-e109-3323a5b6fe30","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"backgroundColor":"Danger","borderStyle":"none","borderWidth":{"value":0.2,"unit":"px"},"borderColor":"Notice","visible":true,"alignItems":"center"},"stateParameters":{"hover":{"opacity":0.8}},"ports":[],"children":[{"id":"9c3bc8ca-2752-b949-0db2-3067e96e528e","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"error_outline","codeAsClass":false},"iconColor":"Grey - 100"},"ports":[],"children":[]},{"id":"20d3dda2-e990-1031-4c3a-26cfd964d977","type":"Text","variant":"active","parameters":{"text":"","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"sizeMode":"contentHeight","styleCss":"/* background-color: red; */\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 1;\r\n-webkit-box-orient: vertical;\r\nword-break: break-word;"},"stateParameters":{"hover":{"textTransform":"none"}},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"1da7ec61-3e5a-5176-88c5-7fd6b6794945","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]},{"id":"85a2ad88-c80b-8373-9664-6595fc72f4b0","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"backgroundColor":"transparent","sizeMode":"contentSize","color":"Grey - 700","alignY":"bottom","alignX":"left","minWidth":{"value":0,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","label":"","fontSize":{"value":18,"unit":"px"},"textTransform":"none","styleCss":"/* background-color: red; */\r\n\r\n    text-decoration: underline;\r\n"},"stateParameters":{"hover":{"color":"#1666FF"}},"ports":[],"children":[]}]},{"id":"298fd8b7-5850-1de6-4d3a-cecbe615177f","type":"Group","parameters":{"alignY":"center","alignItems":"flex-start","justifyContent":"center"},"ports":[],"children":[{"id":"619f3dba-5fc5-25a6-2a1b-f395397ddc9e","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":16,"unit":"px"}},"ports":[],"children":[]},{"id":"18e14b88-9ba9-655a-bff0-024bbe6980bc","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"2201c1c3-953e-453b-eeba-92ec019dc214","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"2ca04d2f-cb66-5539-6802-6c5526bdbbed","type":"Text","parameters":{"color":"Grey - 700","text":"","styleCss":"/* background-color: red; */\r\n\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 3;\r\n-webkit-box-orient: vertical;\r\nword-break: break-word;","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"ed8a4085-8b84-9f7e-f57a-c91b49fd76a7","type":"Group","parameters":{"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"389177c8-b9a2-675d-3d76-d5f235d7d5a7","type":"/page/To chuc/RowToChuc/DiaChi","parameters":{},"ports":[],"children":[]}]},{"id":"1088aa58-5f96-936a-a30c-3e87115169f5","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"f0528bf1-bfc2-ad4e-1e16-eb1c4b8b4d7c","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"backgroundColor":"FBECEC","borderStyle":"solid","borderWidth":{"value":0.2,"unit":"px"},"borderColor":"Notice","visible":true},"ports":[],"children":[{"id":"41d05f37-246f-a30a-31ee-1e927db4f90f","type":"Text","variant":"active","parameters":{"text":"Chưa được hỗ trợ","color":"Danger","fontSize":{"value":14,"unit":"px"}},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"1da89526-a542-1e7c-9ce3-b4d56c89ccb5","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"FEF8C3","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Notice"},"ports":[],"children":[{"id":"e8ca78e7-a62c-595c-cc50-c28debef4cb1","type":"Text","variant":"active","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đang hỗ trợ","color":"A06109"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"fc0d7642-0e26-a30b-501d-7c50aefafabf","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"ECFCCB","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Success"},"ports":[],"children":[{"id":"64e0c10e-751f-56a9-b437-f18c5f1b3600","type":"Text","variant":"active","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đã hỗ trợ"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"86098aa5-bf88-d23a-2ea7-1cb217b4b6de","type":"/page/Yeu cau/RowSOS/ToChuc","parameters":{},"ports":[],"children":[]}]}]},{"id":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","type":"Model2","parameters":{"properties":"id,FullName,RequestDescription,PeopleCount,NeedWater,NeedFood,NeedMedical,PhoneNumber,Email,DamageImage,AudioFile,Province,District,Ward,Disaster,createdAt,Location,AcceptedBy,State,documentId","idSource":"foreach"},"ports":[],"children":[]},{"id":"5b8f63d7-0c8e-711c-f1e0-f64068e34a07","type":"/#Logic/Format date","parameters":{},"ports":[],"children":[]},{"id":"e6624735-edb4-a9b9-8f2c-ac931cb68d08","type":"/#Logic/Time Ago","parameters":{},"ports":[],"children":[]},{"id":"bf2d1f56-cdaf-05c5-1470-76ad7932a3bf","type":"Expression","parameters":{"expression":"Disaster.Name"},"ports":[],"children":[]},{"id":"1a59bdc5-9b27-f52a-e5b0-d6709c72b366","type":"Expression","parameters":{"expression":"\"tel:\" + phone"},"ports":[],"children":[]},{"id":"a0502578-b776-b331-0f85-e086ee846916","type":"net.noodl.externallink","parameters":{"link":""},"ports":[],"children":[]},{"id":"37232246-5439-829b-74d5-10b3ca546cbe","type":"JavaScriptFunction","parameters":{"functionScript":"const state = Inputs.state || false\r\nconst AcceptedBy = Inputs.AcceptedBy\r\n\r\nOutputs.ChuaHoTro = false;\r\nOutputs.DangHoTro = false;\r\nOutputs.DaHoTro = false;\r\n\r\nif (!state && AcceptedBy === null) {\r\n    Outputs.ChuaHoTro = true;\r\n    return\r\n} else if (!state && AcceptedBy !== null) {\r\n    Outputs.DangHoTro = true;\r\n    return\r\n} else if (state) {\r\n    Outputs.DaHoTro = true;\r\n    return;\r\n}"},"ports":[{"name":"in-state","displayName":"state","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-AcceptedBy","displayName":"AcceptedBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-ChuaHoTro","displayName":"ChuaHoTro","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-DangHoTro","displayName":"DangHoTro","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-DaHoTro","displayName":"DaHoTro","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"790e73dc-dd2a-cf55-c48b-d4af90d51081","type":"RouterNavigate","parameters":{"router":"Main","target":"/page/Chi tiet yeu cau"},"ports":[],"children":[]},{"id":"e40e1764-5b72-e340-4e59-21be3c163f70","type":"JavaScriptFunction","parameters":{"functionScript":"const thucAn = Inputs.thucAn;\r\nconst nuoc = Inputs.nuoc;\r\nconst yTe = Inputs.yTe;\r\n\r\nif (!thucAn && !nuoc && !yTe) {\r\n    Outputs.result = \"Khác\";\r\n    return\r\n}\r\n\r\n// Tạo mảng chứa các giá trị được chọn\r\nconst selectedItems = [];\r\nif (thucAn) selectedItems.push('Đồ ăn');\r\nif (nuoc) selectedItems.push('Đồ uống');\r\nif (yTe) selectedItems.push('Y tế');\r\n\r\n// Kết hợp các giá trị thành chuỗi\r\nconst result = selectedItems.join(', ');\r\n\r\n// Trả kết quả ra output\r\nOutputs.result = result;\r\n"},"ports":[{"name":"in-thucAn","displayName":"thucAn","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-nuoc","displayName":"nuoc","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-yTe","displayName":"yTe","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"44d9221c-5fa8-2665-450d-a5ac392dfbce","type":"Expression","parameters":{"expression":"\"Số lượng: \" + count"},"ports":[],"children":[]},{"id":"daf713bc-cbcd-1bc2-5e64-6527aad953b7","type":"RouterNavigate","parameters":{"router":"Main","target":"/page/Chi tiet thien tai","pm-id":" "},"ports":[],"children":[]},{"id":"91524ce2-b57e-4eba-0090-8ea6007c54fe","type":"Expression","parameters":{"expression":"Disaster.documentId"},"ports":[],"children":[]},{"id":"5ccf0d01-2957-d10d-bb84-0f5a9dfdf9ab","type":"JavaScriptFunction","parameters":{"functionScript":"const Data = Inputs.Data;\r\n\r\nif (Data) {\r\n  const locations = {\r\n    name: Data.FullName,\r\n    location: {\r\n      lat: parseFloat(Data.Latitude) || 0,\r\n      lng: parseFloat(Data.Longitude) || 0,\r\n    },\r\n  };\r\n\r\n  console.log(locations);\r\n\r\n  localStorage.setItem(\"locations\", JSON.stringify(locations));\r\n}\r\n"},"ports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4}],"children":[]}],"connections":[{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-FullName","targetId":"1da7ec61-3e5a-5176-88c5-7fd6b6794945","targetPort":"text"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-RequestDescription","targetId":"2ca04d2f-cb66-5539-6802-6c5526bdbbed","targetPort":"text"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-createdAt","targetId":"5b8f63d7-0c8e-711c-f1e0-f64068e34a07","targetPort":"date"},{"sourceId":"5b8f63d7-0c8e-711c-f1e0-f64068e34a07","sourcePort":"date","targetId":"760f6421-b0c9-c041-ef94-f0af1e8a6a34","targetPort":"text"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-createdAt","targetId":"e6624735-edb4-a9b9-8f2c-ac931cb68d08","targetPort":"date"},{"sourceId":"e6624735-edb4-a9b9-8f2c-ac931cb68d08","sourcePort":"time ago","targetId":"15ec3c86-cba5-074a-aa05-8df5ec6d92dd","targetPort":"text"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-Disaster","targetId":"bf2d1f56-cdaf-05c5-1470-76ad7932a3bf","targetPort":"Disaster"},{"sourceId":"bf2d1f56-cdaf-05c5-1470-76ad7932a3bf","sourcePort":"result","targetId":"757f7794-932d-add9-e109-3323a5b6fe30","targetPort":"mounted"},{"sourceId":"bf2d1f56-cdaf-05c5-1470-76ad7932a3bf","sourcePort":"result","targetId":"20d3dda2-e990-1031-4c3a-26cfd964d977","targetPort":"text"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-PhoneNumber","targetId":"1a59bdc5-9b27-f52a-e5b0-d6709c72b366","targetPort":"phone"},{"sourceId":"1a59bdc5-9b27-f52a-e5b0-d6709c72b366","sourcePort":"result","targetId":"a0502578-b776-b331-0f85-e086ee846916","targetPort":"link"},{"sourceId":"85a2ad88-c80b-8373-9664-6595fc72f4b0","sourcePort":"onClick","targetId":"a0502578-b776-b331-0f85-e086ee846916","targetPort":"do"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-State","targetId":"37232246-5439-829b-74d5-10b3ca546cbe","targetPort":"in-state"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-AcceptedBy","targetId":"37232246-5439-829b-74d5-10b3ca546cbe","targetPort":"in-AcceptedBy"},{"sourceId":"37232246-5439-829b-74d5-10b3ca546cbe","sourcePort":"out-ChuaHoTro","targetId":"f0528bf1-bfc2-ad4e-1e16-eb1c4b8b4d7c","targetPort":"mounted"},{"sourceId":"37232246-5439-829b-74d5-10b3ca546cbe","sourcePort":"out-DangHoTro","targetId":"1da89526-a542-1e7c-9ce3-b4d56c89ccb5","targetPort":"mounted"},{"sourceId":"37232246-5439-829b-74d5-10b3ca546cbe","sourcePort":"out-DaHoTro","targetId":"fc0d7642-0e26-a30b-501d-7c50aefafabf","targetPort":"mounted"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-PhoneNumber","targetId":"85a2ad88-c80b-8373-9664-6595fc72f4b0","targetPort":"mounted"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-PhoneNumber","targetId":"85a2ad88-c80b-8373-9664-6595fc72f4b0","targetPort":"label"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-documentId","targetId":"790e73dc-dd2a-cf55-c48b-d4af90d51081","targetPort":"pm-id"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-NeedFood","targetId":"e40e1764-5b72-e340-4e59-21be3c163f70","targetPort":"in-thucAn"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-NeedFood","targetId":"e40e1764-5b72-e340-4e59-21be3c163f70","targetPort":"in-nuoc"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-NeedMedical","targetId":"e40e1764-5b72-e340-4e59-21be3c163f70","targetPort":"in-yTe"},{"sourceId":"e40e1764-5b72-e340-4e59-21be3c163f70","sourcePort":"out-result","targetId":"619f3dba-5fc5-25a6-2a1b-f395397ddc9e","targetPort":"text"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-PeopleCount","targetId":"44d9221c-5fa8-2665-450d-a5ac392dfbce","targetPort":"count"},{"sourceId":"44d9221c-5fa8-2665-450d-a5ac392dfbce","sourcePort":"result","targetId":"18e14b88-9ba9-655a-bff0-024bbe6980bc","targetPort":"text"},{"sourceId":"757f7794-932d-add9-e109-3323a5b6fe30","sourcePort":"onClick","targetId":"daf713bc-cbcd-1bc2-5e64-6527aad953b7","targetPort":"navigate"},{"sourceId":"d992d844-bca6-49b0-d3c7-aaf3f62d33bf","sourcePort":"prop-Disaster","targetId":"91524ce2-b57e-4eba-0090-8ea6007c54fe","targetPort":"Disaster"},{"sourceId":"91524ce2-b57e-4eba-0090-8ea6007c54fe","sourcePort":"result","targetId":"daf713bc-cbcd-1bc2-5e64-6527aad953b7","targetPort":"pm-id"},{"sourceId":"dddaf651-077d-df4f-2c3f-fa5a03786767","sourcePort":"onClick","targetId":"790e73dc-dd2a-cf55-c48b-d4af90d51081","targetPort":"navigate"},{"sourceId":"dddaf651-077d-df4f-2c3f-fa5a03786767","sourcePort":"onClick","targetId":"5ccf0d01-2957-d10d-bb84-0f5a9dfdf9ab","targetPort":"run"}],"ports":[],"roots":["dddaf651-077d-df4f-2c3f-fa5a03786767"]},{"name":"/page/Yeu cau/Modal filter Yeu cau","nodes":[{"id":"b0bf19c2-f058-41c0-ce3e-a75ab8df7fc6","type":"Group","parameters":{"styleCss":"/* background-color: red; */\r\nz-index: 9","position":"fixed","visible":false},"ports":[],"children":[{"id":"9ddcbd48-a930-5aa7-8057-cd0ff48f4321","type":"Group","parameters":{"backgroundColor":"#000000A5"},"ports":[],"children":[]},{"id":"efe0c2ec-749d-3af3-dfcf-1e5860be6ce3","type":"Group","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","width":{"value":580,"unit":"px"}},"ports":[],"children":[{"id":"2d1b2e84-8223-78e9-d49d-7aa55a059f71","type":"net.noodl.controls.button","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"68b72403-94c3-ba27-2b93-511e3e1ba393","type":"Group","parameters":{"alignItems":"flex-start","justifyContent":"flex-start","alignX":"center","sizeMode":"contentHeight","marginTop":{"value":20,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"flexDirection":"column","columnGap":{"value":24,"unit":"px"},"alignY":"bottom","rowGap":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"e66b3a22-8d53-8451-380b-f6cfd0ca8b5a","type":"Text","parameters":{"text":"Lọc","fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"b8939b22-12ef-7dee-ea19-48242f73ea03","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"e318eecf-d93a-4523-871d-cc43699a23da","type":"net.noodl.controls.options","parameters":{"items":"[\n    {\"Label\":\"Mới nhất\", \"Value\":\"desc\"},\n    {\"Label\":\"Cũ nhất\", \"Value\":\"asc\"},\n]","label":"Lọc","placeholder":"Select","sizeMode":"explicit","mounted":true,"value":"desc"},"ports":[],"children":[]},{"id":"e0b63b29-3e04-5528-5aa4-84b5fc925ff0","type":"net.noodl.controls.options","parameters":{"label":"Trạng thái","items":"[\n    {\"Label\":\"Chưa hổ trợ\", \"Value\":\"1\"},\n    {\"Label\":\"Đang hổ trợ\", \"Value\":\"2\"},\n    {\"Label\":\"Đã hổ trợ\", \"Value\":\"3\"}\n]","placeholder":"Select","sizeMode":"explicit"},"ports":[],"children":[]}]},{"id":"cfef6813-793b-56c7-d1b9-57e7100193e4","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"0de70bce-c715-9131-b45f-ea5bcf43c7db","type":"net.noodl.controls.options","parameters":{"label":"Tỉnh/Thành phố","sizeMode":"explicit","placeholder":"Select","items":"[]"},"ports":[],"children":[]},{"id":"e297f92f-87d5-7603-568f-e81eaf46470d","type":"net.noodl.controls.options","parameters":{"label":"Huyện","items":"[]","sizeMode":"explicit","boxShadowEnabled":false,"enabled":false,"mounted":true,"useIcon":true,"placeholder":"Select"},"ports":[],"children":[]},{"id":"315d13d7-8417-ace8-e483-cbeaa1c87e30","type":"net.noodl.controls.options","parameters":{"label":"Xã","items":"[]","sizeMode":"explicit","enabled":false,"mounted":true,"placeholder":"Select"},"ports":[],"children":[]}]},{"id":"a8822247-4471-5c5e-8820-12189988dfaa","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-end"},"ports":[],"children":[{"id":"c271130c-623e-c96d-573b-cd1f3e409d90","type":"net.noodl.controls.button","parameters":{"label":"Bỏ lọc","backgroundColor":"FBECEC","mounted":false,"useIcon":true,"iconIconSource":{"class":"fa-solid","code":"fa-remove","codeAsClass":true},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"height":{"value":36,"unit":"px"},"iconColor":"Danger","color":"Danger","borderStyle":"solid","borderWidth":{"value":1.3,"unit":"px"},"borderColor":"Grey - 400","alignY":"bottom","enabled":true,"alignX":"right","marginBottom":{"value":4,"unit":"px"}},"stateParameters":{"disabled":{"opacity":0},"hover":{"opacity":0.8,"backgroundColor":"Border"}},"ports":[],"children":[]}]}]}]}]},{"id":"ac16a8e9-39eb-ddb2-a640-99f55afd9a64","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"c1e7b59c-92a3-950b-20bf-c35137c7a171","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"93e23e15-3e4d-6d65-d135-e861aeada86e","type":"/#Logic/Get  Tinh","parameters":{},"ports":[],"children":[]},{"id":"086af94b-54b3-3b0d-dfbf-5d4c56a5ed9e","type":"/#Logic/Get Huyen","parameters":{},"ports":[],"children":[]},{"id":"1afb927e-8c29-066f-c815-93256616939e","type":"/#Logic/Get  Xa","parameters":{},"ports":[],"children":[]},{"id":"4b7fa461-24cf-0fc4-89ae-54861df7e58f","type":"States","parameters":{"states":"open,close","values":"hidden","type-hidden":"boolean","value-open-hidden":true,"value-close-hidden":false,"currentState":"close"},"ports":[],"children":[]},{"id":"0f26ec6b-6688-b30c-1e86-f49d9d6bae17","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.page = 0"},"ports":[{"name":"out-page","displayName":"page","plug":"output","type":"*","group":"Outputs","index":4}],"children":[]},{"id":"86925e6f-cd36-86fa-2209-43c9e4f2cff2","type":"/#Logic/ReloadPage","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"e297f92f-87d5-7603-568f-e81eaf46470d","sourcePort":"value","targetId":"315d13d7-8417-ace8-e483-cbeaa1c87e30","targetPort":"enabled"},{"sourceId":"93e23e15-3e4d-6d65-d135-e861aeada86e","sourcePort":"Tinh","targetId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","targetPort":"items"},{"sourceId":"086af94b-54b3-3b0d-dfbf-5d4c56a5ed9e","sourcePort":"Huyen","targetId":"e297f92f-87d5-7603-568f-e81eaf46470d","targetPort":"items"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"value","targetId":"086af94b-54b3-3b0d-dfbf-5d4c56a5ed9e","targetPort":"idTinh"},{"sourceId":"1afb927e-8c29-066f-c815-93256616939e","sourcePort":"Xa","targetId":"315d13d7-8417-ace8-e483-cbeaa1c87e30","targetPort":"items"},{"sourceId":"e297f92f-87d5-7603-568f-e81eaf46470d","sourcePort":"value","targetId":"1afb927e-8c29-066f-c815-93256616939e","targetPort":"idHuyen"},{"sourceId":"b0bf19c2-f058-41c0-ce3e-a75ab8df7fc6","sourcePort":"didMount","targetId":"93e23e15-3e4d-6d65-d135-e861aeada86e","targetPort":"Do"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"onChange","targetId":"086af94b-54b3-3b0d-dfbf-5d4c56a5ed9e","targetPort":"Do"},{"sourceId":"e297f92f-87d5-7603-568f-e81eaf46470d","sourcePort":"onChange","targetId":"1afb927e-8c29-066f-c815-93256616939e","targetPort":"Do"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"value","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"idTinh"},{"sourceId":"e297f92f-87d5-7603-568f-e81eaf46470d","sourcePort":"value","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"idHuyen"},{"sourceId":"315d13d7-8417-ace8-e483-cbeaa1c87e30","sourcePort":"value","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"idXa"},{"sourceId":"e318eecf-d93a-4523-871d-cc43699a23da","sourcePort":"value","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"sort"},{"sourceId":"ac16a8e9-39eb-ddb2-a640-99f55afd9a64","sourcePort":"Do","targetId":"4b7fa461-24cf-0fc4-89ae-54861df7e58f","targetPort":"to-open"},{"sourceId":"2d1b2e84-8223-78e9-d49d-7aa55a059f71","sourcePort":"onClick","targetId":"4b7fa461-24cf-0fc4-89ae-54861df7e58f","targetPort":"to-close"},{"sourceId":"9ddcbd48-a930-5aa7-8057-cd0ff48f4321","sourcePort":"onClick","targetId":"4b7fa461-24cf-0fc4-89ae-54861df7e58f","targetPort":"to-close"},{"sourceId":"4b7fa461-24cf-0fc4-89ae-54861df7e58f","sourcePort":"hidden","targetId":"b0bf19c2-f058-41c0-ce3e-a75ab8df7fc6","targetPort":"visible"},{"sourceId":"e0b63b29-3e04-5528-5aa4-84b5fc925ff0","sourcePort":"value","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"status"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"value","targetId":"e297f92f-87d5-7603-568f-e81eaf46470d","targetPort":"enabled"},{"sourceId":"e318eecf-d93a-4523-871d-cc43699a23da","sourcePort":"onChange","targetId":"0f26ec6b-6688-b30c-1e86-f49d9d6bae17","targetPort":"run"},{"sourceId":"0f26ec6b-6688-b30c-1e86-f49d9d6bae17","sourcePort":"out-page","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"page"},{"sourceId":"e0b63b29-3e04-5528-5aa4-84b5fc925ff0","sourcePort":"onChange","targetId":"0f26ec6b-6688-b30c-1e86-f49d9d6bae17","targetPort":"run"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"onChange","targetId":"0f26ec6b-6688-b30c-1e86-f49d9d6bae17","targetPort":"run"},{"sourceId":"e297f92f-87d5-7603-568f-e81eaf46470d","sourcePort":"onChange","targetId":"0f26ec6b-6688-b30c-1e86-f49d9d6bae17","targetPort":"run"},{"sourceId":"315d13d7-8417-ace8-e483-cbeaa1c87e30","sourcePort":"onChange","targetId":"0f26ec6b-6688-b30c-1e86-f49d9d6bae17","targetPort":"run"},{"sourceId":"e318eecf-d93a-4523-871d-cc43699a23da","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"run"},{"sourceId":"e0b63b29-3e04-5528-5aa4-84b5fc925ff0","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"run"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"run"},{"sourceId":"e297f92f-87d5-7603-568f-e81eaf46470d","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"run"},{"sourceId":"315d13d7-8417-ace8-e483-cbeaa1c87e30","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"run"},{"sourceId":"e318eecf-d93a-4523-871d-cc43699a23da","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"change"},{"sourceId":"e0b63b29-3e04-5528-5aa4-84b5fc925ff0","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"change"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"change"},{"sourceId":"e297f92f-87d5-7603-568f-e81eaf46470d","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"change"},{"sourceId":"315d13d7-8417-ace8-e483-cbeaa1c87e30","sourcePort":"onChange","targetId":"c1e7b59c-92a3-950b-20bf-c35137c7a171","targetPort":"change"},{"sourceId":"c271130c-623e-c96d-573b-cd1f3e409d90","sourcePort":"onClick","targetId":"86925e6f-cd36-86fa-2209-43c9e4f2cff2","targetPort":"Do"},{"sourceId":"c271130c-623e-c96d-573b-cd1f3e409d90","sourcePort":"onClick","targetId":"4b7fa461-24cf-0fc4-89ae-54861df7e58f","targetPort":"to-close"},{"sourceId":"e0b63b29-3e04-5528-5aa4-84b5fc925ff0","sourcePort":"value","targetId":"c271130c-623e-c96d-573b-cd1f3e409d90","targetPort":"mounted"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"value","targetId":"c271130c-623e-c96d-573b-cd1f3e409d90","targetPort":"mounted"},{"sourceId":"e297f92f-87d5-7603-568f-e81eaf46470d","sourcePort":"value","targetId":"c271130c-623e-c96d-573b-cd1f3e409d90","targetPort":"mounted"},{"sourceId":"315d13d7-8417-ace8-e483-cbeaa1c87e30","sourcePort":"value","targetId":"c271130c-623e-c96d-573b-cd1f3e409d90","targetPort":"mounted"},{"sourceId":"0de70bce-c715-9131-b45f-ea5bcf43c7db","sourcePort":"onChange","targetId":"1afb927e-8c29-066f-c815-93256616939e","targetPort":"Do"}],"ports":[{"name":"idTinh","type":"string","plug":"output","index":1},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Go to state","plug":"input","index":1},{"name":"idHuyen","type":"string","plug":"output","index":2},{"name":"idXa","type":"string","plug":"output","index":3},{"name":"idThienTai","type":"*","plug":"output","index":4},{"name":"sort","type":"string","plug":"output","index":5},{"name":"run","type":{"name":"signal"},"plug":"output","index":8},{"name":"status","type":"string","plug":"output","index":9},{"name":"page","type":"*","plug":"output","index":11},{"name":"change","type":{"name":"signal"},"plug":"output","index":12}],"roots":["b0bf19c2-f058-41c0-ce3e-a75ab8df7fc6"]},{"name":"/#Logic/printTable","nodes":[{"id":"fdd87df5-bb61-a9ba-3a64-7d97aff0770b","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"34ca152e-07da-f29a-23d1-0996a88b6ec5","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"4b7339a6-b2c2-f61e-425f-17c4f658c351","type":"JavaScriptFunction","parameters":{"functionScript":"const data = Inputs.data;\r\n\r\n// function mapData(data) {\r\n//   return data.map((item) => ({\r\n//     \"Tên\": item.FullName ?? \"\",\r\n//     \"Mô tả\": item.RequestDescription ?? \"\",\r\n//     \"Cần đồ ăn\": item.NeedFood ? \"Có\" : \"Không\",\r\n//     \"Cần nước\": item.NeedWater ? \"Có\" : \"Không\",\r\n//     \"Cần y tế\": item.NeedMedical ? \"Có\" : \"Không\",\r\n//     \"Số người\": item.PeopleCount ?? \"\",\r\n//     \"Địa chỉ\": item.Road ?? \"\",\r\n//     \"Amenity\": item.Amenity ?? \"\",\r\n//     \"Xã phường\": item.Ward?.FullName ?? \"\",\r\n//     \"Huyện\": item.District?.FullName ?? \"\",\r\n//     \"Tỉnh\": item.Province?.FullName ?? \"\",\r\n//   }));\r\n// }\r\n\r\n\r\n// Hàm tạo bảng HTML từ JSON\r\nfunction generateTable(data) {\r\n  let table = \"<table style='width: 100%; border-collapse: collapse; border: 1px solid black;'>\";\r\n\r\n  // Tạo tiêu đề cột (headers)\r\n  table += \"<thead><tr>\";\r\n  Object.keys(data[0]).forEach((key) => {\r\n    table += `<th style='border: 1px solid black; padding: 8px; text-align: left;'>${key}</th>`;\r\n  });\r\n  table += \"</tr></thead>\";\r\n\r\n  // Tạo nội dung bảng\r\n  table += \"<tbody>\";\r\n  data.forEach((row) => {\r\n    table += \"<tr>\";\r\n    Object.values(row).forEach((value) => {\r\n      table += `<td style='border: 1px solid black; padding: 8px;'>${value}</td>`;\r\n    });\r\n    table += \"</tr>\";\r\n  });\r\n  table += \"</tbody></table>\";\r\n\r\n  return table;\r\n}\r\n\r\n// Hàm in bảng ngay khi chạy\r\nfunction printTableImmediately() {\r\n  const tableContent = generateTable(data); // Tạo bảng từ dữ liệu đã map\r\n\r\n  const currentDateTime = new Date().toLocaleString(); // Lấy thời gian hiện tại\r\n  const recordCount = data.length; // Số lượng bản ghi\r\n\r\n  const printWindow = window.open(\"\", \"\", \"width=800,height=600\"); // Mở cửa sổ in\r\n  printWindow.document.write(\"<html><head><title>In bảng</title></head><body>\");\r\n\r\n  // Thêm tiêu đề và thời gian\r\n  printWindow.document.write(\"<h1 style='text-align: center;'>Danh sách</h1>\");\r\n  printWindow.document.write(\"<h4 style='text-align: center;'>UniHand</h4>\");\r\n  printWindow.document.write(`<p style='text-align: center;'>Thời gian in: ${currentDateTime}</p>`);\r\n  printWindow.document.write(`<p style='text-align: center;'>Tổng số: ${recordCount}</p>`);\r\n\r\n  // Chèn nội dung bảng\r\n  printWindow.document.write(tableContent);\r\n\r\n  printWindow.document.write(\"</body></html>\");\r\n  printWindow.document.close();\r\n  printWindow.print(); // Gọi lệnh in\r\n  // printWindow.close(); // Đóng cửa sổ sau khi in\r\n}\r\n\r\n// Gọi hàm in bảng\r\ndata && printTableImmediately();\r\n"},"ports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4}],"children":[]}],"connections":[{"sourceId":"fdd87df5-bb61-a9ba-3a64-7d97aff0770b","sourcePort":"data","targetId":"4b7339a6-b2c2-f61e-425f-17c4f658c351","targetPort":"in-data"},{"sourceId":"fdd87df5-bb61-a9ba-3a64-7d97aff0770b","sourcePort":"Do","targetId":"4b7339a6-b2c2-f61e-425f-17c4f658c351","targetPort":"run"}],"ports":[{"name":"Success","type":"*","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"*","plug":"output","index":1},{"name":"data","type":"*","group":"Inputs","plug":"input","index":1}],"roots":[]},{"name":"/#Logic/Get Thien tai","nodes":[{"id":"784bae9c-8c8e-dd2b-1e77-19d446e3927c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"1a406bee-6006-cd44-1b34-78db1c1ea53f","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"d71d2748-5f02-55ff-dcab-9a3384041eab","type":"REST2","parameters":{"resource":"","responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst data = Response.content;\n\nif(!data) return;\n\nOutputs.data = Response.content?.data\nOutputs.Results = Response.content;"},"ports":[],"children":[]},{"id":"c9c47f5a-1724-ddda-3cf4-9864fd811be3","type":"/#Logic/State API","parameters":{},"ports":[],"children":[]},{"id":"708e9578-8634-6014-34a2-18712a288b1b","type":"JavaScriptFunction","parameters":{"functionScript":"\r\nconst allData = Inputs.allData;\r\n\r\nif (!allData || !allData.length) return;\r\n\r\nconst dropdownValues = allData.map(item => (\r\n    {\r\n        Label: item.Name,\r\n        Value: String(item.id)\r\n    }\r\n))\r\n\r\ndropdownValues.unshift({\r\n    Label: 'Tất cả',\r\n    Value: '-1'\r\n});\r\n\r\nOutputs.dropdownValues = dropdownValues;"},"ports":[{"name":"in-allData","displayName":"allData","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-dropdownValues","displayName":"dropdownValues","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"784bae9c-8c8e-dd2b-1e77-19d446e3927c","sourcePort":"Do","targetId":"d71d2748-5f02-55ff-dcab-9a3384041eab","targetPort":"fetch"},{"sourceId":"708e9578-8634-6014-34a2-18712a288b1b","sourcePort":"out-dropdownValues","targetId":"1a406bee-6006-cd44-1b34-78db1c1ea53f","targetPort":"Data"},{"sourceId":"d71d2748-5f02-55ff-dcab-9a3384041eab","sourcePort":"out-data","targetId":"708e9578-8634-6014-34a2-18712a288b1b","targetPort":"in-allData"},{"sourceId":"c9c47f5a-1724-ddda-3cf4-9864fd811be3","sourcePort":"disasters","targetId":"d71d2748-5f02-55ff-dcab-9a3384041eab","targetPort":"resource"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Data","type":"*","plug":"output","index":1}],"roots":[]}]