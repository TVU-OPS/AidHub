[{"name":"/#Logic/Get Huyen","nodes":[{"id":"4a2dfa62-2a15-f2a7-e4f7-b6daf4c7d6e1","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"76f0736c-c8d9-a015-f822-8a40d27a27fd","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"4f88d44e-bbac-65d7-ca88-f17f15422e0c","type":"/#Logic/State API","parameters":{},"ports":[],"children":[]},{"id":"98787ef3-4478-8ec5-5646-de359d113ac5","type":"REST2","parameters":{"resource":"","responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst data = Response.content;\n\nif(!data) return;\n\nOutputs.data = Response.content?.data\nOutputs.Results = Response.content;"},"ports":[],"children":[]},{"id":"f667eb34-d2e4-bcf4-d940-e4455be168ab","type":"JavaScriptFunction","parameters":{"functionScript":"const idTinh = Inputs.idTinh\r\nconst apiHuyen = Inputs.apiHuyen\r\n\r\nif (idTinh && apiHuyen) {\r\n    Outputs.api = apiHuyen + `&filters[Province]=${idTinh}`\r\n}\r\n\r\n"},"ports":[{"name":"in-idTinh","displayName":"idTinh","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-apiHuyen","displayName":"apiHuyen","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-api","displayName":"api","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"ceac9b1f-4cf4-2659-0c25-af3ab313af91","type":"JavaScriptFunction","parameters":{"functionScript":"\r\nconst allData = Inputs.allData;\r\n\r\nif (!allData || !allData.length) return;\r\n\r\nconst dropdownValues = allData.map(item => (\r\n    {\r\n        Label: item.FullName,\r\n        Value: String(item.id)\r\n    }\r\n))\r\n\r\nOutputs.dropdownValues = dropdownValues;"},"ports":[{"name":"in-allData","displayName":"allData","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-dropdownValues","displayName":"dropdownValues","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"98787ef3-4478-8ec5-5646-de359d113ac5","sourcePort":"out-data","targetId":"ceac9b1f-4cf4-2659-0c25-af3ab313af91","targetPort":"in-allData"},{"sourceId":"ceac9b1f-4cf4-2659-0c25-af3ab313af91","sourcePort":"out-dropdownValues","targetId":"76f0736c-c8d9-a015-f822-8a40d27a27fd","targetPort":"Huyen"},{"sourceId":"4a2dfa62-2a15-f2a7-e4f7-b6daf4c7d6e1","sourcePort":"idTinh","targetId":"f667eb34-d2e4-bcf4-d940-e4455be168ab","targetPort":"in-idTinh"},{"sourceId":"4f88d44e-bbac-65d7-ca88-f17f15422e0c","sourcePort":"get_districts","targetId":"f667eb34-d2e4-bcf4-d940-e4455be168ab","targetPort":"in-apiHuyen"},{"sourceId":"f667eb34-d2e4-bcf4-d940-e4455be168ab","sourcePort":"out-api","targetId":"98787ef3-4478-8ec5-5646-de359d113ac5","targetPort":"resource"},{"sourceId":"4a2dfa62-2a15-f2a7-e4f7-b6daf4c7d6e1","sourcePort":"Do","targetId":"98787ef3-4478-8ec5-5646-de359d113ac5","targetPort":"fetch"},{"sourceId":"f667eb34-d2e4-bcf4-d940-e4455be168ab","sourcePort":"out-api","targetId":"98787ef3-4478-8ec5-5646-de359d113ac5","targetPort":"fetch"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"idTinh","type":"*","group":"Inputs","plug":"input","index":1},{"name":"Huyen","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/#Logic/Get  Xa","nodes":[{"id":"28cfe05e-4a54-bd72-8aac-8fb7507c4fa4","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"e2d23371-de19-390d-10d4-f5532b31c66a","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"93b7702e-abfd-254b-bcf0-76b28764da27","type":"/#Logic/State API","parameters":{},"ports":[],"children":[]},{"id":"8cd5bd27-ae56-dfd7-fec1-36e85bc5daeb","type":"REST2","parameters":{"resource":"","responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst data = Response.content;\n\nif(!data) return;\n\nOutputs.data = Response.content?.data\nOutputs.Results = Response.content;"},"ports":[],"children":[]},{"id":"ccc6ea0d-b8c7-a532-8c42-e469ab2d384b","type":"JavaScriptFunction","parameters":{"functionScript":"const idHuyen = Inputs.idHuyen\r\nconst baseApi = Inputs.baseApi\r\n\r\nif (idHuyen && baseApi) {\r\n    let api =  baseApi + `&filters[District]=${idHuyen}`\r\n    Outputs.api = api\r\n}\r\n"},"ports":[{"name":"in-idHuyen","displayName":"idHuyen","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-baseApi","displayName":"baseApi","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-api","displayName":"api","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"669a651d-0553-ed7a-e29b-b4ace4faeed7","type":"JavaScriptFunction","parameters":{"functionScript":"\r\nconst allData = Inputs.allData;\r\n\r\nif (!allData || !allData.length) return;\r\n\r\nconst dropdownValues = allData.map(item => (\r\n    {\r\n        Label: item.FullName,\r\n        Value: String(item.id)\r\n    }\r\n))\r\n\r\nOutputs.dropdownValues = dropdownValues;"},"ports":[{"name":"in-allData","displayName":"allData","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-dropdownValues","displayName":"dropdownValues","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"8cd5bd27-ae56-dfd7-fec1-36e85bc5daeb","sourcePort":"out-data","targetId":"669a651d-0553-ed7a-e29b-b4ace4faeed7","targetPort":"in-allData"},{"sourceId":"ccc6ea0d-b8c7-a532-8c42-e469ab2d384b","sourcePort":"out-api","targetId":"8cd5bd27-ae56-dfd7-fec1-36e85bc5daeb","targetPort":"resource"},{"sourceId":"28cfe05e-4a54-bd72-8aac-8fb7507c4fa4","sourcePort":"Do","targetId":"8cd5bd27-ae56-dfd7-fec1-36e85bc5daeb","targetPort":"fetch"},{"sourceId":"93b7702e-abfd-254b-bcf0-76b28764da27","sourcePort":"get_wards","targetId":"ccc6ea0d-b8c7-a532-8c42-e469ab2d384b","targetPort":"in-baseApi"},{"sourceId":"669a651d-0553-ed7a-e29b-b4ace4faeed7","sourcePort":"out-dropdownValues","targetId":"e2d23371-de19-390d-10d4-f5532b31c66a","targetPort":"Xa"},{"sourceId":"ccc6ea0d-b8c7-a532-8c42-e469ab2d384b","sourcePort":"out-api","targetId":"8cd5bd27-ae56-dfd7-fec1-36e85bc5daeb","targetPort":"fetch"},{"sourceId":"28cfe05e-4a54-bd72-8aac-8fb7507c4fa4","sourcePort":"idHuyen","targetId":"ccc6ea0d-b8c7-a532-8c42-e469ab2d384b","targetPort":"in-idHuyen"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"idHuyen","type":"*","group":"Inputs","plug":"input","index":1},{"name":"Xa","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/page/To chuc/RowToChuc/DiaChi","nodes":[{"id":"fd941ad7-9d4d-ef1f-26ab-41d0f661faf6","type":"Model2","parameters":{"idSource":"foreach","properties":"ten,Province,District,Ward"},"ports":[],"children":[]},{"id":"df493a75-aa1e-0a71-b288-f701b269c437","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"alignItems":"flex-start","marginBottom":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"0aa54e27-6bd9-9972-9f0d-28c6eba5d377","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"location_on","codeAsClass":false},"iconColor":"Success","iconSize":{"value":24,"unit":"px"}},"ports":[],"children":[]},{"id":"cfb80a6b-652d-8835-f7a7-6a0c4b54e464","type":"Text","parameters":{"color":"Grey - 700","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"bcf2040b-9d72-c6d5-8740-2ffff0cada81","type":"JavaScriptFunction","parameters":{"functionScript":"const provinceName = Inputs.Province?.FullName || \"\"\r\nconst districtName = Inputs.District?.FullName || \"\"\r\nconst wardName = Inputs.Ward?.FullName || \"\"\r\n\r\nconst parts = [];\r\n\r\n\r\nif (wardName) parts.push(wardName);\r\nif (districtName) parts.push(districtName);\r\nif (provinceName) parts.push(provinceName);\r\n\r\nif (parts.length > 0) {\r\n    const address = `${parts.join(\", \")}`; // Ghép các phần tử không rỗng\r\n    Outputs.Address = address\r\n}\r\n"},"ports":[{"name":"in-Province","displayName":"Province","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-District","displayName":"District","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Ward","displayName":"Ward","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Address","displayName":"Address","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"29758627-aefd-f095-a7cb-384385438cbf","type":"States","parameters":{"states":"unHidden,hidden","currentState":"unHidden"},"ports":[],"children":[]},{"id":"f2c7e95b-8154-2190-176f-a247ce2833ba","type":"JavaScriptFunction","parameters":{"functionScript":"const address = Inputs.address;\r\n\r\n\r\nif (address) {\r\n    Outputs.hidden = false;\r\n} else {\r\n    Outputs.hidden = true;\r\n}\r\n\r\n// Outputs.hidden = false"},"ports":[{"name":"in-address","displayName":"address","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-hidden","displayName":"hidden","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"fd941ad7-9d4d-ef1f-26ab-41d0f661faf6","sourcePort":"prop-Province","targetId":"bcf2040b-9d72-c6d5-8740-2ffff0cada81","targetPort":"in-Province"},{"sourceId":"fd941ad7-9d4d-ef1f-26ab-41d0f661faf6","sourcePort":"prop-District","targetId":"bcf2040b-9d72-c6d5-8740-2ffff0cada81","targetPort":"in-District"},{"sourceId":"fd941ad7-9d4d-ef1f-26ab-41d0f661faf6","sourcePort":"prop-Ward","targetId":"bcf2040b-9d72-c6d5-8740-2ffff0cada81","targetPort":"in-Ward"},{"sourceId":"bcf2040b-9d72-c6d5-8740-2ffff0cada81","sourcePort":"out-Address","targetId":"cfb80a6b-652d-8835-f7a7-6a0c4b54e464","targetPort":"text"},{"sourceId":"29758627-aefd-f095-a7cb-384385438cbf","sourcePort":"at-unHidden","targetId":"df493a75-aa1e-0a71-b288-f701b269c437","targetPort":"mounted"},{"sourceId":"bcf2040b-9d72-c6d5-8740-2ffff0cada81","sourcePort":"out-Address","targetId":"f2c7e95b-8154-2190-176f-a247ce2833ba","targetPort":"in-address"},{"sourceId":"f2c7e95b-8154-2190-176f-a247ce2833ba","sourcePort":"out-hidden","targetId":"29758627-aefd-f095-a7cb-384385438cbf","targetPort":"to-hidden"}],"ports":[],"roots":["df493a75-aa1e-0a71-b288-f701b269c437"]}]