[{"name":"/#Logic/Time Ago","nodes":[{"id":"64aba297-5cde-c37d-1f54-f049cfb2e1a5","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"956d46bf-9b4c-1c44-3710-450220c7b8bd","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"3a989dc7-0b0a-bf97-d413-3b3c2bd63aa9","type":"JavaScriptFunction","parameters":{"functionScript":"const date = new Date(Inputs.date)\r\n\r\nconst now = new Date();\r\n\r\nconst seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\nconst intervals = {\r\n    \"năm\": 31536000,\r\n    \"tháng\": 2592000,\r\n    \"tuần\": 604800,\r\n    \"ngày\": 86400,\r\n    \"giờ\": 3600,\r\n    \"phút\": 60,\r\n    \"giây\": 1,\r\n};\r\nfor (const key in intervals) {\r\n    const interval = intervals[key];\r\n    const count = Math.floor(seconds / interval);\r\n\r\n    if (count >= 1) {\r\n        Outputs.timeAgo = `${count} ${key}${count > 1 ? \" trước \" : \"\"}`;\r\n        return;\r\n    }\r\n}\r\n\r\nOutputs.timeAgo = \"bây giờ\";"},"ports":[{"name":"in-date","displayName":"date","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-timeAgo","displayName":"timeAgo","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"64aba297-5cde-c37d-1f54-f049cfb2e1a5","sourcePort":"date","targetId":"3a989dc7-0b0a-bf97-d413-3b3c2bd63aa9","targetPort":"in-date"},{"sourceId":"3a989dc7-0b0a-bf97-d413-3b3c2bd63aa9","sourcePort":"out-timeAgo","targetId":"956d46bf-9b4c-1c44-3710-450220c7b8bd","targetPort":"time ago"}],"ports":[{"name":"time ago","type":"*","plug":"output","index":1},{"name":"date","type":"*","group":"Inputs","plug":"input","index":1}],"roots":[]}]