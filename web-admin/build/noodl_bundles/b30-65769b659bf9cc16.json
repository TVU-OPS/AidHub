[{"name":"/page/Chi tiet yeu cau","nodes":[{"id":"8d5caea8-3b81-f544-fec5-2d546fc3ab7b","type":"Page","parameters":{},"ports":[],"children":[{"id":"ee5fa540-b383-bd45-4938-2f5c252a9da7","type":"Group","parameters":{"scrollEnabled":false,"flexDirection":"row","height":{"value":100,"unit":"vh"}},"ports":[],"children":[{"id":"ff63829d-0eee-0bec-7f58-59d31e64a2d9","type":"Group","parameters":{"width":{"value":500,"unit":"px"},"scrollEnabled":true,"height":{"value":100,"unit":"vh"},"sizeMode":"explicit"},"ports":[],"children":[{"id":"e10bb4d6-96f5-1f70-358b-c94fab4e3278","type":"Group","parameters":{"minWidth":{"value":100,"unit":"%"},"minHeight":{"value":80,"unit":"px"},"backgroundColor":"transparent","maxHeight":{"value":80,"unit":"px"},"flexDirection":"row","alignItems":"center","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"columnGap":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"0eebaa1f-7a0d-e518-2b81-612cd41f1649","type":"net.noodl.controls.button","parameters":{"boxShadowEnabled":false,"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"arrow_back_ios_new","codeAsClass":false},"sizeMode":"contentSize","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"alignY":"center","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"f2557854-2cdb-6685-ea9c-feed8930ce9e","type":"Text","parameters":{"text":"Chi tiết yêu cầu","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]}]},{"id":"024c55e5-3b6b-5e65-144c-d783914ba2b0","type":"Group","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"acafb84c-e808-90c0-2aba-effad53ae6ec","type":"Group","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"},"alignX":"left","alignY":"top","rowGap":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"4ab8555e-fdcb-1cdb-1a34-4f96fb6cfb22","type":"Text","parameters":{"text":"Thông tin người gửi","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]},{"id":"90926acf-a6fb-e090-444b-aceb91019c70","type":"/component/TelPhone","parameters":{},"ports":[],"children":[]},{"id":"434f5862-444b-c878-2795-0d8ad9796b9d","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight"},"ports":[],"children":[{"id":"7d25cc46-93cb-b62c-849b-592b5d1720c6","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":8,"unit":"px"},"sizeMode":"contentHeight","alignX":"left"},"ports":[],"children":[{"id":"878a7eef-a9d7-686b-eb84-8de1a19e6b2a","type":"Text","parameters":{"text":"Họ tên:","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"97d86b71-8834-6b4c-76d7-456358ba5f36","type":"Text","parameters":{"text":"....","sizeMode":"contentSize","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]}]},{"id":"a702b3b3-3351-115b-acbc-fa64a18b5b6a","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":8,"unit":"px"},"sizeMode":"contentHeight","alignX":"left"},"ports":[],"children":[{"id":"cb26230e-1e46-5558-ecb2-8ae8ecf32f5f","type":"Text","parameters":{"text":"Số điện thoại","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"3fec2de0-c0ee-7306-017f-66e15d62241f","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"backgroundColor":"transparent","sizeMode":"contentSize","color":"Grey - 900","alignY":"bottom","alignX":"left","minWidth":{"value":0,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","label":"","fontSize":{"value":18,"unit":"px"}},"stateParameters":{"hover":{"color":"#1666FF"}},"ports":[],"children":[]}]}]},{"id":"dafe309a-b14c-9c44-7db5-a841803776c4","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":8,"unit":"px"},"sizeMode":"contentHeight","alignX":"left"},"ports":[],"children":[{"id":"d1a61cd3-8c9b-303d-fc79-1e8809f91599","type":"Text","parameters":{"text":"Email:","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"d8640156-9c1c-3061-7a16-cb503c7584e1","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"backgroundColor":"transparent","sizeMode":"contentSize","color":"Grey - 900","alignY":"bottom","alignX":"left","minWidth":{"value":0,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","label":"","fontSize":{"value":18,"unit":"px"}},"stateParameters":{"hover":{"color":"#1666FF"}},"ports":[],"children":[]}]},{"id":"660f85ce-e72d-147c-f54f-27cab1f397d5","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":8,"unit":"px"},"sizeMode":"contentHeight","alignX":"left"},"ports":[],"children":[{"id":"d33db947-fa35-47e6-5dd8-650bd71eec95","type":"Text","parameters":{"text":"Địa chỉ:","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"828c858e-50cf-1a6a-2492-d155b4d18c1c","type":"Text","parameters":{"text":"...","sizeMode":"contentHeight","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"f33722cb-ffee-cade-6176-e4af86aeb3f8","type":"Group","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"ee00d4bf-bf4e-236b-a0d7-3f42465fac4d","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":8,"unit":"px"},"sizeMode":"contentHeight","alignX":"left","marginBottom":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"ae28c2e8-88ee-fe10-cd5a-8c9f06944752","type":"Text","parameters":{"text":"Tên thiên tai:","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"c6d00859-520f-0e12-a74a-a2fe94657156","type":"Text","parameters":{"text":"...","sizeMode":"contentSize","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]}]},{"id":"77727c44-907a-01d3-ca3d-93452bcd3a31","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 2"},"ports":[],"children":[{"id":"72925261-5ccc-dc67-798c-bc3842a081fc","type":"Group","parameters":{"alignItems":"flex-start","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"marginBottom":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"bd914ce6-47fe-855d-cc8e-dd195101d8d0","type":"Text","parameters":{"text":"Trạng thái","fontSize":{"value":16,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","marginBottom":{"value":12,"unit":"px"},"color":"Grey - 700"},"ports":[],"children":[]},{"id":"b277d079-3092-81e1-0834-5e2801f750b1","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"backgroundColor":"FBECEC","borderStyle":"solid","borderWidth":{"value":0.2,"unit":"px"},"borderColor":"Notice","visible":true},"ports":[],"children":[{"id":"fe0f42a5-929f-6c34-256a-9693e2db8a6c","type":"Text","variant":"active","parameters":{"text":"Chưa được hỗ trợ","color":"Danger","fontSize":{"value":14,"unit":"px"}},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"ed4d37bb-7b85-72dd-12e6-c7bb46cd09e1","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"FEF8C3","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Notice"},"ports":[],"children":[{"id":"017c77f7-b920-fd85-e559-da737ddbdbb8","type":"Text","variant":"active","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đang hỗ trợ","color":"A06109"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"29af9423-bc0a-6290-e390-df7ab9da33f6","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"ECFCCB","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Success"},"ports":[],"children":[{"id":"2a380014-890d-dd35-b855-80eee900b6ef","type":"Text","variant":"active","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đã hỗ trợ"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]}]},{"id":"89d5c564-103f-c03e-8015-f899b62b7b88","type":"Group","parameters":{},"ports":[],"children":[{"id":"109bda2f-24f0-e49d-e95d-ab9d7eb2a963","type":"Text","parameters":{"text":"Bởi:","color":"Grey - 700"},"ports":[],"children":[]},{"id":"730138ce-c9e2-0e80-d136-ee5af51cbf60","type":"/page/Yeu cau/RowSOS/ToChuc","parameters":{},"ports":[],"children":[]}]}]}]},{"id":"e3b9a9e9-f4c0-c6f3-f9fb-a3935f1c9443","type":"Group","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"58d753fd-6343-d4be-9211-dd4e550d69c9","type":"Text","parameters":{"text":"Nhu cầu","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"69aec289-4d7e-4c95-f80c-6aa728170ba1","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":24,"unit":"px"}},"ports":[],"children":[{"id":"5e677554-fc0b-b103-6643-1d5276dacc3d","type":"net.noodl.controls.checkbox","parameters":{"label":"Đồ ăn","useLabel":true,"enabled":false},"stateParameters":{"disabled":{"opacity":1}},"ports":[],"children":[]},{"id":"8a3b3a72-a417-dc71-76ee-f84671a36bfe","type":"net.noodl.controls.checkbox","parameters":{"label":"Nước uống","enabled":false},"stateParameters":{"disabled":{"opacity":1}},"ports":[],"children":[]},{"id":"e05b0511-48b6-9c7d-734e-57a54cbfd368","type":"net.noodl.controls.checkbox","parameters":{"label":"Y tế","enabled":false},"stateParameters":{"disabled":{"opacity":1}},"ports":[],"children":[]},{"id":"b7de2d75-85f4-dd8e-c2bc-959d45409191","type":"net.noodl.controls.checkbox","parameters":{"label":"Khác","enabled":false,"checked":true},"stateParameters":{"disabled":{"opacity":1}},"ports":[],"children":[]}]},{"id":"69af1747-ce9c-d090-7622-1859ac2d6c21","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":24,"unit":"px"}},"ports":[],"children":[{"id":"ae420f51-cdef-d7bb-8b04-c4d619fe5db8","type":"Text","parameters":{"text":"Chi tiết:","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"44c882f1-34a8-5446-d50d-256a897f5078","type":"Text","parameters":{"fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"4e7580db-60fd-60fb-39af-d405509e5710","type":"Group","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"ec2baa4c-b11d-2c75-60d6-dd6453446dc4","type":"Text","parameters":{"text":"Âm thanh hiện trường: ","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"88377381-16f9-17be-a0f4-17526521f430","type":"Video","parameters":{"src":"","autoplay":false,"controls":true,"muted":false,"loop":false,"sizeMode":"contentHeight","objectFit":"none","objectPositionX":{"value":0,"unit":"%"},"objectPositionY":{"value":0,"unit":"%"},"minHeight":{"value":50,"unit":"px"},"maxHeight":{"value":50,"unit":"px"}},"ports":[],"children":[]}]},{"id":"ea5c55f6-0732-da4d-14d7-b8534727cae3","type":"Group","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"63f4d84f-e4cb-0e1e-d661-21bec7f470e0","type":"Group","parameters":{"sizeMode":"contentSize","mounted":false,"boxShadowEnabled":false},"ports":[],"children":[{"id":"7bf45929-7cf3-fca7-7f70-9ef50c5f0837","type":"Text","parameters":{},"ports":[],"children":[]},{"id":"592666e5-0a6b-3216-16a1-8afe4b5d53e3","type":"Text","parameters":{},"ports":[],"children":[]}]},{"id":"5337e9f3-ee5e-6032-8537-a15f16bf6fdd","type":"Text","parameters":{"text":"Hình ảnh hiện trường:","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"911f6b92-6a10-3ba3-819b-f36dcac7b430","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"sizeMode":"contentSize","flexWrap":"wrap","rowGap":{"value":8,"unit":"px"},"alignContent":"center"},"ports":[],"children":[{"id":"4815c4c8-defe-d0ac-a514-66e3913f6dad","type":"For Each","parameters":{"template":"/page/Chi tiet yeu cau/ImageYeuCau"},"ports":[],"children":[]},{"id":"66b1d760-f32d-c0df-c9b8-ada0f0e96116","type":"/page/Chi tiet yeu cau/ModalImage","parameters":{},"ports":[],"children":[]}]}]}]}]},{"id":"a9a8348d-c230-2622-9305-6e2925e18f22","type":"Group","parameters":{"backgroundColor":"transparent","position":"relative","sizeMode":"explicit","borderLeftStyle":"solid","borderLeftWidth":{"value":1,"unit":"px"},"borderLeftColor":"Border","paddingTop":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"e18ba79b-8247-54d2-a201-6a4e503e7964","type":"/component/MapboxYeuCau","parameters":{},"ports":[],"children":[]}]}]}]},{"id":"96a4dd5c-8b30-60db-0adc-73b73e51d560","type":"PageInputs","parameters":{"pathParams":"id"},"ports":[],"children":[]},{"id":"61dd4a2f-fb36-f354-c514-3115137aa46e","type":"/#Logic/GetChiTietYeuCau","parameters":{},"ports":[],"children":[]},{"id":"ba2b14ec-5747-0b30-6a93-2e86a100c267","type":"JavaScriptFunction","parameters":{"functionScript":"const data = Inputs.data\r\n\r\nif (!data) return\r\n\r\nOutputs.FullName = data?.FullName\r\nOutputs.RequestDescription = data?.RequestDescription;\r\nOutputs.PeopleCount = data?.PeopleCount;\r\nOutputs.NeedWater = data?.NeedWater;\r\nOutputs.NeedFood = data?.NeedFood;\r\nOutputs.NeedMedical = data?.NeedMedical;\r\nOutputs.Location = data?.Location;\r\nOutputs.PhoneNumber = data?.PhoneNumber;\r\nOutputs.Email = data?.Email;\r\nOutputs.Province = data?.Province;\r\nOutputs.District = data?.District;\r\nOutputs.Ward = data?.Ward;\r\nOutputs.Road = data?.Road\r\nOutputs.Amenity = data?.Amenity\r\nOutputs.Disaster = data?.Disaster;\r\nOutputs.DisasterDescription = data?.Disaster?.Description;\r\nOutputs.DamageImage = data?.DamageImage\r\nOutputs.State = data?.State\r\nOutputs.AcceptedBy = data?.AcceptedBy\r\nOutputs.AudioFile = data?.AudioFile\r\n\r\n"},"ports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-FullName","displayName":"FullName","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-RequestDescription","displayName":"RequestDescription","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-PeopleCount","displayName":"PeopleCount","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-NeedWater","displayName":"NeedWater","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-NeedFood","displayName":"NeedFood","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-NeedMedical","displayName":"NeedMedical","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Location","displayName":"Location","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-PhoneNumber","displayName":"PhoneNumber","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Email","displayName":"Email","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Province","displayName":"Province","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-District","displayName":"District","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Ward","displayName":"Ward","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-Road","displayName":"Road","plug":"output","type":"*","group":"Outputs","index":17},{"name":"out-Amenity","displayName":"Amenity","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-Disaster","displayName":"Disaster","plug":"output","type":"*","group":"Outputs","index":19},{"name":"out-DisasterDescription","displayName":"DisasterDescription","plug":"output","type":"*","group":"Outputs","index":20},{"name":"out-DamageImage","displayName":"DamageImage","plug":"output","type":"*","group":"Outputs","index":21},{"name":"out-State","displayName":"State","plug":"output","type":"*","group":"Outputs","index":22},{"name":"out-AcceptedBy","displayName":"AcceptedBy","plug":"output","type":"*","group":"Outputs","index":23},{"name":"out-AudioFile","displayName":"AudioFile","plug":"output","type":"*","group":"Outputs","index":24}],"children":[]},{"id":"da8f0ccc-9764-fbcf-59d7-518e41ca69f3","type":"JavaScriptFunction","parameters":{"functionScript":"const provinceName = Inputs.Province?.FullName || \"\"\r\nconst districtName = Inputs.District?.FullName || \"\"\r\nconst wardName = Inputs.Ward?.FullName || \"\"\r\nconst road = Inputs.Road || \"\"\r\nconst amenity = Inputs.Amenity || \"\"\r\n\r\nconst parts = [];\r\n\r\nif (road) parts.push(road);\r\nif (amenity) parts.push(amenity);\r\nif (wardName) parts.push(wardName);\r\nif (districtName) parts.push(districtName);\r\nif (provinceName) parts.push(provinceName);\r\n\r\nif (parts.length > 0) {\r\n    const address = `${parts.join(\", \")}`; // Ghép các phần tử không rỗng\r\n    Outputs.Address = address\r\n}\r\n"},"ports":[{"name":"in-Province","displayName":"Province","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-District","displayName":"District","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Ward","displayName":"Ward","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Road","displayName":"Road","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Amenity","displayName":"Amenity","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Address","displayName":"Address","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"cbedd846-22f2-8bc8-6e66-343c8807ea3b","type":"net.noodl.externallink","parameters":{"link":""},"ports":[],"children":[]},{"id":"424a81ef-a8c0-5abc-2c54-6846e051e96f","type":"Expression","parameters":{"expression":"\"tel:\" + phone"},"ports":[],"children":[]},{"id":"1c7d4150-fc9a-e8d8-8b4d-a7c6b8695094","type":"Expression","parameters":{"expression":"\"mailto:\" + email"},"ports":[],"children":[]},{"id":"3596acac-9348-c2f2-350b-b9eb472d7d52","type":"net.noodl.externallink","parameters":{"link":""},"ports":[],"children":[]},{"id":"03a9307a-5a8a-ba0b-3cdf-de57600b7547","type":"RouterNavigate","parameters":{"router":"Main","target":"/page/Yeu cau"},"ports":[],"children":[]},{"id":"c56f251d-380d-61d5-fe3c-b48efff3fb85","type":"Expression","parameters":{"expression":"Location.lat"},"ports":[],"children":[]},{"id":"c57c999f-fa10-fc05-bb32-b57e505534c0","type":"Expression","parameters":{"expression":"Location.lng"},"ports":[],"children":[]},{"id":"7f15ca93-cb2b-68ba-9182-f05355f563da","type":"JavaScriptFunction","parameters":{"functionScript":"const state = Inputs.state || false\r\nconst AcceptedBy = Inputs.AcceptedBy\r\n\r\nOutputs.ChuaHoTro = false;\r\nOutputs.DangHoTro = false;\r\nOutputs.DaHoTro = false;\r\n\r\nif (!state && AcceptedBy === null) {\r\n    Outputs.ChuaHoTro = true;\r\n    return\r\n} else if (!state && AcceptedBy !== null) {\r\n    Outputs.DangHoTro = true;\r\n    return\r\n} else if (state) {\r\n    Outputs.DaHoTro = true;\r\n    return;\r\n}"},"ports":[{"name":"in-state","displayName":"state","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-AcceptedBy","displayName":"AcceptedBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-ChuaHoTro","displayName":"ChuaHoTro","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-DangHoTro","displayName":"DangHoTro","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-DaHoTro","displayName":"DaHoTro","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"a070db3d-c273-e627-f1d7-6d84266a98ef","type":"Expression","parameters":{"expression":"Disaster.Name || ''"},"ports":[],"children":[]},{"id":"37855c84-6c1c-b935-e37d-23ebe490e5fc","type":"/#Logic/UpdateViTriYeuCauChiTiet","parameters":{},"ports":[],"children":[]},{"id":"de975ccc-9e8d-abad-004e-ae80bfd77aca","type":"RouterNavigate","parameters":{"router":"Main","target":"/page/Home"},"ports":[],"children":[]},{"id":"16a25264-5b7e-d257-82fe-a27a4f02fc75","type":"Expression","parameters":{"expression":"baseApi + AudioFile[0].url"},"ports":[],"children":[]},{"id":"94f9ff13-5ce5-0ef3-c660-cf9a328b1331","type":"/#Logic/State API","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"61dd4a2f-fb36-f354-c514-3115137aa46e","sourcePort":"data","targetId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","targetPort":"in-data"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-FullName","targetId":"97d86b71-8834-6b4c-76d7-456358ba5f36","targetPort":"text"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Province","targetId":"da8f0ccc-9764-fbcf-59d7-518e41ca69f3","targetPort":"in-Province"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-District","targetId":"da8f0ccc-9764-fbcf-59d7-518e41ca69f3","targetPort":"in-District"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Ward","targetId":"da8f0ccc-9764-fbcf-59d7-518e41ca69f3","targetPort":"in-Ward"},{"sourceId":"da8f0ccc-9764-fbcf-59d7-518e41ca69f3","sourcePort":"out-Address","targetId":"828c858e-50cf-1a6a-2492-d155b4d18c1c","targetPort":"text"},{"sourceId":"424a81ef-a8c0-5abc-2c54-6846e051e96f","sourcePort":"result","targetId":"cbedd846-22f2-8bc8-6e66-343c8807ea3b","targetPort":"link"},{"sourceId":"3fec2de0-c0ee-7306-017f-66e15d62241f","sourcePort":"onClick","targetId":"cbedd846-22f2-8bc8-6e66-343c8807ea3b","targetPort":"do"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-PhoneNumber","targetId":"3fec2de0-c0ee-7306-017f-66e15d62241f","targetPort":"label"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-PhoneNumber","targetId":"424a81ef-a8c0-5abc-2c54-6846e051e96f","targetPort":"phone"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Email","targetId":"d8640156-9c1c-3061-7a16-cb503c7584e1","targetPort":"label"},{"sourceId":"1c7d4150-fc9a-e8d8-8b4d-a7c6b8695094","sourcePort":"result","targetId":"3596acac-9348-c2f2-350b-b9eb472d7d52","targetPort":"link"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Email","targetId":"1c7d4150-fc9a-e8d8-8b4d-a7c6b8695094","targetPort":"email"},{"sourceId":"d8640156-9c1c-3061-7a16-cb503c7584e1","sourcePort":"onClick","targetId":"3596acac-9348-c2f2-350b-b9eb472d7d52","targetPort":"do"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-NeedFood","targetId":"5e677554-fc0b-b103-6643-1d5276dacc3d","targetPort":"checked"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-NeedWater","targetId":"8a3b3a72-a417-dc71-76ee-f84671a36bfe","targetPort":"checked"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-NeedMedical","targetId":"e05b0511-48b6-9c7d-734e-57a54cbfd368","targetPort":"checked"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-NeedWater","targetId":"b7de2d75-85f4-dd8e-c2bc-959d45409191","targetPort":"uncheck"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-NeedFood","targetId":"b7de2d75-85f4-dd8e-c2bc-959d45409191","targetPort":"uncheck"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-NeedMedical","targetId":"b7de2d75-85f4-dd8e-c2bc-959d45409191","targetPort":"uncheck"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-RequestDescription","targetId":"44c882f1-34a8-5446-d50d-256a897f5078","targetPort":"text"},{"sourceId":"0eebaa1f-7a0d-e518-2b81-612cd41f1649","sourcePort":"onClick","targetId":"03a9307a-5a8a-ba0b-3cdf-de57600b7547","targetPort":"navigate"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-DamageImage","targetId":"4815c4c8-defe-d0ac-a514-66e3913f6dad","targetPort":"items"},{"sourceId":"4815c4c8-defe-d0ac-a514-66e3913f6dad","sourcePort":"itemOutputSignal-open","targetId":"66b1d760-f32d-c0df-c9b8-ada0f0e96116","targetPort":"Open"},{"sourceId":"4815c4c8-defe-d0ac-a514-66e3913f6dad","sourcePort":"itemOutput-ImageSubmit","targetId":"66b1d760-f32d-c0df-c9b8-ada0f0e96116","targetPort":"url"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Location","targetId":"c56f251d-380d-61d5-fe3c-b48efff3fb85","targetPort":"Location"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Location","targetId":"c57c999f-fa10-fc05-bb32-b57e505534c0","targetPort":"Location"},{"sourceId":"c57c999f-fa10-fc05-bb32-b57e505534c0","sourcePort":"result","targetId":"592666e5-0a6b-3216-16a1-8afe4b5d53e3","targetPort":"text"},{"sourceId":"c56f251d-380d-61d5-fe3c-b48efff3fb85","sourcePort":"result","targetId":"7bf45929-7cf3-fca7-7f70-9ef50c5f0837","targetPort":"text"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-State","targetId":"7f15ca93-cb2b-68ba-9182-f05355f563da","targetPort":"in-state"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-AcceptedBy","targetId":"7f15ca93-cb2b-68ba-9182-f05355f563da","targetPort":"in-AcceptedBy"},{"sourceId":"7f15ca93-cb2b-68ba-9182-f05355f563da","sourcePort":"out-ChuaHoTro","targetId":"b277d079-3092-81e1-0834-5e2801f750b1","targetPort":"mounted"},{"sourceId":"7f15ca93-cb2b-68ba-9182-f05355f563da","sourcePort":"out-DangHoTro","targetId":"ed4d37bb-7b85-72dd-12e6-c7bb46cd09e1","targetPort":"mounted"},{"sourceId":"7f15ca93-cb2b-68ba-9182-f05355f563da","sourcePort":"out-DaHoTro","targetId":"29af9423-bc0a-6290-e390-df7ab9da33f6","targetPort":"mounted"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-AcceptedBy","targetId":"730138ce-c9e2-0e80-d136-ee5af51cbf60","targetPort":"AcceptedBy"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-AcceptedBy","targetId":"89d5c564-103f-c03e-8015-f899b62b7b88","targetPort":"mounted"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Email","targetId":"dafe309a-b14c-9c44-7db5-a841803776c4","targetPort":"mounted"},{"sourceId":"da8f0ccc-9764-fbcf-59d7-518e41ca69f3","sourcePort":"out-Address","targetId":"660f85ce-e72d-147c-f54f-27cab1f397d5","targetPort":"mounted"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-PhoneNumber","targetId":"a702b3b3-3351-115b-acbc-fa64a18b5b6a","targetPort":"mounted"},{"sourceId":"96a4dd5c-8b30-60db-0adc-73b73e51d560","sourcePort":"pm-id","targetId":"61dd4a2f-fb36-f354-c514-3115137aa46e","targetPort":"id"},{"sourceId":"8d5caea8-3b81-f544-fec5-2d546fc3ab7b","sourcePort":"didMount","targetId":"61dd4a2f-fb36-f354-c514-3115137aa46e","targetPort":"Do"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Disaster","targetId":"a070db3d-c273-e627-f1d7-6d84266a98ef","targetPort":"Disaster"},{"sourceId":"a070db3d-c273-e627-f1d7-6d84266a98ef","sourcePort":"result","targetId":"c6d00859-520f-0e12-a74a-a2fe94657156","targetPort":"text"},{"sourceId":"8d5caea8-3b81-f544-fec5-2d546fc3ab7b","sourcePort":"didMount","targetId":"37855c84-6c1c-b935-e37d-23ebe490e5fc","targetPort":"Do"},{"sourceId":"96a4dd5c-8b30-60db-0adc-73b73e51d560","sourcePort":"pm-id","targetId":"37855c84-6c1c-b935-e37d-23ebe490e5fc","targetPort":"id"},{"sourceId":"61dd4a2f-fb36-f354-c514-3115137aa46e","sourcePort":"Failure","targetId":"de975ccc-9e8d-abad-004e-ae80bfd77aca","targetPort":"navigate"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-DamageImage","targetId":"ea5c55f6-0732-da4d-14d7-b8534727cae3","targetPort":"mounted"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Road","targetId":"da8f0ccc-9764-fbcf-59d7-518e41ca69f3","targetPort":"in-Road"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-Amenity","targetId":"da8f0ccc-9764-fbcf-59d7-518e41ca69f3","targetPort":"in-Amenity"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-AudioFile","targetId":"16a25264-5b7e-d257-82fe-a27a4f02fc75","targetPort":"AudioFile"},{"sourceId":"94f9ff13-5ce5-0ef3-c660-cf9a328b1331","sourcePort":"Image_url","targetId":"16a25264-5b7e-d257-82fe-a27a4f02fc75","targetPort":"baseApi"},{"sourceId":"16a25264-5b7e-d257-82fe-a27a4f02fc75","sourcePort":"result","targetId":"88377381-16f9-17be-a0f4-17526521f430","targetPort":"src"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-AudioFile","targetId":"4e7580db-60fd-60fb-39af-d405509e5710","targetPort":"mounted"},{"sourceId":"ba2b14ec-5747-0b30-6a93-2e86a100c267","sourcePort":"out-PhoneNumber","targetId":"90926acf-a6fb-e090-444b-aceb91019c70","targetPort":"phone"},{"sourceId":"37855c84-6c1c-b935-e37d-23ebe490e5fc","sourcePort":"Success","targetId":"e18ba79b-8247-54d2-a201-6a4e503e7964","targetPort":"Mounted"}],"ports":[],"roots":["8d5caea8-3b81-f544-fec5-2d546fc3ab7b"]},{"name":"/component/TelPhone","nodes":[{"id":"18e753c4-7f41-dbba-435f-9cbcfb397e5a","type":"Group","parameters":{"alignY":"center","alignItems":"flex-start","sizeMode":"contentSize"},"ports":[],"children":[{"id":"06ec83b8-7b8d-ccb9-937a-336ed8ddfa78","type":"Image","parameters":{"src":"https://qr.ithub.vn/?text=tel://0373496609","sizeMode":"explicit","width":{"value":100,"unit":"px"},"height":{"value":100,"unit":"px"}},"ports":[],"children":[]},{"id":"e3a24e13-9081-ea62-1e5c-d70807247d69","type":"Text","parameters":{"text":"Quét QR để gọi","fontSize":{"value":14,"unit":"px"},"fontFamily":"build/build/fonts/Roboto/Roboto-Regular.ttf","color":"Grey - 700","textAlignX":"center"},"ports":[],"children":[]}]},{"id":"52b369b8-ecbf-0f8a-82ef-47412faca0cc","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"29fb8bff-4fe3-36b3-1e16-241e56e127d2","type":"Expression","parameters":{"expression":"\"https://qr.ithub.vn/?text=tel://\" + phone"},"ports":[],"children":[]}],"connections":[{"sourceId":"52b369b8-ecbf-0f8a-82ef-47412faca0cc","sourcePort":"phone","targetId":"29fb8bff-4fe3-36b3-1e16-241e56e127d2","targetPort":"phone"},{"sourceId":"29fb8bff-4fe3-36b3-1e16-241e56e127d2","sourcePort":"result","targetId":"06ec83b8-7b8d-ccb9-937a-336ed8ddfa78","targetPort":"src"},{"sourceId":"52b369b8-ecbf-0f8a-82ef-47412faca0cc","sourcePort":"phone","targetId":"18e753c4-7f41-dbba-435f-9cbcfb397e5a","targetPort":"mounted"}],"ports":[{"name":"phone","type":"boolean","plug":"input","index":1}],"roots":["18e753c4-7f41-dbba-435f-9cbcfb397e5a"]},{"name":"/page/Chi tiet yeu cau/ImageYeuCau","nodes":[{"id":"5237e886-a621-a514-a9d7-978a9a7410d2","type":"Group","parameters":{"backgroundColor":"#E7E7E9","borderRadius":{"value":12,"unit":"px"},"styleCss":"/* background-color: red; */\r\n    cursor: pointer;\r\n","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","sizeMode":"contentSize"},"stateParameters":{"hover":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Danger"}},"ports":[],"children":[{"id":"209d6482-1b2c-8a1d-679c-4d271c8760d8","type":"Image","parameters":{"src":"https://placehold.co/100x100/38BCF8/FFF?text=UniHand","minWidth":{"value":120,"unit":"px"},"minHeight":{"value":120,"unit":"px"},"maxWidth":{"value":120,"unit":"px"},"maxHeight":{"value":120,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","borderRadius":{"value":12,"unit":"px"}},"ports":[],"children":[]}]},{"id":"cefc0fc4-448a-330f-674d-54a85a631a02","type":"Model2","parameters":{"idSource":"foreach","properties":"url"},"ports":[],"children":[]},{"id":"f817cccd-95a0-bc8c-6657-fb93eb492cb0","type":"Expression","parameters":{"expression":"baseApi + url"},"ports":[],"children":[]},{"id":"2d10be4a-01a2-1ac4-80ea-e9a116ca00dd","type":"/#Logic/State API","parameters":{},"ports":[],"children":[]},{"id":"a4d208c0-adfa-fb60-76d8-233469b47cfa","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"2d10be4a-01a2-1ac4-80ea-e9a116ca00dd","sourcePort":"Image_url","targetId":"f817cccd-95a0-bc8c-6657-fb93eb492cb0","targetPort":"baseApi"},{"sourceId":"cefc0fc4-448a-330f-674d-54a85a631a02","sourcePort":"prop-url","targetId":"f817cccd-95a0-bc8c-6657-fb93eb492cb0","targetPort":"url"},{"sourceId":"f817cccd-95a0-bc8c-6657-fb93eb492cb0","sourcePort":"result","targetId":"209d6482-1b2c-8a1d-679c-4d271c8760d8","targetPort":"src"},{"sourceId":"5237e886-a621-a514-a9d7-978a9a7410d2","sourcePort":"onClick","targetId":"a4d208c0-adfa-fb60-76d8-233469b47cfa","targetPort":"open"},{"sourceId":"f817cccd-95a0-bc8c-6657-fb93eb492cb0","sourcePort":"result","targetId":"a4d208c0-adfa-fb60-76d8-233469b47cfa","targetPort":"ImageSubmit"}],"ports":[{"name":"open","type":"signal","plug":"output","index":1},{"name":"ImageSubmit","type":"*","plug":"output","index":2}],"roots":["5237e886-a621-a514-a9d7-978a9a7410d2"]},{"name":"/page/Chi tiet yeu cau/ModalImage","nodes":[{"id":"2d442bc4-a1c8-f5a0-530b-b1550b91e5c5","type":"Group","parameters":{"styleCss":"/* background-color: red; */\r\nz-index: 9","position":"fixed","visible":false},"ports":[],"children":[{"id":"ea0eaeb3-ed6a-eba2-f344-2b4d0e7e70e3","type":"Group","parameters":{"backgroundColor":"#000000A5"},"ports":[],"children":[]},{"id":"0b62301b-e6cc-d1a3-827d-faa329834baa","type":"net.noodl.controls.button","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#999","useIcon":true,"useLabel":false,"iconColor":"Grey - 100","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"marginTop":{"value":12,"unit":"px"},"marginRight":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"e3f0de9c-2207-ebcd-10f0-7f9da60e44eb","type":"Group","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","backgroundColor":"#E7E7E9","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","width":{"value":100,"unit":"%"},"minHeight":{"value":600,"unit":"px"},"maxWidth":{"value":600,"unit":"px"},"minWidth":{"value":600,"unit":"px"},"maxHeight":{"value":600,"unit":"px"}},"ports":[],"children":[{"id":"e9bb6a4f-1d32-789b-d3f9-3f96c5f15e44","type":"Image","parameters":{"src":"https://placehold.co/100x100/38BCF8/FFF?text=UniHand","styleCss":"  object-fit: contain;\r\n    height: 100%;\r\n    width: auto;\r\n","maxHeight":{"value":100,"unit":"%"},"maxWidth":{"value":100,"unit":"%"},"minWidth":{"value":100,"unit":"%"},"minHeight":{"value":100,"unit":"%"}},"ports":[],"children":[]}]}]},{"id":"afe0af75-2db5-f7ef-eace-2136866e62d1","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"1de716c2-7b76-d0b8-0a93-07205bbb3d59","type":"States","parameters":{"states":"open,close","values":"hidden","type-hidden":"boolean","value-open-hidden":true,"value-close-hidden":false,"currentState":"close","type-button label":"string"},"ports":[],"children":[]}],"connections":[{"sourceId":"0b62301b-e6cc-d1a3-827d-faa329834baa","sourcePort":"onClick","targetId":"1de716c2-7b76-d0b8-0a93-07205bbb3d59","targetPort":"to-close"},{"sourceId":"ea0eaeb3-ed6a-eba2-f344-2b4d0e7e70e3","sourcePort":"onClick","targetId":"1de716c2-7b76-d0b8-0a93-07205bbb3d59","targetPort":"to-close"},{"sourceId":"1de716c2-7b76-d0b8-0a93-07205bbb3d59","sourcePort":"hidden","targetId":"2d442bc4-a1c8-f5a0-530b-b1550b91e5c5","targetPort":"visible"},{"sourceId":"afe0af75-2db5-f7ef-eace-2136866e62d1","sourcePort":"Open","targetId":"1de716c2-7b76-d0b8-0a93-07205bbb3d59","targetPort":"to-open"},{"sourceId":"afe0af75-2db5-f7ef-eace-2136866e62d1","sourcePort":"url","targetId":"e9bb6a4f-1d32-789b-d3f9-3f96c5f15e44","targetPort":"src"}],"ports":[{"name":"Open","type":{"name":"signal","allowConnectionsOnly":true},"group":"Go to state","plug":"input","index":5},{"name":"url","type":{"name":"image"},"default":"https://placehold.co/100x100/38BCF8/FFF?text=UniHand","group":"Image","plug":"input","index":6}],"roots":["2d442bc4-a1c8-f5a0-530b-b1550b91e5c5"]},{"name":"/#Logic/GetChiTietYeuCau","nodes":[{"id":"55635dac-76ae-fad1-b791-39212e7f90d9","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"81a37ce5-9917-9c4c-da32-c845b37d3a01","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","type":"REST2","parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif(!DATA) return;\n\nOutputs.DATA = Response.content?.data\nOutputs.Results = Response.DATA;","resource":"","requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\nconst tokenInfo = Inputs.token\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}"},"ports":[],"children":[]},{"id":"81122278-12eb-e509-b44b-aea9de20fad4","type":"/#Logic/CurrentUser","parameters":{},"ports":[],"children":[]},{"id":"7d901341-1639-25bd-7577-2bf6ccf7673a","type":"/#Logic/State API","parameters":{},"ports":[],"children":[]},{"id":"cdfa80fe-e955-471a-51f8-ea438cee83ec","type":"Expression","parameters":{"expression":"baseApi + '/' + id + '?populate=*'"},"ports":[],"children":[]},{"id":"c889561f-a06c-a82e-93d0-a246cac61cd0","type":"/Loading Spinner","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"81122278-12eb-e509-b44b-aea9de20fad4","sourcePort":"token","targetId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","targetPort":"in-token"},{"sourceId":"7d901341-1639-25bd-7577-2bf6ccf7673a","sourcePort":"get_sos","targetId":"cdfa80fe-e955-471a-51f8-ea438cee83ec","targetPort":"baseApi"},{"sourceId":"55635dac-76ae-fad1-b791-39212e7f90d9","sourcePort":"id","targetId":"cdfa80fe-e955-471a-51f8-ea438cee83ec","targetPort":"id"},{"sourceId":"cdfa80fe-e955-471a-51f8-ea438cee83ec","sourcePort":"result","targetId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","targetPort":"resource"},{"sourceId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","sourcePort":"out-DATA","targetId":"81a37ce5-9917-9c4c-da32-c845b37d3a01","targetPort":"data"},{"sourceId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","sourcePort":"success","targetId":"81a37ce5-9917-9c4c-da32-c845b37d3a01","targetPort":"Success"},{"sourceId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","sourcePort":"failure","targetId":"81a37ce5-9917-9c4c-da32-c845b37d3a01","targetPort":"Failure"},{"sourceId":"55635dac-76ae-fad1-b791-39212e7f90d9","sourcePort":"Do","targetId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","targetPort":"fetch"},{"sourceId":"55635dac-76ae-fad1-b791-39212e7f90d9","sourcePort":"Do","targetId":"c889561f-a06c-a82e-93d0-a246cac61cd0","targetPort":"Show"},{"sourceId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","sourcePort":"success","targetId":"c889561f-a06c-a82e-93d0-a246cac61cd0","targetPort":"Hide"},{"sourceId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","sourcePort":"failure","targetId":"c889561f-a06c-a82e-93d0-a246cac61cd0","targetPort":"Hide"},{"sourceId":"1429df6e-1e74-1a18-af4a-a8a03f4e0b91","sourcePort":"out-DATA","targetId":"c889561f-a06c-a82e-93d0-a246cac61cd0","targetPort":"Hide"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"id","type":{"name":"*","editAsType":"string"},"group":"Parameters","plug":"input","index":1},{"name":"data","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/#Logic/UpdateViTriYeuCauChiTiet","nodes":[{"id":"bc6756f1-e56c-62a1-0e06-464f8bd8150a","type":"JavaScriptFunction","parameters":{"functionScript":"const Data = Inputs.Data;\r\nconst ThienTai = Inputs.ThienTai;\r\n\r\nif (Data) {\r\n\r\n    Outputs.ThienTai = Data.Disaster\r\n\r\n    if (Data?.Location?.lat == 0 && Data?.Location?.lat == 0) {\r\n        localStorage.removeItem('locations')\r\n        return\r\n    }\r\n\r\n    const locations = [\r\n        {\r\n            description: Data.FullName,\r\n            phone: Data.PhoneNumber,\r\n            lat: Data.Location?.lat ? parseFloat(Data.Location.lat) : 0,\r\n            lng: Data.Location?.lat ? parseFloat(Data.Location.lng) : 0,\r\n        },\r\n    ];\r\n\r\n    const oldLocations = JSON.parse(localStorage.getItem(\"locations\")) || [];\r\n\r\n    if (JSON.stringify(locations) === JSON.stringify(oldLocations)) {\r\n        Outputs.Success = true;\r\n        return;\r\n    } else {\r\n        localStorage.setItem(\"locations\", JSON.stringify(locations));\r\n        Outputs.Success = true;\r\n        return;\r\n    }\r\n}"},"ports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-ThienTai","displayName":"ThienTai","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-ThienTai","displayName":"ThienTai","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"458b5968-3803-816e-7717-15bc7c6bd6d2","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"d25450a2-96d4-59e8-79b3-d5c9e1e45562","type":"/#Logic/GetChiTietYeuCau","parameters":{},"ports":[],"children":[]},{"id":"318d036b-50cf-50fe-cbe2-908549ff9575","type":"/#Logic/UpdateTinhThienTaiChiTiet","parameters":{},"ports":[],"children":[]},{"id":"6f8e427d-eadd-b929-8282-580c822efbb1","type":"Expression","parameters":{"expression":"ThienTai.documentId"},"ports":[],"children":[]},{"id":"189af79f-207a-82e7-01c4-bf07910940f6","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"ea608c03-4330-eb9e-43c6-5a3dd8e39f8c","type":"And","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"458b5968-3803-816e-7717-15bc7c6bd6d2","sourcePort":"id","targetId":"d25450a2-96d4-59e8-79b3-d5c9e1e45562","targetPort":"id"},{"sourceId":"458b5968-3803-816e-7717-15bc7c6bd6d2","sourcePort":"Do","targetId":"d25450a2-96d4-59e8-79b3-d5c9e1e45562","targetPort":"Do"},{"sourceId":"d25450a2-96d4-59e8-79b3-d5c9e1e45562","sourcePort":"data","targetId":"bc6756f1-e56c-62a1-0e06-464f8bd8150a","targetPort":"in-Data"},{"sourceId":"d25450a2-96d4-59e8-79b3-d5c9e1e45562","sourcePort":"Success","targetId":"bc6756f1-e56c-62a1-0e06-464f8bd8150a","targetPort":"run"},{"sourceId":"d25450a2-96d4-59e8-79b3-d5c9e1e45562","sourcePort":"data","targetId":"bc6756f1-e56c-62a1-0e06-464f8bd8150a","targetPort":"run"},{"sourceId":"6f8e427d-eadd-b929-8282-580c822efbb1","sourcePort":"result","targetId":"318d036b-50cf-50fe-cbe2-908549ff9575","targetPort":"idThienTai"},{"sourceId":"bc6756f1-e56c-62a1-0e06-464f8bd8150a","sourcePort":"out-ThienTai","targetId":"318d036b-50cf-50fe-cbe2-908549ff9575","targetPort":"Do"},{"sourceId":"bc6756f1-e56c-62a1-0e06-464f8bd8150a","sourcePort":"out-ThienTai","targetId":"6f8e427d-eadd-b929-8282-580c822efbb1","targetPort":"ThienTai"},{"sourceId":"ea608c03-4330-eb9e-43c6-5a3dd8e39f8c","sourcePort":"result","targetId":"189af79f-207a-82e7-01c4-bf07910940f6","targetPort":"Success"},{"sourceId":"bc6756f1-e56c-62a1-0e06-464f8bd8150a","sourcePort":"out-Success","targetId":"ea608c03-4330-eb9e-43c6-5a3dd8e39f8c","targetPort":"input 0"},{"sourceId":"318d036b-50cf-50fe-cbe2-908549ff9575","sourcePort":"Success","targetId":"ea608c03-4330-eb9e-43c6-5a3dd8e39f8c","targetPort":"input 1"}],"ports":[{"name":"Success","type":"boolean","plug":"output","index":1},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"id","type":{"name":"*","editAsType":"string"},"group":"Parameters","plug":"input","index":2}],"roots":[]},{"name":"/#Logic/UpdateTinhThienTaiChiTiet","nodes":[{"id":"50ad84f4-533d-c228-e1f6-399ced9d22d2","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","type":"JavaScriptFunction","parameters":{"functionScript":"const data = Inputs.data;\r\n\r\nfunction extractProvinces(data) {\r\n  return data?.Provinces?.map(province => ({\r\n    name: province.FullName,\r\n    location: {\r\n      lat: parseFloat(province.Latitude) || 0,\r\n      lng: parseFloat(province.Longitude) || 0,\r\n    },\r\n  }))\r\n}\r\n\r\nif (data) {\r\n  const provinces = extractProvinces(data);\r\n\r\n  const oldProvinces = JSON.parse(localStorage.getItem(\"provinces\")) || [];\r\n\r\n  if (JSON.stringify(provinces) === JSON.stringify(oldProvinces)) {\r\n    Outputs.Success = true;\r\n    return;\r\n  } else {\r\n    if (provinces !== undefined) {\r\n      localStorage.setItem(\"provinces\", JSON.stringify(provinces));\r\n      Outputs.Success = true;\r\n      return;\r\n    }\r\n  }\r\n}"},"ports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","type":"/#Logic/GetChiTietThienTai","parameters":{},"ports":[],"children":[]},{"id":"c9bace8f-003c-e862-000d-0d46700e9b51","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","sourcePort":"data","targetId":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","targetPort":"run"},{"sourceId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","sourcePort":"Success","targetId":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","targetPort":"run"},{"sourceId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","sourcePort":"data","targetId":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","targetPort":"in-data"},{"sourceId":"50ad84f4-533d-c228-e1f6-399ced9d22d2","sourcePort":"Do","targetId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","targetPort":"Do"},{"sourceId":"50ad84f4-533d-c228-e1f6-399ced9d22d2","sourcePort":"idThienTai","targetId":"b1f738a6-0d3b-2d2d-f304-df25f72e37ff","targetPort":"id"},{"sourceId":"30e2644d-97eb-2e48-51a3-5d75ef2132b6","sourcePort":"out-Success","targetId":"c9bace8f-003c-e862-000d-0d46700e9b51","targetPort":"Success"}],"ports":[{"name":"Success","type":"*","plug":"output","index":1},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"idThienTai","type":{"name":"*","editAsType":"string"},"group":"Parameters","plug":"input","index":2}],"roots":[]}]