[{"name":"/#Logic/TimeAgo","nodes":[{"id":"06c9a51e-4321-4b8a-fd17-31e15535450e","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"e7b4e9e5-bebc-3557-9142-b2ca30c7a942","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"cbed9366-7762-e5d0-a255-f546f8ae98a2","type":"JavaScriptFunction","parameters":{"functionScript":"const date = new Date(Inputs.Date)\r\n\r\nconst now = new Date();\r\n\r\nconst seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\nconst intervals = {\r\n    \"năm\": 31536000,\r\n    \"tháng\": 2592000,\r\n    \"tuần\": 604800,\r\n    \"ngày\": 86400,\r\n    \"giờ\": 3600,\r\n    \"phút\": 60,\r\n    \"giây\": 1,\r\n};\r\nfor (const key in intervals) {\r\n    const interval = intervals[key];\r\n    const count = Math.floor(seconds / interval);\r\n\r\n    if (count >= 1) {\r\n        Outputs.TimeAgo = `${count} ${key}${count > 1 ? \" trước \" : \"\"}`;\r\n        return;\r\n    }\r\n}\r\n\r\nOutputs.TimeAgo = \"bây giờ\";"},"ports":[{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-TimeAgo","displayName":"TimeAgo","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"cbed9366-7762-e5d0-a255-f546f8ae98a2","sourcePort":"out-TimeAgo","targetId":"e7b4e9e5-bebc-3557-9142-b2ca30c7a942","targetPort":"TimeAgo"},{"sourceId":"06c9a51e-4321-4b8a-fd17-31e15535450e","sourcePort":"Date","targetId":"cbed9366-7762-e5d0-a255-f546f8ae98a2","targetPort":"in-Date"}],"ports":[{"name":"TimeAgo","type":"*","plug":"output","index":1},{"name":"Date","type":"*","group":"Inputs","plug":"input","index":1}],"roots":[]}]