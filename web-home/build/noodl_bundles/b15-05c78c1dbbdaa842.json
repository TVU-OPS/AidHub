[{"name":"/Page/post-detail","nodes":[{"id":"13b0a9e9-7a1e-cf99-65ae-dd35d13c9d20","type":"Page","parameters":{"title":"Bài viết","urlPath":"post-detail"},"ports":[],"children":[{"id":"90451060-0810-d7ed-46b7-bd2fae0be001","type":"Group","parameters":{"paddingLeft":{"value":60,"unit":"px"},"paddingRight":{"value":60,"unit":"px"},"scrollEnabled":true,"backgroundColor":"transparent","nativeScroll":true,"scrollBounceEnabled":false,"scrollSnapEnabled":false,"scrollSnapToEveryItem":false,"showScrollbar":false},"ports":[],"children":[{"id":"873543dc-bb63-469e-6ad7-9d7b7ad59233","type":"Group","parameters":{"minWidth":{"value":100,"unit":"%"},"minHeight":{"value":80,"unit":"px"},"backgroundColor":"transparent","maxHeight":{"value":80,"unit":"px"},"flexDirection":"row","alignItems":"center","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"columnGap":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"eecef1c5-8e5b-5470-7b6f-207d49a8b2b8","type":"net.noodl.controls.button","parameters":{"boxShadowEnabled":false,"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"arrow_back_ios_new","codeAsClass":false},"sizeMode":"contentSize","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"alignY":"center","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"1dd10f43-bf6a-0c0b-e349-25f8ea980147","type":"Text","parameters":{"text":"Bài viết","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]}]},{"id":"665d71d7-7d52-8295-9fc9-30598bccdc4d","type":"Group","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"sizeMode":"contentHeight","scrollEnabled":false,"alignItems":"center"},"ports":[],"children":[{"id":"4d642fe6-e5e2-d10e-678b-1b5131208687","type":"Image","parameters":{"sizeMode":"explicit","styleCss":"/* background-color: red; */\r\nobject-fit: cover;","borderRadius":{"value":12,"unit":"px"},"maxHeight":{"value":500,"unit":"px"}},"ports":[],"children":[]}]},{"id":"e8358fde-3e55-d3d0-a3b8-968adbc0adf3","type":"Group","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"scrollEnabled":false,"sizeMode":"contentSize"},"ports":[],"children":[{"id":"1c20084f-df02-2f75-1efb-c99c0da268de","type":"Text","parameters":{"fontSize":{"value":30,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","marginTop":{"value":20,"unit":"px"},"marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"dccee0c7-63f8-57a5-19e5-2fc08217b135","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentSize","columnGap":{"value":12,"unit":"px"},"alignItems":"flex-end"},"ports":[],"children":[{"id":"a8ee1330-283d-d582-62da-8ace7d6c2d2b","type":"Text","parameters":{"sizeMode":"contentSize","color":"Grey - 700","fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]},{"id":"c6c7db24-3f23-a083-859c-64d6943c5eba","type":"Text","parameters":{"sizeMode":"contentSize","color":"Grey - 700","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"32e98e41-0c29-2ba8-e4d4-cc0637ec0f92","type":"Text","parameters":{"sizeMode":"contentSize","color":"Grey - 700","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"3159baee-b943-0f00-8916-cca82470c435","type":"Group","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"scrollEnabled":true,"sizeMode":"contentSize"},"ports":[],"children":[{"id":"d5760cb6-49ed-ff5b-aae7-c14af7a2c59c","type":"module.inlineHtml","parameters":{"html":"<div class=\"content-baiviet\"></div>\r\n\r\n<script>\r\n  // Lấy dữ liệu từ localStorage\r\n  var content = localStorage.getItem(\"content\");\r\n\r\n  // Kiểm tra dữ liệu trước khi gán vào HTML\r\n  if (content && typeof content === \"string\") {\r\n    document.querySelector(\".content-baiviet\").innerHTML = content;\r\n  } else {\r\n    console.warn(\"No valid content found in localStorage.\");\r\n  }\r\n</script>\r\n","runJs":true,"styleCss":"/* background-color: red; */\r\nfont-family: Roboto-regular;\r\n word-break: break-word; "},"ports":[],"children":[]},{"id":"c5a4b40d-44dd-8245-a226-037a2f9790e9","type":"Text","parameters":{},"ports":[],"children":[]}]}]}]},{"id":"d30eb1e2-a2ac-4036-0c06-24c59fb8a6da","type":"PageInputs","parameters":{"pathParams":"id"},"ports":[],"children":[]},{"id":"85004e3d-9665-95eb-efb7-8f58f182448b","type":"RouterNavigate","parameters":{"router":"Main","target":"/Page/post"},"ports":[],"children":[]},{"id":"fb8e16a4-602e-c974-6c46-b3c8e76b3196","type":"/#Logic/GetPostDetail","parameters":{},"ports":[],"children":[]},{"id":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","type":"JavaScriptFunction","parameters":{"functionScript":"const data = Inputs.data\r\n\r\nif (!data) return\r\n\r\nOutputs.Title = data.Title\r\nOutputs.Content = data.Content;\r\nOutputs.Content = data.Content;\r\nOutputs.createdAt = data.createdAt;\r\nOutputs.Author = data.Author;\r\nOutputs.Image = data.Image"},"ports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Title","displayName":"Title","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Content","displayName":"Content","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-createdAt","displayName":"createdAt","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Author","displayName":"Author","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-Image","displayName":"Image","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"25a12c3a-e216-afa6-c043-c4692d7e7027","type":"/#Logic/TimeAgo","parameters":{},"ports":[],"children":[]},{"id":"0096df4d-61d0-f211-f8ba-72b9bd5937bb","type":"/#Logic/FormatDate","parameters":{},"ports":[],"children":[]},{"id":"96775863-fea7-6066-89af-58a488955f73","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.id;\r\n\r\nif (id) {\r\n    Outputs.Id = id;\r\n} else {\r\n    Outputs.Id = getIdFromURL();\r\n}\r\n\r\nfunction getIdFromURL() {\r\n    const currentPath = window.location.pathname;\r\n\r\n    // Regex kiểm tra định dạng: \"/post-detail/:id\"\r\n    const regex = /^\\/post-detail\\/[a-zA-Z0-9]+$/;\r\n\r\n    if (regex.test(currentPath)) {\r\n        const segments = currentPath.split('/');\r\n        return segments[segments.length - 1]; // Lấy phần tử cuối cùng làm ID\r\n    } else {\r\n        return null; // Trả về null nếu không đúng định dạng\r\n    }\r\n}\r\n"},"ports":[{"name":"in-id","displayName":"id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"20bd2f60-8e9d-6e87-e6ff-d8b776c89e89","type":"/#Logic/GetImage","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"fb8e16a4-602e-c974-6c46-b3c8e76b3196","sourcePort":"data","targetId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","targetPort":"in-data"},{"sourceId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","sourcePort":"out-Author","targetId":"a8ee1330-283d-d582-62da-8ace7d6c2d2b","targetPort":"text"},{"sourceId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","sourcePort":"out-Title","targetId":"1c20084f-df02-2f75-1efb-c99c0da268de","targetPort":"text"},{"sourceId":"eecef1c5-8e5b-5470-7b6f-207d49a8b2b8","sourcePort":"onClick","targetId":"85004e3d-9665-95eb-efb7-8f58f182448b","targetPort":"navigate"},{"sourceId":"d30eb1e2-a2ac-4036-0c06-24c59fb8a6da","sourcePort":"pm-id","targetId":"96775863-fea7-6066-89af-58a488955f73","targetPort":"in-id"},{"sourceId":"96775863-fea7-6066-89af-58a488955f73","sourcePort":"out-Id","targetId":"fb8e16a4-602e-c974-6c46-b3c8e76b3196","targetPort":"id"},{"sourceId":"13b0a9e9-7a1e-cf99-65ae-dd35d13c9d20","sourcePort":"didMount","targetId":"fb8e16a4-602e-c974-6c46-b3c8e76b3196","targetPort":"Do"},{"sourceId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","sourcePort":"out-Image","targetId":"20bd2f60-8e9d-6e87-e6ff-d8b776c89e89","targetPort":"Images"},{"sourceId":"20bd2f60-8e9d-6e87-e6ff-d8b776c89e89","sourcePort":"Image 1","targetId":"4d642fe6-e5e2-d10e-678b-1b5131208687","targetPort":"src"},{"sourceId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","sourcePort":"out-createdAt","targetId":"0096df4d-61d0-f211-f8ba-72b9bd5937bb","targetPort":"Date"},{"sourceId":"0096df4d-61d0-f211-f8ba-72b9bd5937bb","sourcePort":"Date","targetId":"c6c7db24-3f23-a083-859c-64d6943c5eba","targetPort":"text"},{"sourceId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","sourcePort":"out-createdAt","targetId":"25a12c3a-e216-afa6-c043-c4692d7e7027","targetPort":"Date"},{"sourceId":"25a12c3a-e216-afa6-c043-c4692d7e7027","sourcePort":"TimeAgo","targetId":"32e98e41-0c29-2ba8-e4d4-cc0637ec0f92","targetPort":"text"}],"ports":[],"roots":["13b0a9e9-7a1e-cf99-65ae-dd35d13c9d20"]},{"name":"/#Logic/GetPostDetail","nodes":[{"id":"c35f9073-4a00-9fb8-4df2-2bbe75ace229","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"bebf81b9-cd52-bee7-6757-034151f9fb2c","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"4629251b-72a6-6225-29e7-41b7e6f01929","type":"REST2","parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif(!DATA) return;\n\nOutputs.DATA = Response.content?.data\nOutputs.Results = Response.DATA;","resource":""},"ports":[],"children":[]},{"id":"697f2a72-bfaa-9be0-0412-f48e0047663b","type":"Expression","parameters":{"expression":"API_URL + '/posts/' + id + '?populate=*'"},"ports":[],"children":[]},{"id":"a012b7c7-27c2-f9c9-29f3-8cb83b8e7a7c","type":"/#Logic/Environment","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"c35f9073-4a00-9fb8-4df2-2bbe75ace229","sourcePort":"id","targetId":"697f2a72-bfaa-9be0-0412-f48e0047663b","targetPort":"id"},{"sourceId":"697f2a72-bfaa-9be0-0412-f48e0047663b","sourcePort":"result","targetId":"4629251b-72a6-6225-29e7-41b7e6f01929","targetPort":"resource"},{"sourceId":"4629251b-72a6-6225-29e7-41b7e6f01929","sourcePort":"out-DATA","targetId":"bebf81b9-cd52-bee7-6757-034151f9fb2c","targetPort":"data"},{"sourceId":"c35f9073-4a00-9fb8-4df2-2bbe75ace229","sourcePort":"Do","targetId":"4629251b-72a6-6225-29e7-41b7e6f01929","targetPort":"fetch"},{"sourceId":"a012b7c7-27c2-f9c9-29f3-8cb83b8e7a7c","sourcePort":"API_URL","targetId":"697f2a72-bfaa-9be0-0412-f48e0047663b","targetPort":"API_URL"}],"ports":[{"name":"Success","type":"*","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"*","plug":"output","index":1},{"name":"id","type":{"name":"*","editAsType":"string"},"group":"Parameters","plug":"input","index":1},{"name":"data","type":"*","plug":"output","index":2}],"roots":[]}]