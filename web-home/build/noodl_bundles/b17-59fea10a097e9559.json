[{"name":"/Page/notifications","nodes":[{"id":"b8742a76-fc60-c4b0-bb90-db9835863487","type":"Page","parameters":{"urlPath":"/notifications","title":"Nhận cứu trợ"},"ports":[],"children":[{"id":"822aa830-73ba-63b2-128c-2cadd8d22a2a","type":"Group","parameters":{"scrollEnabled":true},"ports":[],"children":[{"id":"8715a43d-9b0c-014e-dfab-ef27b6907d78","type":"Group","parameters":{"alignItems":"center","justifyContent":"flex-start","alignX":"center","sizeMode":"contentHeight","flexWrap":"nowrap","flexDirection":"column","boxShadowEnabled":false,"scrollEnabled":false,"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":60,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"e9e887a8-0140-ae3c-cf98-fa0e3f985d06","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":12,"unit":"px"},"sizeMode":"contentSize","alignX":"left"},"ports":[],"children":[{"id":"4ba88913-9ba7-88a9-8aaf-79ca6193670f","type":"Text","parameters":{"text":"Yêu cầu hỗ trợ","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":24,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"16787d82-ae6b-c30c-560f-e4b3eaf1b409","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"alignItems":"center"},"ports":[],"children":[{"id":"74b18107-4030-278e-0e7d-ab02bf0b3fe8","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentSize","flexWrap":"nowrap","columnGap":{"value":12,"unit":"px"},"clip":false,"alignY":"center","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"alignItems":"center","justifyContent":"flex-start","borderRadius":{"value":8,"unit":"px"},"minHeight":{"value":42,"unit":"px"},"position":"relative"},"ports":[],"children":[{"id":"5e441e00-91c8-da19-6995-577ce7689703","type":"net.noodl.controls.textinput","parameters":{"label":"","alignY":"center","borderStyle":"none","placeholder":"Tìm kiếm","sizeMode":"contentHeight","width":{"value":300,"unit":"px"}},"ports":[],"children":[]},{"id":"8bc76146-9f20-1d7b-bb5d-4b489691f8e6","type":"net.noodl.controls.button","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","iconSize":{"value":18,"unit":"px"},"paddingLeft":{"value":2,"unit":"px"},"paddingRight":{"value":2,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"backgroundColor":"Grey - 400","mounted":true,"position":"relative","enabled":true,"blockTouch":false},"stateParameters":{"hover":{"backgroundColor":"Grey - 500","useIcon":true}},"ports":[],"children":[]},{"id":"c2f11cce-c7f2-ea8d-5e94-af686a24b409","type":"net.noodl.controls.button","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"search","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"minWidth":{"value":0,"unit":"px"},"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"iconSize":{"value":22,"unit":"px"},"minHeight":{"value":34,"unit":"px"}},"ports":[],"children":[]}]},{"id":"2a009809-6869-c10c-5489-9943a6d1d8a7","type":"net.noodl.controls.button","parameters":{"label":"Lọc","useIcon":true,"iconIconSource":{"class":"material-icons","code":"filter_list","codeAsClass":false},"backgroundColor":"transparent","color":"Grey - 800","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","iconColor":"Grey - 800","sizeMode":"contentSize","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"minHeight":{"value":42,"unit":"px"}},"stateParameters":{"hover":{"borderColor":"Grey - 900"}},"ports":[],"children":[]}]},{"id":"1061c346-c598-1da7-869a-ab052a8c6753","type":"/Components/MapFilter","parameters":{"Mounted":true},"ports":[],"children":[]},{"id":"dcb43761-593e-9f75-e7e2-6c24fdc9c3cd","type":"Text","parameters":{"text":"Không có dữ liệu","textAlignX":"center","fontSize":{"value":18,"unit":"px"},"marginTop":{"value":32,"unit":"px"},"mounted":false},"ports":[],"children":[]},{"id":"c37b9629-7952-86d2-7770-f853c9c8d96a","type":"Group","parameters":{"mounted":false},"ports":[],"children":[{"id":"c916cb91-39e4-275d-b300-e1712d1186b9","type":"Group","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","borderTopLeftRadius":{"value":12,"unit":"px"},"borderTopRightRadius":{"value":12,"unit":"px"},"marginTop":{"value":16,"unit":"px"},"nativeScroll":false},"ports":[],"children":[{"id":"0137b5d1-2156-fbf0-f81a-57c24ba1c724","type":"/Page/notifications/HeaderSOS","parameters":{},"ports":[],"children":[]},{"id":"1bdd337f-2a90-d6ed-12ef-7b60370fb182","type":"For Each","parameters":{"template":"/Page/notifications/RowSOS","inputMappingScript":"map({\n})\n"},"ports":[],"children":[]}]},{"id":"9b16bbaf-13a1-d74d-03fe-997f9b043589","type":"Group","parameters":{"alignItems":"center","justifyContent":"center","paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"0c6f7084-550a-9192-192e-f0130052c748","type":"/Components/PagesAndRows","parameters":{},"ports":[],"children":[]}]}]},{"id":"16f411f1-c8aa-f115-5da6-29bbea60e05f","type":"/Page/notifications/FilterPopup","parameters":{},"ports":[],"children":[]}]}]}]},{"id":"ac24192c-4e0a-5be2-1733-53529b406cf2","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"4d129e5b-b691-e3e2-834f-b80fa08749d1","type":"/#Logic/GetNotifications","parameters":{},"ports":[],"children":[]},{"id":"67499d23-5b13-04c3-a262-5a032f051e1e","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Page = 0"},"ports":[{"name":"out-Page","displayName":"Page","plug":"output","type":"*","group":"Outputs","index":4}],"children":[]},{"id":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","type":"JavaScriptFunction","parameters":{"functionScript":"const res = Inputs.Response;\r\n\r\nif (!res) {\r\n    Outputs.Failure();\r\n    return;\r\n}\r\n\r\nconst sosRequests = res.map(item => item.SOSRequest);\r\n\r\nconst allEmpty = sosRequests.every(request => \r\n    !request || \r\n    Object.keys(request).length === 0 || \r\n    (Object.keys(request).length === 1 && request.hasOwnProperty('id'))\r\n);\r\n\r\nif (allEmpty) {\r\n    Outputs.HasData = false;\r\n    return;\r\n}\r\n\r\nOutputs.HasData = true;"},"ports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-HasData","displayName":"HasData","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"22af93a3-5502-5a66-88b5-b038c5ae2f5c","type":"/#Logic/CheckAuth","parameters":{},"ports":[],"children":[]},{"id":"d2787c7d-a4fd-e67c-40a6-7fa0485e18a2","type":"PageStackNavigateToPath","parameters":{"path":"/home"},"ports":[],"children":[]},{"id":"9990917c-62ba-2bcb-e5bf-32d0191cec5d","type":"/#Logic/CheckOrganization","parameters":{},"ports":[],"children":[]},{"id":"68db69f1-c098-70df-c723-a36079f523fe","type":"Condition","parameters":{},"ports":[],"children":[]},{"id":"33f370e2-6eb0-5f3b-06dd-b971eea38cf1","type":"JavaScriptFunction","parameters":{"functionScript":"const res = Inputs.Response;\r\nres ? Outputs.Data = res.map(item => item.SOSRequest) : Outputs.Failure();"},"ports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","type":"Expression","parameters":{"expression":"Inputs.Text !== \"\" && Inputs.Text !== null;"},"ports":[],"children":[]},{"id":"f535ec83-d6ae-dc6b-5b6a-bc4d0992b963","type":"/#Logic/CurrentOrganization","parameters":{},"ports":[],"children":[]},{"id":"6373bd8f-0161-e756-fd0a-62c084c97a23","type":"JavaScriptFunction","parameters":{"functionScript":"const jsonString = Inputs.JsonString;\r\n\r\nif (!jsonString) return;\r\n\r\ntry {\r\n    const parsedData = JSON.parse(jsonString);\r\n    if (Array.isArray(parsedData) && parsedData.length > 0) {\r\n        Outputs.Id = parsedData[0].id;\r\n        Outputs.Success();\r\n    } else {\r\n        Outputs.Error();\r\n    }\r\n} catch (error) {\r\n    Outputs.Error();\r\n}"},"ports":[{"name":"in-JsonString","displayName":"JsonString","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Error","displayName":"Error","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"2a009809-6869-c10c-5489-9943a6d1d8a7","sourcePort":"onClick","targetId":"16f411f1-c8aa-f115-5da6-29bbea60e05f","targetPort":"Do"},{"sourceId":"8bc76146-9f20-1d7b-bb5d-4b489691f8e6","sourcePort":"onClick","targetId":"5e441e00-91c8-da19-6995-577ce7689703","targetPort":"clear"},{"sourceId":"5e441e00-91c8-da19-6995-577ce7689703","sourcePort":"onTextChanged","targetId":"8bc76146-9f20-1d7b-bb5d-4b489691f8e6","targetPort":"visible"},{"sourceId":"16f411f1-c8aa-f115-5da6-29bbea60e05f","sourcePort":"Sort","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Sort"},{"sourceId":"16f411f1-c8aa-f115-5da6-29bbea60e05f","sourcePort":"Status","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Status"},{"sourceId":"16f411f1-c8aa-f115-5da6-29bbea60e05f","sourcePort":"Fetch","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Fetch"},{"sourceId":"67499d23-5b13-04c3-a262-5a032f051e1e","sourcePort":"out-Page","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Page"},{"sourceId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","sourcePort":"Total","targetId":"0c6f7084-550a-9192-192e-f0130052c748","targetPort":"TotalCount"},{"sourceId":"5e441e00-91c8-da19-6995-577ce7689703","sourcePort":"onTextChanged","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Keyword"},{"sourceId":"822aa830-73ba-63b2-128c-2cadd8d22a2a","sourcePort":"didMount","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Fetch"},{"sourceId":"b8742a76-fc60-c4b0-bb90-db9835863487","sourcePort":"didMount","targetId":"22af93a3-5502-5a66-88b5-b038c5ae2f5c","targetPort":"Run"},{"sourceId":"22af93a3-5502-5a66-88b5-b038c5ae2f5c","sourcePort":"Success","targetId":"9990917c-62ba-2bcb-e5bf-32d0191cec5d","targetPort":"Run"},{"sourceId":"9990917c-62ba-2bcb-e5bf-32d0191cec5d","sourcePort":"Failure","targetId":"d2787c7d-a4fd-e67c-40a6-7fa0485e18a2","targetPort":"navigate"},{"sourceId":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","sourcePort":"out-HasData","targetId":"68db69f1-c098-70df-c723-a36079f523fe","targetPort":"condition"},{"sourceId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","sourcePort":"Data","targetId":"33f370e2-6eb0-5f3b-06dd-b971eea38cf1","targetPort":"in-Response"},{"sourceId":"33f370e2-6eb0-5f3b-06dd-b971eea38cf1","sourcePort":"out-Data","targetId":"1bdd337f-2a90-d6ed-12ef-7b60370fb182","targetPort":"items"},{"sourceId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","sourcePort":"Data","targetId":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","targetPort":"in-Response"},{"sourceId":"68db69f1-c098-70df-c723-a36079f523fe","sourcePort":"isfalse","targetId":"dcb43761-593e-9f75-e7e2-6c24fdc9c3cd","targetPort":"mounted"},{"sourceId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","sourcePort":"Page","targetId":"0c6f7084-550a-9192-192e-f0130052c748","targetPort":"SelectedPage"},{"sourceId":"5e441e00-91c8-da19-6995-577ce7689703","sourcePort":"onTextChanged","targetId":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","targetPort":"Inputs"},{"sourceId":"c2f11cce-c7f2-ea8d-5e94-af686a24b409","sourcePort":"onClick","targetId":"67499d23-5b13-04c3-a262-5a032f051e1e","targetPort":"run"},{"sourceId":"c2f11cce-c7f2-ea8d-5e94-af686a24b409","sourcePort":"onClick","targetId":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","targetPort":"run"},{"sourceId":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","sourcePort":"isTrueEv","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Fetch"},{"sourceId":"5e441e00-91c8-da19-6995-577ce7689703","sourcePort":"onEnter","targetId":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","targetPort":"run"},{"sourceId":"0c6f7084-550a-9192-192e-f0130052c748","sourcePort":"Skip","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Page"},{"sourceId":"0c6f7084-550a-9192-192e-f0130052c748","sourcePort":"Limit","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Limit"},{"sourceId":"0c6f7084-550a-9192-192e-f0130052c748","sourcePort":"Changed","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Fetch"},{"sourceId":"1061c346-c598-1da7-869a-ab052a8c6753","sourcePort":"ProvinceId","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"ProvinceId"},{"sourceId":"1061c346-c598-1da7-869a-ab052a8c6753","sourcePort":"WardId","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"WardId"},{"sourceId":"1061c346-c598-1da7-869a-ab052a8c6753","sourcePort":"DistrictsId","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"DistrictId"},{"sourceId":"1061c346-c598-1da7-869a-ab052a8c6753","sourcePort":"Changed","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"Fetch"},{"sourceId":"1061c346-c598-1da7-869a-ab052a8c6753","sourcePort":"DisasterId","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"DisasterId"},{"sourceId":"f535ec83-d6ae-dc6b-5b6a-bc4d0992b963","sourcePort":"organization","targetId":"6373bd8f-0161-e756-fd0a-62c084c97a23","targetPort":"in-JsonString"},{"sourceId":"6373bd8f-0161-e756-fd0a-62c084c97a23","sourcePort":"out-Id","targetId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","targetPort":"OrganizationId"},{"sourceId":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","sourcePort":"out-HasData","targetId":"c37b9629-7952-86d2-7770-f853c9c8d96a","targetPort":"mounted"}],"ports":[],"roots":["b8742a76-fc60-c4b0-bb90-db9835863487"]},{"name":"/Page/notifications/HeaderSOS","nodes":[{"id":"590e74b2-595a-c973-5dd8-a57956bc2039","type":"Group","parameters":{"sizeMode":"contentHeight","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#E7E7E9","flexDirection":"row","alignItems":"center","backgroundColor":"Primary","borderTopLeftRadius":{"value":12,"unit":"px"},"borderTopRightRadius":{"value":12,"unit":"px"},"position":"sticky","styleCss":"/* background-color: red; */\r\nz-index: 1"},"ports":[],"children":[{"id":"c572db0a-1322-1dba-176f-4db76999729b","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"width":{"value":120,"unit":"px"}},"ports":[],"children":[{"id":"673c8519-5ac6-d067-fbd6-323450294ee5","type":"Text","parameters":{"text":"Thời gian","textAlignX":"left","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]},{"id":"c45825bd-11ef-d47b-6044-8f6a2c56ba87","type":"Group","parameters":{"alignY":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"alignItems":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"58fd0eae-5628-d69d-0c0b-964c995f71d6","type":"Text","parameters":{"text":"Thông tin ","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]},{"id":"7fd922a0-a56d-acd8-e6fc-525f864911af","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"28a90608-a2c0-ec5d-6eb8-b57013e8ec81","type":"Text","parameters":{"text":"Nhu cầu","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]},{"id":"89d31366-2f78-faad-71f0-e77cb77fb2ef","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"7ba95447-10ff-de50-a6be-c666a8b9b667","type":"Text","parameters":{"text":"Mô tả","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]},{"id":"08c6eedd-95ac-c0e0-ddfa-d48cf7f39bbd","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"0f5225e0-fd66-328b-9fdf-6d47bbdd0573","type":"Text","parameters":{"text":"Địa chỉ","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]},{"id":"c4946cfe-5e49-6934-06ed-f2b23573f0bf","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"7be6c883-77eb-5068-8899-e697fba89751","type":"Text","parameters":{"text":"Trạng thái","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]},{"id":"7385c37d-0d9e-3273-4b55-c30223b7e8a7","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"1964b81f-2e99-a3dc-d87e-41e9541317a1","type":"Text","parameters":{"text":"Thao tác","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]}]}],"connections":[],"ports":[],"roots":["590e74b2-595a-c973-5dd8-a57956bc2039"]},{"name":"/Page/notifications/RowSOS","nodes":[{"id":"538cd804-5e34-3c43-0e85-d5d9a7cbf6c9","type":"Group","parameters":{"sizeMode":"contentHeight","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#E7E7E9","flexDirection":"row","alignItems":"center","styleCss":"/* background-color: red; */\r\ncursor: pointer;\r\n","clip":false,"zIndex":1},"stateParameters":{"hover":{"backgroundColor":"Border"}},"ports":[],"children":[{"id":"75d183ad-18d9-d322-6dc8-19d34899b49b","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"width":{"value":120,"unit":"px"}},"ports":[],"children":[{"id":"48cf5873-bb2e-e6ba-9808-d5948f7e886d","type":"Text","parameters":{"color":"Grey - 700","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"16fa2978-4566-6b56-bef2-1b56d9c64787","type":"Text","parameters":{"fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","color":"Grey - 600"},"ports":[],"children":[]}]},{"id":"35c5f535-92c1-ddf7-1512-4b246ca496ac","type":"Group","parameters":{"alignY":"center","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"alignItems":"flex-start","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight","rowGap":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"8dc421a3-ffdd-6ad7-2420-f4ebcf1bc333","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"backgroundColor":"Danger","borderStyle":"none","borderWidth":{"value":0.2,"unit":"px"},"borderColor":"Notice","visible":true,"alignItems":"center"},"stateParameters":{"hover":{"opacity":0.8}},"ports":[],"children":[{"id":"db54df18-5386-6f73-746a-81742fe18ea4","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"error_outline","codeAsClass":false},"iconColor":"Grey - 100"},"ports":[],"children":[]},{"id":"7203503c-1c46-e4bb-196f-f64e15c0662c","type":"Text","variant":"active","parameters":{"text":"","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"styleCss":"/* background-color: red; */\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 1;\r\n-webkit-box-orient: vertical;\r\nword-break: break-word;","wordBreak":"normal","sizeMode":"contentHeight"},"stateParameters":{"hover":{"textTransform":"none"}},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"30a25244-2b9f-31a4-ea1a-a34c89bbe720","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]},{"id":"3708fa80-89ad-6c42-e695-de5a588fbca9","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"backgroundColor":"transparent","sizeMode":"contentSize","color":"Grey - 700","alignY":"bottom","alignX":"left","minWidth":{"value":0,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","label":"","fontSize":{"value":16,"unit":"px"}},"stateParameters":{"hover":{"color":"#1666FF"}},"ports":[],"children":[]}]},{"id":"84075eef-025b-1d49-6067-fc0ee7d333fa","type":"Group","parameters":{"alignY":"center","alignItems":"flex-start","justifyContent":"center"},"ports":[],"children":[{"id":"d180a0b3-5594-27d3-7456-7da734966495","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":16,"unit":"px"}},"ports":[],"children":[]},{"id":"96d1003c-f558-82dd-5e3d-0d5b13987181","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"ba8fe3d8-0f20-3add-56cc-715a58d40f63","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"a44401d2-0601-cefb-8d93-2f0822600e6f","type":"Text","parameters":{"color":"Grey - 700","text":"","styleCss":"/* background-color: red; */\r\n\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 3;\r\n-webkit-box-orient: vertical;\r\nword-break: break-word;","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"bc95a573-43d6-9064-a59c-1bdee421575d","type":"Group","parameters":{"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"4de25475-a753-8177-5899-95801e31b29c","type":"/Page/notifications/RowSOS/Address","parameters":{},"ports":[],"children":[]}]},{"id":"51305802-6a1a-1983-42ff-5d5c15d2aaee","type":"Group","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"132f50ac-1a5d-841f-22c3-96ec5f351be2","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"backgroundColor":"FBECEC","borderStyle":"solid","borderWidth":{"value":0.2,"unit":"px"},"borderColor":"Notice","visible":true},"ports":[],"children":[{"id":"72f3899f-0851-5c0c-a2cb-48dba8c2d455","type":"Text","variant":"active","parameters":{"text":"Chưa được hỗ trợ","color":"Danger","fontSize":{"value":14,"unit":"px"}},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"ddb3fa23-dbcb-9a07-5f24-00638604ffc9","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"FEF8C3","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Notice"},"ports":[],"children":[{"id":"95b80477-df0d-3978-367a-baee08711cb9","type":"Text","variant":"active","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đang hỗ trợ","color":"A06109"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]},{"id":"d67061b0-4009-b171-c4ab-9ac817dc5de4","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"ECFCCB","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Success"},"ports":[],"children":[{"id":"5dbe03e2-5238-e095-2fcf-4c368c3de892","type":"Text","variant":"active","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đã hỗ trợ"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]}]}]},{"id":"2fadb2ca-7738-c3f3-3ab7-e81888109272","type":"Group","parameters":{"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"80778a03-d52f-427d-94e0-f11a14c7426d","type":"net.noodl.controls.button","parameters":{"label":"Huỷ hỗ trợ","backgroundColor":"Danger","mounted":false,"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"height":{"value":35,"unit":"px"}},"ports":[],"children":[]},{"id":"fae27ffa-6b24-75fa-52d9-0f0231dc7ea4","type":"net.noodl.controls.button","parameters":{"label":"Đã hỗ trợ","backgroundColor":"Primary","mounted":false,"height":{"value":35,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"7b78cf97-b4a9-5018-24ab-4b847624f1cb","type":"net.noodl.controls.button","parameters":{"label":"Nhận hỗ trợ","backgroundColor":"Success","mounted":false,"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"height":{"value":35,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"090e1aca-e56a-b3f5-b116-a2350f18a564","type":"Expression","parameters":{"expression":"Disaster.Name"},"ports":[],"children":[]},{"id":"500ed76f-8a81-ab6e-5759-edb3e60a4e5b","type":"Expression","parameters":{"expression":"\"tel:\" + phone"},"ports":[],"children":[]},{"id":"adce6c2c-b57a-9337-9d06-7471fc206e2f","type":"net.noodl.externallink","parameters":{"link":""},"ports":[],"children":[]},{"id":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","type":"JavaScriptFunction","parameters":{"functionScript":"const state = Inputs.state || false;\r\nconst acceptedBy = Inputs.acceptedBy;\r\n\r\nOutputs.ChuaHoTro = false;\r\nOutputs.DangHoTro = false;\r\nOutputs.DaHoTro = false;\r\n\r\nif (!state && acceptedBy === null) {\r\n    Outputs.ChuaHoTro = true;\r\n    return\r\n} else if (!state && acceptedBy !== null) {\r\n    Outputs.DangHoTro = true;\r\n    return\r\n} else if (state) {\r\n    Outputs.DaHoTro = true;\r\n    return;\r\n}"},"ports":[{"name":"in-state","displayName":"state","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-acceptedBy","displayName":"acceptedBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-ChuaHoTro","displayName":"ChuaHoTro","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-DangHoTro","displayName":"DangHoTro","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-DaHoTro","displayName":"DaHoTro","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"253a783a-5d1c-549f-2c53-0b0190a7f15f","type":"JavaScriptFunction","parameters":{"functionScript":"const thucAn = Inputs.thucAn;\r\nconst nuoc = Inputs.nuoc;\r\nconst yTe = Inputs.yTe;\r\n\r\nif (!thucAn && !nuoc && !yTe) {\r\n    Outputs.result = \"Khác\";\r\n    return\r\n}\r\n\r\n// Tạo mảng chứa các giá trị được chọn\r\nconst selectedItems = [];\r\nif (thucAn) selectedItems.push('Đồ ăn');\r\nif (nuoc) selectedItems.push('Đồ uống');\r\nif (yTe) selectedItems.push('Y tế');\r\n\r\n// Kết hợp các giá trị thành chuỗi\r\nconst result = selectedItems.join(', ');\r\n\r\n// Trả kết quả ra output\r\nOutputs.result = result;\r\n"},"ports":[{"name":"in-thucAn","displayName":"thucAn","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-nuoc","displayName":"nuoc","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-yTe","displayName":"yTe","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"387e4b34-c8f7-1238-389a-b0c2521ed957","type":"Expression","parameters":{"expression":"\"Số lượng: \" + count"},"ports":[],"children":[]},{"id":"38093daa-1818-4c19-ee1e-011cea801b5e","type":"Expression","parameters":{"expression":"Disaster.documentId"},"ports":[],"children":[]},{"id":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","type":"Model2","parameters":{"properties":"id,FullName,RequestDescription,PeopleCount,NeedWater,NeedFood,NeedMedical,PhoneNumber,Email,DamageImage,AudioFile,Province,District,Ward,Disaster,createdAt,Location,AcceptedBy,State,documentId,Road,Amenity","idSource":"foreach"},"ports":[],"children":[]},{"id":"681589f4-237a-bcd0-e85b-1ec2486d77d5","type":"JavaScriptFunction","parameters":{"functionScript":"const parts = [];\r\n\r\nparts.push(\"📌\");\r\nif (Inputs.Amenity) parts.push(Inputs.Amenity);\r\nif (Inputs.Road) parts.push(Inputs.Road);\r\nif (Inputs.Ward?.FullName) parts.push(Inputs.Ward.FullName);\r\nif (Inputs.District?.FullName) parts.push(Inputs.District.FullName);\r\nif (Inputs.Province?.FullName) parts.push(Inputs.Province.FullName);\r\n\r\nOutputs.FullAddress = parts.join(\", \");\r\nOutputs.HasAddress = parts.length > 0;"},"ports":[{"name":"in-Amenity","displayName":"Amenity","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Road","displayName":"Road","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Ward","displayName":"Ward","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-District","displayName":"District","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Province","displayName":"Province","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-FullAddress","displayName":"FullAddress","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-HasAddress","displayName":"HasAddress","plug":"output","type":"*","group":"Outputs","index":10}],"children":[]},{"id":"a788c1ab-88cf-e2b3-09fd-520f69ceb729","type":"/#Logic/FormatDate","parameters":{},"ports":[],"children":[]},{"id":"8d0fcc08-57c4-f018-bd9f-8dd4c4344e21","type":"/#Logic/TimeAgo","parameters":{},"ports":[],"children":[]},{"id":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","type":"/#Logic/AcceptRequest","parameters":{},"ports":[],"children":[]},{"id":"9505c8ff-ee70-192a-ab59-8a7ca5ef5e29","type":"/#Logic/CurrentOrganization","parameters":{},"ports":[],"children":[]},{"id":"5d19ebeb-4bf2-75da-0417-f5f719268708","type":"JavaScriptFunction","parameters":{"functionScript":"const jsonString = Inputs.JsonString;\r\n\r\nif (!jsonString) return;\r\n\r\ntry {\r\n    const parsedData = JSON.parse(jsonString);\r\n    if (Array.isArray(parsedData) && parsedData.length > 0) {\r\n        Outputs.Id = parsedData[0].id;\r\n        Outputs.Success();\r\n    } else {\r\n        Outputs.Error();\r\n    }\r\n} catch (error) {\r\n    Outputs.Error();\r\n}"},"ports":[{"name":"in-JsonString","displayName":"JsonString","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Error","displayName":"Error","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"1f3559df-4f01-45a5-f2a1-1006c5de83d6","type":"RouterNavigate","parameters":{"router":"Main","target":"/Page/notifications-detail"},"ports":[],"children":[]}],"connections":[{"sourceId":"090e1aca-e56a-b3f5-b116-a2350f18a564","sourcePort":"result","targetId":"8dc421a3-ffdd-6ad7-2420-f4ebcf1bc333","targetPort":"mounted"},{"sourceId":"090e1aca-e56a-b3f5-b116-a2350f18a564","sourcePort":"result","targetId":"7203503c-1c46-e4bb-196f-f64e15c0662c","targetPort":"text"},{"sourceId":"500ed76f-8a81-ab6e-5759-edb3e60a4e5b","sourcePort":"result","targetId":"adce6c2c-b57a-9337-9d06-7471fc206e2f","targetPort":"link"},{"sourceId":"3708fa80-89ad-6c42-e695-de5a588fbca9","sourcePort":"onClick","targetId":"adce6c2c-b57a-9337-9d06-7471fc206e2f","targetPort":"do"},{"sourceId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","sourcePort":"out-ChuaHoTro","targetId":"132f50ac-1a5d-841f-22c3-96ec5f351be2","targetPort":"mounted"},{"sourceId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","sourcePort":"out-DaHoTro","targetId":"d67061b0-4009-b171-c4ab-9ac817dc5de4","targetPort":"mounted"},{"sourceId":"253a783a-5d1c-549f-2c53-0b0190a7f15f","sourcePort":"out-result","targetId":"d180a0b3-5594-27d3-7456-7da734966495","targetPort":"text"},{"sourceId":"387e4b34-c8f7-1238-389a-b0c2521ed957","sourcePort":"result","targetId":"96d1003c-f558-82dd-5e3d-0d5b13987181","targetPort":"text"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-Disaster","targetId":"38093daa-1818-4c19-ee1e-011cea801b5e","targetPort":"Disaster"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-PeopleCount","targetId":"387e4b34-c8f7-1238-389a-b0c2521ed957","targetPort":"count"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-NeedMedical","targetId":"253a783a-5d1c-549f-2c53-0b0190a7f15f","targetPort":"in-yTe"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-NeedFood","targetId":"253a783a-5d1c-549f-2c53-0b0190a7f15f","targetPort":"in-nuoc"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-NeedFood","targetId":"253a783a-5d1c-549f-2c53-0b0190a7f15f","targetPort":"in-thucAn"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-PhoneNumber","targetId":"3708fa80-89ad-6c42-e695-de5a588fbca9","targetPort":"label"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-PhoneNumber","targetId":"3708fa80-89ad-6c42-e695-de5a588fbca9","targetPort":"mounted"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-State","targetId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","targetPort":"in-state"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-PhoneNumber","targetId":"500ed76f-8a81-ab6e-5759-edb3e60a4e5b","targetPort":"phone"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-Disaster","targetId":"090e1aca-e56a-b3f5-b116-a2350f18a564","targetPort":"Disaster"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-RequestDescription","targetId":"a44401d2-0601-cefb-8d93-2f0822600e6f","targetPort":"text"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-FullName","targetId":"30a25244-2b9f-31a4-ea1a-a34c89bbe720","targetPort":"text"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-AcceptedBy","targetId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","targetPort":"in-acceptedBy"},{"sourceId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","sourcePort":"out-DangHoTro","targetId":"ddb3fa23-dbcb-9a07-5f24-00638604ffc9","targetPort":"mounted"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-Amenity","targetId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","targetPort":"in-Amenity"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-Province","targetId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","targetPort":"in-Province"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-District","targetId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","targetPort":"in-District"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-Ward","targetId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","targetPort":"in-Ward"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-Road","targetId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","targetPort":"in-Road"},{"sourceId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","sourcePort":"out-FullAddress","targetId":"4de25475-a753-8177-5899-95801e31b29c","targetPort":"Address"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-createdAt","targetId":"8d0fcc08-57c4-f018-bd9f-8dd4c4344e21","targetPort":"Date"},{"sourceId":"8d0fcc08-57c4-f018-bd9f-8dd4c4344e21","sourcePort":"TimeAgo","targetId":"16fa2978-4566-6b56-bef2-1b56d9c64787","targetPort":"text"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-createdAt","targetId":"a788c1ab-88cf-e2b3-09fd-520f69ceb729","targetPort":"Date"},{"sourceId":"a788c1ab-88cf-e2b3-09fd-520f69ceb729","sourcePort":"Date","targetId":"48cf5873-bb2e-e6ba-9808-d5948f7e886d","targetPort":"text"},{"sourceId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","sourcePort":"out-ChuaHoTro","targetId":"7b78cf97-b4a9-5018-24ab-4b847624f1cb","targetPort":"mounted"},{"sourceId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","sourcePort":"out-DangHoTro","targetId":"80778a03-d52f-427d-94e0-f11a14c7426d","targetPort":"mounted"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-documentId","targetId":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","targetPort":"DocumentId"},{"sourceId":"9505c8ff-ee70-192a-ab59-8a7ca5ef5e29","sourcePort":"organization","targetId":"5d19ebeb-4bf2-75da-0417-f5f719268708","targetPort":"in-JsonString"},{"sourceId":"5d19ebeb-4bf2-75da-0417-f5f719268708","sourcePort":"out-Id","targetId":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","targetPort":"OrganizationId"},{"sourceId":"7b78cf97-b4a9-5018-24ab-4b847624f1cb","sourcePort":"onClick","targetId":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","targetPort":"Fetch"},{"sourceId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","sourcePort":"out-DangHoTro","targetId":"fae27ffa-6b24-75fa-52d9-0f0231dc7ea4","targetPort":"mounted"},{"sourceId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","sourcePort":"prop-documentId","targetId":"1f3559df-4f01-45a5-f2a1-1006c5de83d6","targetPort":"pm-id"},{"sourceId":"8dc421a3-ffdd-6ad7-2420-f4ebcf1bc333","sourcePort":"onClick","targetId":"1f3559df-4f01-45a5-f2a1-1006c5de83d6","targetPort":"navigate"}],"ports":[],"roots":["538cd804-5e34-3c43-0e85-d5d9a7cbf6c9"]},{"name":"/Page/notifications/RowSOS/Address","nodes":[{"id":"6d26f834-f35e-892b-748f-9328c75c23b9","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"alignItems":"center","marginBottom":{"value":8,"unit":"px"},"mounted":false},"ports":[],"children":[{"id":"3a5a4cd4-439e-f6d1-4232-4c01d287cac4","type":"Text","parameters":{"color":"Grey - 700","text":"","fontSize":{"value":12,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]}]},{"id":"2ecf9520-0c0d-04ed-e788-3bac73305337","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"2ecf9520-0c0d-04ed-e788-3bac73305337","sourcePort":"Address","targetId":"3a5a4cd4-439e-f6d1-4232-4c01d287cac4","targetPort":"text"},{"sourceId":"2ecf9520-0c0d-04ed-e788-3bac73305337","sourcePort":"Address","targetId":"6d26f834-f35e-892b-748f-9328c75c23b9","targetPort":"mounted"}],"ports":[{"name":"Address","type":{"name":"string","multiline":true},"plug":"input","index":1}],"roots":["6d26f834-f35e-892b-748f-9328c75c23b9"]},{"name":"/#Logic/AcceptRequest","nodes":[{"id":"3f2a6b28-a6e6-2583-8359-694a2ce8463d","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"8199ecbe-7b9e-49fe-460d-9f9232f45cc8","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"655de93e-bd8b-4f79-047a-e2c46b464a64","type":"REST2","parameters":{"requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\n\nconst tokenInfo = localStorage.getItem(\"authToken\");\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}\n\nRequest.content = {\n    data :{\n        \"AcceptedBy\" : Inputs.OrganizationId,\n    }\n};\n","responseScript":"Outputs.Response = Response.content.data;","method":"PUT"},"ports":[],"children":[]},{"id":"f1dcab2e-d80e-6cf0-8976-55f26eed38ca","type":"/#Logic/Environment","parameters":{},"ports":[],"children":[]},{"id":"4978d374-375c-1c11-6c10-488ce7583d56","type":"Expression","parameters":{"expression":"API_URL + '/sos-requests/' + DocumentId"},"ports":[],"children":[]}],"connections":[{"sourceId":"3f2a6b28-a6e6-2583-8359-694a2ce8463d","sourcePort":"Fetch","targetId":"655de93e-bd8b-4f79-047a-e2c46b464a64","targetPort":"fetch"},{"sourceId":"655de93e-bd8b-4f79-047a-e2c46b464a64","sourcePort":"success","targetId":"8199ecbe-7b9e-49fe-460d-9f9232f45cc8","targetPort":"Success"},{"sourceId":"655de93e-bd8b-4f79-047a-e2c46b464a64","sourcePort":"failure","targetId":"8199ecbe-7b9e-49fe-460d-9f9232f45cc8","targetPort":"Failure"},{"sourceId":"3f2a6b28-a6e6-2583-8359-694a2ce8463d","sourcePort":"DocumentId","targetId":"4978d374-375c-1c11-6c10-488ce7583d56","targetPort":"DocumentId"},{"sourceId":"f1dcab2e-d80e-6cf0-8976-55f26eed38ca","sourcePort":"API_URL","targetId":"4978d374-375c-1c11-6c10-488ce7583d56","targetPort":"API_URL"},{"sourceId":"4978d374-375c-1c11-6c10-488ce7583d56","sourcePort":"result","targetId":"655de93e-bd8b-4f79-047a-e2c46b464a64","targetPort":"resource"},{"sourceId":"3f2a6b28-a6e6-2583-8359-694a2ce8463d","sourcePort":"OrganizationId","targetId":"655de93e-bd8b-4f79-047a-e2c46b464a64","targetPort":"in-OrganizationId"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Fetch","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"DocumentId","type":{"name":"*","editAsType":"string"},"group":"Parameters","plug":"input","index":1},{"name":"Response","type":"*","plug":"output","index":2},{"name":"OrganizationId","type":"*","group":"Inputs","plug":"input","index":2}],"roots":[]},{"name":"/Page/notifications/FilterPopup","nodes":[{"id":"a9629262-41b0-7781-a502-a8c95c74b259","type":"Group","parameters":{"styleCss":"/* background-color: red; */\r\nz-index: 9","position":"fixed","visible":false},"ports":[],"children":[{"id":"07c04898-15f8-c812-c21f-cbe795a2509e","type":"Group","parameters":{"backgroundColor":"#000000A5"},"ports":[],"children":[]},{"id":"8562f5e1-7a4d-158c-d7b0-20ee6ddb67d3","type":"Group","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","width":{"value":580,"unit":"px"}},"ports":[],"children":[{"id":"b4615dfb-2c9e-8a74-e2a7-564c351e6269","type":"net.noodl.controls.button","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"9f05f469-e84d-b986-29c8-986779252269","type":"Group","parameters":{"alignItems":"flex-start","justifyContent":"flex-start","alignX":"center","sizeMode":"contentHeight","marginTop":{"value":20,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"flexDirection":"column","columnGap":{"value":24,"unit":"px"},"alignY":"bottom","rowGap":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"7f9812ea-f7b6-5c75-a916-73252f1401db","type":"Text","parameters":{"text":"Lọc","fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"8d275f05-b484-3517-fc5d-672e4d3bba48","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"ba3c4755-e6f6-1339-8053-acfd048944a2","type":"net.noodl.controls.options","parameters":{"items":"[\n    {\"Label\":\"Mới nhất\", \"Value\":\"desc\"},\n    {\"Label\":\"Cũ nhất\", \"Value\":\"asc\"},\n]","label":"Lọc","placeholder":"Select","sizeMode":"explicit","mounted":true,"value":"desc"},"ports":[],"children":[]},{"id":"0a171920-cf33-0d50-4ab1-87c70821d941","type":"net.noodl.controls.options","parameters":{"label":"Trạng thái","items":"[\n    {\"Label\":\"Chưa hổ trợ\", \"Value\":\"1\"},\n    {\"Label\":\"Đang hổ trợ\", \"Value\":\"2\"},\n    {\"Label\":\"Đã hổ trợ\", \"Value\":\"3\"}\n]","placeholder":"Select","sizeMode":"explicit"},"ports":[],"children":[]}]},{"id":"c0648e8c-9097-6177-a3b3-b2d87dae0b90","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"40988f1c-f4f1-2c65-049d-2d2f91e3de4e","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-end"},"ports":[],"children":[{"id":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","type":"net.noodl.controls.button","parameters":{"label":"Bỏ bộ lọc","backgroundColor":"Danger"},"ports":[],"children":[]}]}]}]}]},{"id":"540ddfa0-9f26-f70d-26ef-34d784ec709b","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"16c844fc-c23d-ef12-301d-6710f555f023","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","type":"States","parameters":{"states":"open,close","values":"hidden","type-hidden":"boolean","value-open-hidden":true,"value-close-hidden":false,"currentState":"close"},"ports":[],"children":[]},{"id":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.page = 0"},"ports":[{"name":"out-page","displayName":"page","plug":"output","type":"*","group":"Outputs","index":4}],"children":[]},{"id":"2bcd5a96-a4b9-e385-a2ee-6cd76ce77f4d","type":"/#Logic/ReloadPage","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"ba3c4755-e6f6-1339-8053-acfd048944a2","sourcePort":"value","targetId":"16c844fc-c23d-ef12-301d-6710f555f023","targetPort":"Sort"},{"sourceId":"540ddfa0-9f26-f70d-26ef-34d784ec709b","sourcePort":"Do","targetId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","targetPort":"to-open"},{"sourceId":"b4615dfb-2c9e-8a74-e2a7-564c351e6269","sourcePort":"onClick","targetId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","targetPort":"to-close"},{"sourceId":"07c04898-15f8-c812-c21f-cbe795a2509e","sourcePort":"onClick","targetId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","targetPort":"to-close"},{"sourceId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","sourcePort":"hidden","targetId":"a9629262-41b0-7781-a502-a8c95c74b259","targetPort":"visible"},{"sourceId":"0a171920-cf33-0d50-4ab1-87c70821d941","sourcePort":"value","targetId":"16c844fc-c23d-ef12-301d-6710f555f023","targetPort":"Status"},{"sourceId":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","sourcePort":"out-page","targetId":"16c844fc-c23d-ef12-301d-6710f555f023","targetPort":"Page"},{"sourceId":"ba3c4755-e6f6-1339-8053-acfd048944a2","sourcePort":"onChange","targetId":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","targetPort":"run"},{"sourceId":"0a171920-cf33-0d50-4ab1-87c70821d941","sourcePort":"onChange","targetId":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","targetPort":"run"},{"sourceId":"ba3c4755-e6f6-1339-8053-acfd048944a2","sourcePort":"onChange","targetId":"16c844fc-c23d-ef12-301d-6710f555f023","targetPort":"Fetch"},{"sourceId":"0a171920-cf33-0d50-4ab1-87c70821d941","sourcePort":"onChange","targetId":"16c844fc-c23d-ef12-301d-6710f555f023","targetPort":"Fetch"},{"sourceId":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","sourcePort":"onClick","targetId":"16c844fc-c23d-ef12-301d-6710f555f023","targetPort":"Fetch"},{"sourceId":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","sourcePort":"onClick","targetId":"2bcd5a96-a4b9-e385-a2ee-6cd76ce77f4d","targetPort":"Do"},{"sourceId":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","sourcePort":"onClick","targetId":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","targetPort":"run"},{"sourceId":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","sourcePort":"onClick","targetId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","targetPort":"to-close"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Go to state","plug":"input","index":1},{"name":"Sort","type":"string","plug":"output","index":5},{"name":"Fetch","type":{"name":"signal"},"plug":"output","index":8},{"name":"Status","type":"string","plug":"output","index":9},{"name":"Page","type":"*","plug":"output","index":11}],"roots":["a9629262-41b0-7781-a502-a8c95c74b259"]},{"name":"/#Logic/GetNotifications","nodes":[{"id":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"4d8e3140-a506-ce86-8208-9e6b627b8362","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"3bab5905-a471-6593-d86e-38acd41d21e4","type":"JavaScriptFunction","parameters":{"functionScript":"let page = Inputs.Page + 1 || 1;\r\nconst pageSize = Inputs.PageSize || 5;\r\nconst API_URL = Inputs.API_URL;\r\nconst organizationId = Inputs.OrganizationId;\r\nconst keyword = Inputs.Keyword;\r\nconst sort = Inputs.Sort || \"desc\";\r\nconst provinceId = Inputs.ProvinceId;\r\nconst districtId = Inputs.DistrictId;\r\nconst wardId = Inputs.WardId;\r\nconst disasterId = Inputs.DisasterId;\r\nconst statusId = Inputs.Status;\r\n\r\nlet apiUrl = `${API_URL}/notifications`\r\n+ `?filters[SupportOrganization]=${organizationId}`\r\n+ `&populate[SOSRequest][populate]=*`\r\n+ `&pagination[page]=${page}`\r\n+ `&pagination[pageSize]=${pageSize}`\r\n+ `&sort=createdAt:${sort}`;\r\n\r\nfunction createFilters(keyword) {\r\n  if (!keyword || typeof keyword !== \"string\") {\r\n    return;\r\n  }\r\n\r\n  const filters = [\r\n    `filters[$or][1][SOSRequest][FullName][$contains]=${keyword}`,\r\n    `filters[$or][2][SOSRequest][Email][$contains]=${keyword}`,\r\n    `filters[$or][3][SOSRequest][RequestDescription][$contains]=${keyword}`,\r\n    `filters[$or][4][SOSRequest][PhoneNumber][$contains]=${keyword}`,\r\n    `filters[$or][5][SOSRequest][PhoneNumber][$contains]=${keyword}`,\r\n    `filters[$or][6][SOSRequest][Province][FullName][$contains]=${keyword}`,\r\n    `filters[$or][8][SOSRequest][District][FullName][$contains]=${keyword}`,\r\n    `filters[$or][9][SOSRequest][Ward][FullName][$contains]=${keyword}`,\r\n  ];\r\n\r\n  return filters.join(\"&\");\r\n}\r\n\r\nconst apiEndpoint = keyword ? createFilters(keyword) : \"\";\r\n\r\nif (disasterId) {\r\n  apiUrl += `&filters[SOSRequest][Disaster]=${disasterId}`;\r\n}\r\n\r\nif (provinceId) {\r\n  apiUrl += `&filters[SOSRequest][Province]=${provinceId}`;\r\n}\r\n\r\nif (districtId) {\r\n  apiUrl += `&filters[SOSRequest][District]=${districtId}`;\r\n} \r\n\r\nif (wardId) {\r\n  apiUrl += `&filters[SOSRequest][Ward]=${wardId}`;\r\n}\r\n\r\nif (statusId) {\r\n  let filters = [];\r\n  // Chưa hổ trợ\r\n  if (statusId == '1') {\r\n    filters = [\r\n      `filters[SOSRequest][AcceptedBy][$null]=true`\r\n    ];\r\n  } else if (statusId == '2') { //Đang hổ trợ\r\n    filters = [\r\n      `filters[$or][1][SOSRequest][State]=false`,\r\n      `filters[$or][2][SOSRequest][State][$null]=true`,\r\n      `filters[SOSRequest][AcceptedBy][$notNull]=true`\r\n    ];\r\n  } else if (statusId == '3') {  // Đã hổ trợ\r\n    filters = [\r\n      `filters[$or][1][SOSRequest][State]=true`\r\n    ];\r\n  }\r\n\r\n  apiUrl += `&${filters.join(\"&\")}`;\r\n}\r\n\r\nif (apiEndpoint) {\r\n  apiUrl += `&${apiEndpoint}`;\r\n}\r\n\r\nOutputs.API = apiUrl;\r\n"},"ports":[{"name":"in-Page","displayName":"Page","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-PageSize","displayName":"PageSize","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-OrganizationId","displayName":"OrganizationId","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Keyword","displayName":"Keyword","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Sort","displayName":"Sort","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-ProvinceId","displayName":"ProvinceId","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-DistrictId","displayName":"DistrictId","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-WardId","displayName":"WardId","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-DisasterId","displayName":"DisasterId","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-Status","displayName":"Status","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-API","displayName":"API","plug":"output","type":"*","group":"Outputs","index":15}],"children":[]},{"id":"4846a439-9a61-ab99-ca27-ae106afccc07","type":"REST2","parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif (!DATA) return;\n\nOutputs.Pagination = Response.content?.meta?.pagination;\nOutputs.DATA = Response.content?.data;\nOutputs.Results = DATA;","resource":"","requestScript":"const tokenInfo = localStorage.getItem(\"authToken\");\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}"},"ports":[],"children":[]},{"id":"4a754354-b4a5-6a78-aafb-bebe9d957f36","type":"/#Logic/Environment","parameters":{},"ports":[],"children":[]},{"id":"2ac70fd9-46b3-a251-d07b-7b545550656b","type":"/Components/LoadingSpinner","parameters":{},"ports":[],"children":[]},{"id":"d75dde37-b002-7558-8b63-5e08ed31b4b6","type":"/#Logic/GetPaganation","parameters":{},"ports":[],"children":[]},{"id":"23592695-70cf-4c88-c4b3-2b299a6ea075","type":"/#Logic/Environment","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"ProvinceId","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-ProvinceId"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"WardId","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-WardId"},{"sourceId":"4846a439-9a61-ab99-ca27-ae106afccc07","sourcePort":"out-DATA","targetId":"4d8e3140-a506-ce86-8208-9e6b627b8362","targetPort":"Data"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"DistrictId","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-DistrictId"},{"sourceId":"4846a439-9a61-ab99-ca27-ae106afccc07","sourcePort":"success","targetId":"4d8e3140-a506-ce86-8208-9e6b627b8362","targetPort":"Success"},{"sourceId":"4846a439-9a61-ab99-ca27-ae106afccc07","sourcePort":"failure","targetId":"4d8e3140-a506-ce86-8208-9e6b627b8362","targetPort":"Failure"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"Fetch","targetId":"2ac70fd9-46b3-a251-d07b-7b545550656b","targetPort":"Show"},{"sourceId":"4846a439-9a61-ab99-ca27-ae106afccc07","sourcePort":"failure","targetId":"2ac70fd9-46b3-a251-d07b-7b545550656b","targetPort":"Hide"},{"sourceId":"4846a439-9a61-ab99-ca27-ae106afccc07","sourcePort":"success","targetId":"2ac70fd9-46b3-a251-d07b-7b545550656b","targetPort":"Hide"},{"sourceId":"4846a439-9a61-ab99-ca27-ae106afccc07","sourcePort":"out-Pagination","targetId":"d75dde37-b002-7558-8b63-5e08ed31b4b6","targetPort":"Pagination"},{"sourceId":"d75dde37-b002-7558-8b63-5e08ed31b4b6","sourcePort":"page","targetId":"4d8e3140-a506-ce86-8208-9e6b627b8362","targetPort":"Page"},{"sourceId":"d75dde37-b002-7558-8b63-5e08ed31b4b6","sourcePort":"pageSize","targetId":"4d8e3140-a506-ce86-8208-9e6b627b8362","targetPort":"PageSize"},{"sourceId":"d75dde37-b002-7558-8b63-5e08ed31b4b6","sourcePort":"total","targetId":"4d8e3140-a506-ce86-8208-9e6b627b8362","targetPort":"Total"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"Sort","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-Sort"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"Status","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-Status"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"Keyword","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-Keyword"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"Page","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-Page"},{"sourceId":"23592695-70cf-4c88-c4b3-2b299a6ea075","sourcePort":"API_URL","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-API_URL"},{"sourceId":"3bab5905-a471-6593-d86e-38acd41d21e4","sourcePort":"out-API","targetId":"4846a439-9a61-ab99-ca27-ae106afccc07","targetPort":"resource"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"Fetch","targetId":"4846a439-9a61-ab99-ca27-ae106afccc07","targetPort":"fetch"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"Limit","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-PageSize"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"OrganizationId","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-OrganizationId"},{"sourceId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","sourcePort":"DisasterId","targetId":"3bab5905-a471-6593-d86e-38acd41d21e4","targetPort":"in-DisasterId"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Fetch","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"Sort","type":"*","group":"Inputs","plug":"input","index":1},{"name":"Data","type":"*","plug":"output","index":2},{"name":"Status","type":"*","group":"Inputs","plug":"input","index":2},{"name":"Page","type":"*","plug":"output","index":3},{"name":"DisasterId","type":"*","group":"Inputs","plug":"input","index":3},{"name":"PageSize","type":"*","plug":"output","index":4},{"name":"ProvinceId","type":"*","group":"Inputs","plug":"input","index":4},{"name":"Total","type":"*","plug":"output","index":5},{"name":"DistrictId","type":"*","group":"Inputs","plug":"input","index":5},{"name":"WardId","type":"*","group":"Inputs","plug":"input","index":6},{"name":"Keyword","type":"*","group":"Inputs","plug":"input","index":7},{"name":"Page","type":"*","group":"Inputs","plug":"input","index":8},{"name":"Limit","type":"*","group":"Inputs","plug":"input","index":9},{"name":"OrganizationId","type":"*","group":"Inputs","plug":"input","index":10}],"roots":[]}]