[{"name":"/Components/MapFilter","nodes":[{"id":"b37bfb76-8971-960e-65e6-1f7cfe976e70","type":"Group","parameters":{"sizeMode":"explicit","backgroundColor":"transparent","flexDirection":"row","columnGap":{"value":16,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"flexWrap":"nowrap","height":{"value":80,"unit":"px"}},"ports":[],"children":[{"id":"c905f4e1-a16f-0886-b397-de14225a114a","type":"Group","parameters":{},"ports":[],"children":[{"id":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","type":"net.noodl.controls.options","parameters":{"items":"[\n    {\"Label\":\"Tất cả\", \"Value\":\"-1\"},\n]","label":"Thiên tai","placeholder":"Chọn thiên tai đang diễn ra","height":{"value":30,"unit":"px"}},"ports":[],"children":[]},{"id":"4a99ac8a-0035-eeac-5fa2-8ad1e8626c70","type":"Group","parameters":{"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"fd0c50a3-4475-327a-a8d2-de72337d8800","type":"net.noodl.controls.button","parameters":{"height":{"value":25,"unit":"px"},"alignX":"left","label":"Hiện thị tất cả"},"ports":[],"children":[]}]}]},{"id":"29c25eba-4f52-b773-a32b-03e1fe1fd3dc","type":"Group","parameters":{},"ports":[],"children":[{"id":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","type":"net.noodl.controls.options","parameters":{"items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]","placeholder":"Chọn","label":"Tỉnh","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","height":{"value":30,"unit":"px"}},"ports":[],"children":[]},{"id":"a9454cab-bead-77b5-6da6-d49acc423f47","type":"Group","parameters":{"height":{"value":32,"unit":"px"},"flexDirection":"row","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"8dad445d-6f9a-1795-184b-146eb8f628ce","type":"Text","parameters":{"color":"Danger","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":18,"unit":"px"},"text":"Tổng số yêu cầu: 5000","alignY":"center"},"ports":[],"children":[]},{"id":"d30f87e5-846d-15a9-2deb-659fe171a590","type":"net.noodl.controls.button","parameters":{"height":{"value":20,"unit":"px"},"alignX":"left","label":"Huỷ","backgroundColor":"Danger"},"ports":[],"children":[]}]}]},{"id":"81abcd35-ac71-cd7f-bb44-f844ddd9d5bb","type":"Group","parameters":{},"ports":[],"children":[{"id":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","type":"net.noodl.controls.options","parameters":{"placeholder":"Chọn","label":"Huyện","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","enabled":false,"height":{"value":30,"unit":"px"}},"ports":[],"children":[]},{"id":"d09bd80e-78c1-535d-6216-e0b4104fa3bb","type":"Group","parameters":{"height":{"value":32,"unit":"px"},"flexDirection":"row","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"d37d639d-39f2-aecb-db9b-a9626e35ac15","type":"Text","parameters":{"color":"Danger","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":18,"unit":"px"},"text":"Tổng số yêu cầu: 5000","alignY":"center"},"ports":[],"children":[]}]}]},{"id":"bf4e79df-0463-03ac-bb17-510240ac8005","type":"Group","parameters":{},"ports":[],"children":[{"id":"26589e67-6572-90d1-7a44-8338ddf98112","type":"net.noodl.controls.options","parameters":{"label":"Xã","placeholder":"Chọn","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","enabled":false,"height":{"value":30,"unit":"px"}},"ports":[],"children":[]},{"id":"5f0dbca5-8e50-fcd7-269e-8a8825e12ed4","type":"Group","parameters":{"height":{"value":32,"unit":"px"},"flexDirection":"row","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"5220b51d-0d87-fba5-533e-0a115a2454ba","type":"Text","parameters":{"color":"Danger","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":18,"unit":"px"},"text":"Tổng số yêu cầu: 5000","alignY":"center"},"ports":[],"children":[]},{"id":"eb4aa1b6-85d7-02c9-549f-a7e3396ef984","type":"net.noodl.controls.button","parameters":{"height":{"value":32,"unit":"px"},"label":"Chi tiết","mounted":false},"ports":[],"children":[]}]}]}]},{"id":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","type":"/#Logic/GetDisasters","parameters":{},"ports":[],"children":[]},{"id":"d54466c9-b98d-2ca5-da61-34fe105f22e7","type":"JavaScriptFunction","parameters":{"functionScript":"const inputArray = Inputs.ResponseArray;\r\nif(inputArray) {\r\n    Outputs.DropdownOptions = inputArray.map((item, index) => ({\r\n        Label: item.Name,\r\n        Value: item.id.toString()\r\n    }));\r\n}"},"ports":[{"name":"in-ResponseArray","displayName":"ResponseArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DropdownOptions","displayName":"DropdownOptions","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"1727e48c-d1cb-f322-8f4d-44c9ab7deb96","type":"Model2","parameters":{"modelId":"Location","properties":"lat,lng"},"ports":[],"children":[]},{"id":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","type":"/#Logic/ConvertLocation","parameters":{},"ports":[],"children":[]},{"id":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","type":"JavaScriptFunction","parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (response && response.Province && response.District && response.Ward) {\r\n    Outputs.ProvinceId = response.Province.id;\r\n    Outputs.DistrictId = response.District.id;\r\n    Outputs.WardId = response.Ward.id;\r\n} else {\r\n    Outputs.ProvinceId = null;\r\n    Outputs.DistrictId = null;\r\n    Outputs.WardId = null;\r\n}"},"ports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ProvinceId","displayName":"ProvinceId","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-DistrictId","displayName":"DistrictId","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-WardId","displayName":"WardId","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"706dd045-5c75-eca4-5952-245cea7938f8","type":"JavaScriptFunction","parameters":{"functionScript":"const inputArray = Inputs.ResponseArray;\r\nif (inputArray && inputArray.length > 0) {\r\n    const lastItem = inputArray[inputArray.length - 1];\r\n    Outputs.DefautValue = lastItem.id.toString();\r\n}\r\n"},"ports":[{"name":"in-ResponseArray","displayName":"ResponseArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DefautValue","displayName":"DefautValue","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"d9bf7ee1-71a0-3dda-4c7a-4ac51878a69c","type":"/#Logic/GetProvinces","parameters":{},"ports":[],"children":[]},{"id":"151afb10-45e2-a16f-f5ae-98f7afbb0f2e","type":"JavaScriptFunction","parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString()\r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","type":"/#Logic/GetDistricts","parameters":{},"ports":[],"children":[]},{"id":"3ab7f9b4-9fe0-7ee4-00cc-be210fcd194a","type":"JavaScriptFunction","parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"1ba96604-e34e-157f-3aa9-c07830866cca","type":"/#Logic/GetWards","parameters":{},"ports":[],"children":[]},{"id":"f1b4083b-0488-38eb-dc5a-359d82636549","type":"JavaScriptFunction","parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"17fee454-fb1f-1c5f-5c31-20134f6d1e21","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"68294839-8859-2b3c-cb1e-004332e4b5ae","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[]},{"id":"040e9be1-fba3-53ac-9bf9-862196e97dc4","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[]},{"id":"605dfa97-029c-6a61-b6e5-cac2366f3808","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[]},{"id":"cce0e78c-6a98-f73e-1eb9-9be82adb7a2d","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[]},{"id":"05d62c81-cb76-1676-6f92-66680c16c59a","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[]},{"id":"f39cd2af-42f3-1846-cc2a-48a0f46403fe","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Dang = 2"},"ports":[{"name":"out-Dang","displayName":"Dang","plug":"output","type":"*","group":"Outputs","index":4}],"children":[]}],"connections":[{"sourceId":"1727e48c-d1cb-f322-8f4d-44c9ab7deb96","sourcePort":"prop-lat","targetId":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","targetPort":"lat"},{"sourceId":"1727e48c-d1cb-f322-8f4d-44c9ab7deb96","sourcePort":"prop-lng","targetId":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","targetPort":"lng"},{"sourceId":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","sourcePort":"Response","targetId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","targetPort":"in-Response"},{"sourceId":"d9bf7ee1-71a0-3dda-4c7a-4ac51878a69c","sourcePort":"Response","targetId":"151afb10-45e2-a16f-f5ae-98f7afbb0f2e","targetPort":"in-Response"},{"sourceId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","sourcePort":"Response","targetId":"3ab7f9b4-9fe0-7ee4-00cc-be210fcd194a","targetPort":"in-Response"},{"sourceId":"1ba96604-e34e-157f-3aa9-c07830866cca","sourcePort":"Response","targetId":"f1b4083b-0488-38eb-dc5a-359d82636549","targetPort":"in-Response"},{"sourceId":"d54466c9-b98d-2ca5-da61-34fe105f22e7","sourcePort":"out-DropdownOptions","targetId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","targetPort":"items"},{"sourceId":"706dd045-5c75-eca4-5952-245cea7938f8","sourcePort":"out-DefautValue","targetId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","targetPort":"value"},{"sourceId":"b37bfb76-8971-960e-65e6-1f7cfe976e70","sourcePort":"didMount","targetId":"d9bf7ee1-71a0-3dda-4c7a-4ac51878a69c","targetPort":"Fetch"},{"sourceId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","sourcePort":"out-ProvinceId","targetId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","targetPort":"value"},{"sourceId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","sourcePort":"out-DistrictId","targetId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","targetPort":"value"},{"sourceId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","sourcePort":"out-WardId","targetId":"26589e67-6572-90d1-7a44-8338ddf98112","targetPort":"value"},{"sourceId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","sourcePort":"value","targetId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","targetPort":"ProvinceId"},{"sourceId":"151afb10-45e2-a16f-f5ae-98f7afbb0f2e","sourcePort":"out-Options","targetId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","targetPort":"items"},{"sourceId":"3ab7f9b4-9fe0-7ee4-00cc-be210fcd194a","sourcePort":"out-Options","targetId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","targetPort":"items"},{"sourceId":"f1b4083b-0488-38eb-dc5a-359d82636549","sourcePort":"out-Options","targetId":"26589e67-6572-90d1-7a44-8338ddf98112","targetPort":"items"},{"sourceId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","sourcePort":"value","targetId":"1ba96604-e34e-157f-3aa9-c07830866cca","targetPort":"DistrictsId"},{"sourceId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","sourcePort":"out-ProvinceId","targetId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","targetPort":"Fetch"},{"sourceId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","sourcePort":"out-DistrictId","targetId":"1ba96604-e34e-157f-3aa9-c07830866cca","targetPort":"Fetch"},{"sourceId":"17fee454-fb1f-1c5f-5c31-20134f6d1e21","sourcePort":"Mounted","targetId":"b37bfb76-8971-960e-65e6-1f7cfe976e70","targetPort":"mounted"},{"sourceId":"3ab7f9b4-9fe0-7ee4-00cc-be210fcd194a","sourcePort":"out-Options","targetId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","targetPort":"enabled"},{"sourceId":"f1b4083b-0488-38eb-dc5a-359d82636549","sourcePort":"out-Options","targetId":"26589e67-6572-90d1-7a44-8338ddf98112","targetPort":"enabled"},{"sourceId":"b37bfb76-8971-960e-65e6-1f7cfe976e70","sourcePort":"didMount","targetId":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","targetPort":"Fetch"},{"sourceId":"26589e67-6572-90d1-7a44-8338ddf98112","sourcePort":"onChange","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"Changed"},{"sourceId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","sourcePort":"value","targetId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","targetPort":"Value"},{"sourceId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","sourcePort":"Value","targetId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","targetPort":"ProvinceId"},{"sourceId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","sourcePort":"Done","targetId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","targetPort":"Fetch"},{"sourceId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","sourcePort":"value","targetId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","targetPort":"Value"},{"sourceId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","sourcePort":"Value","targetId":"1ba96604-e34e-157f-3aa9-c07830866cca","targetPort":"DistrictsId"},{"sourceId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","sourcePort":"Done","targetId":"1ba96604-e34e-157f-3aa9-c07830866cca","targetPort":"Fetch"},{"sourceId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","sourcePort":"NullValue","targetId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","targetPort":"value"},{"sourceId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","sourcePort":"EmptyArr","targetId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","targetPort":"items"},{"sourceId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","sourcePort":"NullValue","targetId":"26589e67-6572-90d1-7a44-8338ddf98112","targetPort":"value"},{"sourceId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","sourcePort":"EmptyArr","targetId":"26589e67-6572-90d1-7a44-8338ddf98112","targetPort":"items"},{"sourceId":"d30f87e5-846d-15a9-2deb-659fe171a590","sourcePort":"onClick","targetId":"605dfa97-029c-6a61-b6e5-cac2366f3808","targetPort":"Clear"},{"sourceId":"605dfa97-029c-6a61-b6e5-cac2366f3808","sourcePort":"NullValue","targetId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","targetPort":"value"},{"sourceId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","sourcePort":"Value","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"DistrictsId"},{"sourceId":"26589e67-6572-90d1-7a44-8338ddf98112","sourcePort":"value","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"WardId"},{"sourceId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","sourcePort":"value","targetId":"cce0e78c-6a98-f73e-1eb9-9be82adb7a2d","targetPort":"Value"},{"sourceId":"605dfa97-029c-6a61-b6e5-cac2366f3808","sourcePort":"NullValue","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"ProvinceId"},{"sourceId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","sourcePort":"Value","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"ProvinceId"},{"sourceId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","sourcePort":"Done","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"Changed"},{"sourceId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","sourcePort":"Done","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"Changed"},{"sourceId":"605dfa97-029c-6a61-b6e5-cac2366f3808","sourcePort":"Done","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"Changed"},{"sourceId":"cce0e78c-6a98-f73e-1eb9-9be82adb7a2d","sourcePort":"Value","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"DisasterId"},{"sourceId":"cce0e78c-6a98-f73e-1eb9-9be82adb7a2d","sourcePort":"Done","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"Changed"},{"sourceId":"fd0c50a3-4475-327a-a8d2-de72337d8800","sourcePort":"onClick","targetId":"05d62c81-cb76-1676-6f92-66680c16c59a","targetPort":"Clear"},{"sourceId":"05d62c81-cb76-1676-6f92-66680c16c59a","sourcePort":"NullValue","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"DisasterId"},{"sourceId":"05d62c81-cb76-1676-6f92-66680c16c59a","sourcePort":"Done","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"Changed"},{"sourceId":"605dfa97-029c-6a61-b6e5-cac2366f3808","sourcePort":"EmptyArr","targetId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","targetPort":"items"},{"sourceId":"605dfa97-029c-6a61-b6e5-cac2366f3808","sourcePort":"EmptyArr","targetId":"26589e67-6572-90d1-7a44-8338ddf98112","targetPort":"items"},{"sourceId":"605dfa97-029c-6a61-b6e5-cac2366f3808","sourcePort":"NullValue","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"DistrictsId"},{"sourceId":"605dfa97-029c-6a61-b6e5-cac2366f3808","sourcePort":"NullValue","targetId":"68294839-8859-2b3c-cb1e-004332e4b5ae","targetPort":"WardId"},{"sourceId":"05d62c81-cb76-1676-6f92-66680c16c59a","sourcePort":"EmptyArr","targetId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","targetPort":"items"},{"sourceId":"b37bfb76-8971-960e-65e6-1f7cfe976e70","sourcePort":"didMount","targetId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","targetPort":"Do"},{"sourceId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","sourcePort":"onFocus","targetId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","targetPort":"Do"},{"sourceId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","sourcePort":"Data","targetId":"d54466c9-b98d-2ca5-da61-34fe105f22e7","targetPort":"in-ResponseArray"},{"sourceId":"f39cd2af-42f3-1846-cc2a-48a0f46403fe","sourcePort":"out-Dang","targetId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","targetPort":"status"},{"sourceId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","sourcePort":"Data","targetId":"706dd045-5c75-eca4-5952-245cea7938f8","targetPort":"in-ResponseArray"}],"ports":[{"name":"ProvinceId","type":{"name":"number"},"plug":"output","index":1},{"name":"Mounted","type":"boolean","default":true,"group":"General","plug":"input","index":1},{"name":"DistrictsId","type":{"name":"number"},"plug":"output","index":2},{"name":"WardId","type":{"name":"string"},"plug":"output","index":3},{"name":"Changed","type":{"name":"signal"},"plug":"output","index":4},{"name":"DisasterId","type":{"name":"number"},"plug":"output","index":5}],"roots":["b37bfb76-8971-960e-65e6-1f7cfe976e70"]},{"name":"/#Logic/GetDisasters","nodes":[{"id":"d53744f0-d859-970c-8efb-458658cc23e9","type":"/#Logic/Environment","parameters":{},"ports":[],"children":[]},{"id":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","type":"REST2","parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif(!DATA) return;\n\nOutputs.Pagination = Response.content?.meta?.pagination\nOutputs.DATA = Response.content?.data\nOutputs.Results = Response.DATA;"},"ports":[],"children":[]},{"id":"fc48e18e-8803-1f0f-c228-697664bcc5be","type":"JavaScriptFunction","parameters":{"functionScript":"const base_url = Inputs.base_url;\r\n\r\nconst keyword = Inputs.keyword;\r\nconst status = Inputs.status;\r\nconst documentId = Inputs.documentId\r\n\r\nlet api = `${base_url}/disasters?populate=*`;\r\n\r\nif (status) {\r\n  let filters = [];\r\n  if (status == \"1\") {\r\n    filters = [`filters[StartDate][$gt]=${new Date().toISOString()}`];\r\n  }\r\n\r\n  if (status == \"2\") {\r\n    filters = [\r\n      `filters[StartDate][$lte]=${new Date().toISOString()}`,\r\n      `filters[$or][0][EndDate][$null]=true`,\r\n      `filters[$or][1][EndDate][$gte]=${new Date().toISOString()}`,\r\n    ];\r\n  }\r\n\r\n  if (status == \"3\") {\r\n    filters= [\r\n        `filters[EndDate][$lt]=${new Date().toISOString()}`\r\n    ]\r\n  }\r\n\r\n  api += `&${filters.join(\"&\")}`;\r\n}\r\n\r\nif(documentId) {\r\n  api = `/disasters/${documentId}/?populate=*` ;\r\n}\r\n\r\nOutputs.api = api;\r\n"},"ports":[{"name":"in-base_url","displayName":"base_url","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-keyword","displayName":"keyword","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-status","displayName":"status","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-documentId","displayName":"documentId","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-api","displayName":"api","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"e129ce2e-bf7a-9255-9066-102fb4e6ec95","type":"/Components/LoadingSpinner","parameters":{},"ports":[],"children":[]},{"id":"c388a816-8daf-0c6a-129a-96c7775d506b","type":"/#Logic/GetPaganation","parameters":{},"ports":[],"children":[]},{"id":"b7db2d31-8e31-a38c-7331-e0f4a2f33140","type":"/Components/LoadingSpinner","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"fc48e18e-8803-1f0f-c228-697664bcc5be","sourcePort":"out-api","targetId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","targetPort":"resource"},{"sourceId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","sourcePort":"status","targetId":"fc48e18e-8803-1f0f-c228-697664bcc5be","targetPort":"in-status"},{"sourceId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","sourcePort":"out-DATA","targetId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","targetPort":"Data"},{"sourceId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","sourcePort":"success","targetId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","targetPort":"Success"},{"sourceId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","sourcePort":"failure","targetId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","targetPort":"Failure"},{"sourceId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","sourcePort":"Do","targetId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","targetPort":"fetch"},{"sourceId":"d53744f0-d859-970c-8efb-458658cc23e9","sourcePort":"API_URL","targetId":"fc48e18e-8803-1f0f-c228-697664bcc5be","targetPort":"in-base_url"},{"sourceId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","sourcePort":"Do","targetId":"e129ce2e-bf7a-9255-9066-102fb4e6ec95","targetPort":"Show"},{"sourceId":"e129ce2e-bf7a-9255-9066-102fb4e6ec95","sourcePort":"Done","targetId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","targetPort":"fetch"},{"sourceId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","sourcePort":"out-Pagination","targetId":"c388a816-8daf-0c6a-129a-96c7775d506b","targetPort":"Pagination"},{"sourceId":"c388a816-8daf-0c6a-129a-96c7775d506b","sourcePort":"page","targetId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","targetPort":"Page"},{"sourceId":"c388a816-8daf-0c6a-129a-96c7775d506b","sourcePort":"pageSize","targetId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","targetPort":"PageSize"},{"sourceId":"c388a816-8daf-0c6a-129a-96c7775d506b","sourcePort":"total","targetId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","targetPort":"total"},{"sourceId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","sourcePort":"failure","targetId":"b7db2d31-8e31-a38c-7331-e0f4a2f33140","targetPort":"Hide"},{"sourceId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","sourcePort":"success","targetId":"b7db2d31-8e31-a38c-7331-e0f4a2f33140","targetPort":"Hide"},{"sourceId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","sourcePort":"documentId","targetId":"fc48e18e-8803-1f0f-c228-697664bcc5be","targetPort":"in-documentId"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"sort","type":"*","plug":"input","index":1},{"name":"Data","type":"*","plug":"output","index":2},{"name":"status","type":"*","group":"Inputs","plug":"input","index":2},{"name":"Page","type":"*","plug":"output","index":3},{"name":"ProvinceId","type":"*","plug":"input","index":3},{"name":"PageSize","type":"*","plug":"output","index":4},{"name":"keyword","type":"*","plug":"input","index":4},{"name":"total","type":"*","plug":"output","index":5},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":5},{"name":"page","type":"*","plug":"input","index":6},{"name":"limit","type":"*","plug":"input","index":7},{"name":"Clear","type":"*","plug":"input","index":8},{"name":"type","type":"*","plug":"input","index":9},{"name":"documentId","type":"*","group":"Inputs","plug":"input","index":10}],"roots":[]},{"name":"/#Logic/ReloadPage","nodes":[{"id":"892f2587-7059-25b5-44c8-429516984648","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"69d816c7-5f1c-2d2f-7697-373bf23e014a","type":"JavaScriptFunction","parameters":{"functionScript":"window.location.reload();"},"ports":[],"children":[]}],"connections":[{"sourceId":"892f2587-7059-25b5-44c8-429516984648","sourcePort":"Do","targetId":"69d816c7-5f1c-2d2f-7697-373bf23e014a","targetPort":"run"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0}],"roots":[]}]