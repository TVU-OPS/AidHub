{"name":"web-home","components":[{"name":"/#Logic/AcceptRequest","id":"b8c9fa48-b07c-f66b-66d9-72a3dd68ad88","graph":{"connections":[{"fromId":"3f2a6b28-a6e6-2583-8359-694a2ce8463d","fromProperty":"Fetch","toId":"655de93e-bd8b-4f79-047a-e2c46b464a64","toProperty":"fetch"},{"fromId":"655de93e-bd8b-4f79-047a-e2c46b464a64","fromProperty":"success","toId":"8199ecbe-7b9e-49fe-460d-9f9232f45cc8","toProperty":"Success"},{"fromId":"655de93e-bd8b-4f79-047a-e2c46b464a64","fromProperty":"failure","toId":"8199ecbe-7b9e-49fe-460d-9f9232f45cc8","toProperty":"Failure"},{"fromId":"3f2a6b28-a6e6-2583-8359-694a2ce8463d","fromProperty":"DocumentId","toId":"4978d374-375c-1c11-6c10-488ce7583d56","toProperty":"DocumentId"},{"fromId":"f1dcab2e-d80e-6cf0-8976-55f26eed38ca","fromProperty":"API_URL","toId":"4978d374-375c-1c11-6c10-488ce7583d56","toProperty":"API_URL"},{"fromId":"4978d374-375c-1c11-6c10-488ce7583d56","fromProperty":"result","toId":"655de93e-bd8b-4f79-047a-e2c46b464a64","toProperty":"resource"},{"fromId":"3f2a6b28-a6e6-2583-8359-694a2ce8463d","fromProperty":"OrganizationId","toId":"655de93e-bd8b-4f79-047a-e2c46b464a64","toProperty":"in-OrganizationId"},{"fromId":"655de93e-bd8b-4f79-047a-e2c46b464a64","fromProperty":"out-Response","toId":"8199ecbe-7b9e-49fe-460d-9f9232f45cc8","toProperty":"Response"}],"roots":[{"id":"3f2a6b28-a6e6-2583-8359-694a2ce8463d","type":"Component Inputs","x":-76,"y":-21,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"DocumentId","plug":"output","type":{"name":"*"},"index":1},{"name":"OrganizationId","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"8199ecbe-7b9e-49fe-460d-9f9232f45cc8","type":"Component Outputs","x":360,"y":-42,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"655de93e-bd8b-4f79-047a-e2c46b464a64","type":"REST2","x":172.5,"y":-22,"parameters":{"requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\n\nconst tokenInfo = localStorage.getItem(\"authToken\");\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}\n\nRequest.content = {\n    data :{\n        \"AcceptedBy\" : Inputs.OrganizationId,\n    }\n};\n","responseScript":"Outputs.Response = Response.content.data;","method":"PUT"},"ports":[],"dynamicports":[{"name":"in-OrganizationId","displayName":"OrganizationId","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["requestScript","responseScript"]}}},{"id":"f1dcab2e-d80e-6cf0-8976-55f26eed38ca","type":"/#Logic/Environment","x":171.5,"y":-250,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4978d374-375c-1c11-6c10-488ce7583d56","type":"Expression","x":172.5,"y":-178,"parameters":{"expression":"API_URL + '/sos-requests/' + DocumentId"},"ports":[],"dynamicports":[{"group":"Parameters","name":"API_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"DocumentId","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}}],"visualRoots":[]}},{"name":"/#Logic/CancelRequest","id":"4587105d-fb20-0ab3-c65f-362265395baf","graph":{"connections":[{"fromId":"c3305952-12e6-8c4e-c944-0418ba620d64","fromProperty":"Fetch","toId":"bd3a9a95-604e-62d6-2a4d-5667644d9ce2","toProperty":"fetch"},{"fromId":"bd3a9a95-604e-62d6-2a4d-5667644d9ce2","fromProperty":"success","toId":"96030808-dfc7-9db8-5469-eefe0dd8aa6c","toProperty":"Success"},{"fromId":"bd3a9a95-604e-62d6-2a4d-5667644d9ce2","fromProperty":"failure","toId":"96030808-dfc7-9db8-5469-eefe0dd8aa6c","toProperty":"Failure"},{"fromId":"c3305952-12e6-8c4e-c944-0418ba620d64","fromProperty":"DocumentId","toId":"16658cf8-2ff7-0051-4af4-b2c18e6935e8","toProperty":"DocumentId"},{"fromId":"b502d612-4569-5d58-225c-1878c5490de2","fromProperty":"API_URL","toId":"16658cf8-2ff7-0051-4af4-b2c18e6935e8","toProperty":"API_URL"},{"fromId":"16658cf8-2ff7-0051-4af4-b2c18e6935e8","fromProperty":"result","toId":"bd3a9a95-604e-62d6-2a4d-5667644d9ce2","toProperty":"resource"},{"fromId":"bd3a9a95-604e-62d6-2a4d-5667644d9ce2","fromProperty":"out-Response","toId":"96030808-dfc7-9db8-5469-eefe0dd8aa6c","toProperty":"Response"}],"roots":[{"id":"c3305952-12e6-8c4e-c944-0418ba620d64","type":"Component Inputs","x":-77,"y":82,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"DocumentId","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"96030808-dfc7-9db8-5469-eefe0dd8aa6c","type":"Component Outputs","x":359,"y":61,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"bd3a9a95-604e-62d6-2a4d-5667644d9ce2","type":"REST2","x":173,"y":81,"parameters":{"requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\n\nconst tokenInfo = localStorage.getItem(\"authToken\");\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}\n\nRequest.content = {\n    data :{\n        \"AcceptedBy\" : null,\n    }\n};\n","responseScript":"Outputs.Response = Response.content.data;","method":"PUT"},"ports":[],"dynamicports":[{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["requestScript","responseScript"]}}},{"id":"b502d612-4569-5d58-225c-1878c5490de2","type":"/#Logic/Environment","x":170,"y":-147,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"16658cf8-2ff7-0051-4af4-b2c18e6935e8","type":"Expression","x":171,"y":-75,"parameters":{"expression":"API_URL + '/sos-requests/' + DocumentId"},"ports":[],"dynamicports":[{"group":"Parameters","name":"API_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"DocumentId","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}}],"visualRoots":[]}},{"name":"/#Logic/CheckAuth","id":"0150d637-c0ce-dfe1-7949-63accc497fdd","graph":{"connections":[{"fromId":"8e6865ae-117f-3940-91b0-c308ac6c4409","fromProperty":"failure","toId":"d8c06cb2-3fcf-a047-ab9d-7fbb93a4a8d9","toProperty":"run"},{"fromId":"8e6865ae-117f-3940-91b0-c308ac6c4409","fromProperty":"success","toId":"738492e1-4115-7fff-3e33-a2c94c93e4e5","toProperty":"run"},{"fromId":"93ff49a0-14c7-1d6f-243d-b135b8a52c6c","fromProperty":"out-Failure","toId":"807d1d98-33ca-0efd-7f1c-9bd5680ddaa1","toProperty":"isLoggedIn"},{"fromId":"93ff49a0-14c7-1d6f-243d-b135b8a52c6c","fromProperty":"out-Success","toId":"8e6865ae-117f-3940-91b0-c308ac6c4409","toProperty":"fetch"},{"fromId":"84e79e9a-649c-c4cf-dc9a-615618092844","fromProperty":"Run","toId":"93ff49a0-14c7-1d6f-243d-b135b8a52c6c","toProperty":"run"},{"fromId":"8e6865ae-117f-3940-91b0-c308ac6c4409","fromProperty":"failure","toId":"807d1d98-33ca-0efd-7f1c-9bd5680ddaa1","toProperty":"Failure"},{"fromId":"8e6865ae-117f-3940-91b0-c308ac6c4409","fromProperty":"success","toId":"807d1d98-33ca-0efd-7f1c-9bd5680ddaa1","toProperty":"Success"},{"fromId":"d02a33f9-025b-acd8-d51f-c6744adc71af","fromProperty":"API_URL","toId":"251d460c-a165-3454-ac56-739bdbc8da00","toProperty":"API_URL"},{"fromId":"251d460c-a165-3454-ac56-739bdbc8da00","fromProperty":"result","toId":"8e6865ae-117f-3940-91b0-c308ac6c4409","toProperty":"resource"}],"roots":[{"id":"84e79e9a-649c-c4cf-dc9a-615618092844","type":"Component Inputs","x":-1506.5,"y":-479,"parameters":{},"ports":[{"name":"Run","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"8e6865ae-117f-3940-91b0-c308ac6c4409","type":"REST2","label":"Kiểm tra jwt hợp lệ không","x":-1289,"y":-370,"parameters":{"responseScript":"const user = Response.content;\n\nif (user && user.length !== null) {\n   localStorage.setItem('user', JSON.stringify(user));\n} else {\n   localStorage.removeItem('authToken');\n   localStorage.removeItem('user');\n}\n\nOutputs.Results = Response.content;","requestScript":"const authToken = localStorage.getItem(\"authToken\");\n\nRequest.headers = {\n    Authorization: `Bearer ${authToken}`,\n}","resource":""},"ports":[],"dynamicports":[{"name":"out-Results","displayName":"Results","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript","requestScript"]}}},{"id":"d8c06cb2-3fcf-a047-ab9d-7fbb93a4a8d9","type":"JavaScriptFunction","label":"Delete User","x":-1505,"y":-277,"parameters":{"functionScript":"\r\nNoodl.Objects.CurrentUser.token = null;\r\nNoodl.Objects.CurrentUser.user = null;\r\nNoodl.Objects.CurrentUser.authenticated = false;\r\n"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"738492e1-4115-7fff-3e33-a2c94c93e4e5","type":"JavaScriptFunction","label":"Save User","x":-1505,"y":-191,"parameters":{"functionScript":"const tokenInfo = localStorage.getItem('authToken');\r\nconst userInfo = localStorage.getItem('user');\r\n\r\nif (tokenInfo) {\r\n    Noodl.Objects.CurrentUser.token = tokenInfo;\r\n    Noodl.Objects.CurrentUser.user = userInfo;\r\n    Noodl.Objects.CurrentUser.authenticated = true;\r\n}\r\nelse {\r\n    Noodl.Objects.CurrentUser.authenticated = false;\r\n}"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"807d1d98-33ca-0efd-7f1c-9bd5680ddaa1","type":"Component Outputs","x":-1069.6948979591837,"y":-340.7244897959183,"parameters":{},"ports":[{"name":"isLoggedIn","plug":"input","type":{"name":"*"},"index":1},{"name":"Success","plug":"input","type":{"name":"*"},"index":2},{"name":"Failure","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"93ff49a0-14c7-1d6f-243d-b135b8a52c6c","type":"JavaScriptFunction","label":"Check Auth","x":-1285,"y":-479,"parameters":{"functionScript":"const tokenInfo = localStorage.getItem(\"authToken\");\r\n\r\nif (tokenInfo) {\r\n  Outputs.Success = true;\r\n  Noodl.Objects.CurrentUser.isLogged = true;\r\n} else {\r\n  Outputs.Failure = false;\r\n  Noodl.Objects.CurrentUser.isLogged = false;\r\n}","scriptOutputs":[]},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"fb596371-3b11-40f9-d9b7-da0f3d8739c3","type":"Model2","x":-1288,"y":-196,"parameters":{"properties":"token,authenticated,user,isLogged","modelId":"CurrentUser","idSource":"explicit"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-token","displayName":"token","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"token Changed","name":"changed-token","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-authenticated","displayName":"authenticated","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"authenticated Changed","name":"changed-authenticated","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-user","displayName":"user","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"user Changed","name":"changed-user","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-isLogged","displayName":"isLogged","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"isLogged Changed","name":"changed-isLogged","index":14}],"children":[]},{"id":"d02a33f9-025b-acd8-d51f-c6744adc71af","type":"/#Logic/Environment","x":-1699.8446734239074,"y":-417.987019671968,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"251d460c-a165-3454-ac56-739bdbc8da00","type":"Expression","x":-1510.8446734239074,"y":-390.987019671968,"parameters":{"expression":"API_URL + '/users/me'"},"ports":[],"dynamicports":[{"group":"Parameters","name":"API_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}}],"visualRoots":[]}},{"name":"/#Logic/CheckOrganization","id":"9c28483a-4c98-7230-9c9b-eef9f1bfa954","graph":{"connections":[{"fromId":"21ed28fa-6669-1808-3c66-fb02f8997fa0","fromProperty":"Run","toId":"e0a810f7-eaab-7bf7-9a4d-d4e82d9d7a39","toProperty":"run"},{"fromId":"e0a810f7-eaab-7bf7-9a4d-d4e82d9d7a39","fromProperty":"out-Success","toId":"a844a18a-a152-271e-0165-b9c4807380fb","toProperty":"fetch"},{"fromId":"a844a18a-a152-271e-0165-b9c4807380fb","fromProperty":"out-Response","toId":"bb40f3e5-a827-396c-3243-837f9fe1f96c","toProperty":"Response"},{"fromId":"a844a18a-a152-271e-0165-b9c4807380fb","fromProperty":"success","toId":"962415bf-f588-f7d2-e01a-cf48ec5eaedb","toProperty":"run"},{"fromId":"a844a18a-a152-271e-0165-b9c4807380fb","fromProperty":"failure","toId":"d72eeccc-db21-b12e-d0aa-bd4e1579e1f7","toProperty":"run"},{"fromId":"a844a18a-a152-271e-0165-b9c4807380fb","fromProperty":"failure","toId":"bb40f3e5-a827-396c-3243-837f9fe1f96c","toProperty":"Failure"},{"fromId":"a844a18a-a152-271e-0165-b9c4807380fb","fromProperty":"success","toId":"bb40f3e5-a827-396c-3243-837f9fe1f96c","toProperty":"Success"},{"fromId":"962415bf-f588-f7d2-e01a-cf48ec5eaedb","fromProperty":"out-HasOrganization","toId":"bb40f3e5-a827-396c-3243-837f9fe1f96c","toProperty":"HasOrganization"},{"fromId":"3e857c8f-c15f-eb2f-748f-fc5ee9b4554d","fromProperty":"API_URL","toId":"e9861076-92ea-ecd7-ebe3-d020f210483e","toProperty":"in-API_URL"},{"fromId":"e9861076-92ea-ecd7-ebe3-d020f210483e","fromProperty":"out-API","toId":"a844a18a-a152-271e-0165-b9c4807380fb","toProperty":"resource"}],"roots":[{"id":"21ed28fa-6669-1808-3c66-fb02f8997fa0","type":"Component Inputs","x":-154,"y":-77,"parameters":{},"ports":[{"name":"Run","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"bb40f3e5-a827-396c-3243-837f9fe1f96c","type":"Component Outputs","x":274,"y":13,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2},{"name":"HasOrganization","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"e0a810f7-eaab-7bf7-9a4d-d4e82d9d7a39","type":"JavaScriptFunction","label":"Get User Info","x":-153.5,"y":-3,"parameters":{"functionScript":"const userInfo = localStorage.getItem(\"user\");\r\n\r\nif (userInfo) {\r\n  Outputs.Success = true;\r\n} else {\r\n  Outputs.Failure = false;\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"a844a18a-a152-271e-0165-b9c4807380fb","type":"REST2","label":"Has Organization?","x":41,"y":-79.66666666666669,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst organization = Response.content.data;\n\nif (organization && organization.length > 0) {\n   localStorage.setItem('organization', JSON.stringify(organization));\n} else {\n   localStorage.removeItem('organization');\n}\n\nOutputs.Response = Response.content.data;\n"},"ports":[],"dynamicports":[{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["requestScript","responseScript"]}}},{"id":"bb532fa2-8323-5369-a6ba-de9cac6552d7","type":"Model2","x":41.125,"y":47.583333333333314,"parameters":{"modelId":"CurrentOrganization","properties":"organization,hasOrganization"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-organization","displayName":"organization","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"organization Changed","name":"changed-organization","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-hasOrganization","displayName":"hasOrganization","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"hasOrganization Changed","name":"changed-hasOrganization","index":10}],"children":[]},{"id":"962415bf-f588-f7d2-e01a-cf48ec5eaedb","type":"JavaScriptFunction","label":"Save Organization","x":274,"y":-96,"parameters":{"functionScript":"const organizationInfo = localStorage.getItem('organization');\r\n\r\nif (organizationInfo && organizationInfo.length > 0) {\r\n    Noodl.Objects.CurrentOrganization.organization = organizationInfo;\r\n    Noodl.Objects.CurrentOrganization.hasOrganization = true;\r\n    Outputs.HasOrganization = true;\r\n}\r\nelse {\r\n    Noodl.Objects.CurrentOrganization.hasOrganization = false;\r\n    Outputs.HasOrganization = false;\r\n}"},"ports":[],"dynamicports":[{"name":"out-HasOrganization","displayName":"HasOrganization","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d72eeccc-db21-b12e-d0aa-bd4e1579e1f7","type":"JavaScriptFunction","label":"Delete Organization","x":274,"y":-185,"parameters":{"functionScript":"Noodl.Objects.CurrentOrganization.organization = null;\r\nNoodl.Objects.CurrentOrganization.hasOrganization = false;\r\n"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"3e857c8f-c15f-eb2f-748f-fc5ee9b4554d","type":"/#Logic/Environment","x":40.73214285714289,"y":-253.29761904761904,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"e9861076-92ea-ecd7-ebe3-d020f210483e","type":"JavaScriptFunction","x":40.73214285714289,"y":-176.29761904761904,"parameters":{"functionScript":"const user = localStorage.getItem(\"user\");\r\nconst userInfo = JSON.parse(user);\r\n\r\nconst API_URL = Inputs.API_URL;\r\n\r\nOutputs.API = API_URL\r\n    + '/support-organizations?filters[user]='\r\n    + userInfo?.id;"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-API","displayName":"API","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/ConvertLocation","id":"4f6f7c71-5d74-d79a-2db4-1dbe19a43eef","graph":{"connections":[{"fromId":"06da201c-3b06-2bfe-e001-b8f26aa425bd","fromProperty":"API_URL","toId":"bd39c70e-2eb9-07a1-207a-d90e2e2784f4","toProperty":"in-API_URL"},{"fromId":"3f03db13-c098-9055-6e6a-3f1f6b9de726","fromProperty":"failure","toId":"29c72500-633b-9ccc-7e88-9b283acb290f","toProperty":"Success"},{"fromId":"3f03db13-c098-9055-6e6a-3f1f6b9de726","fromProperty":"success","toId":"29c72500-633b-9ccc-7e88-9b283acb290f","toProperty":"Success"},{"fromId":"e6bc6774-2bb4-5a1b-b908-bd18a8c97efb","fromProperty":"Fetch","toId":"3f03db13-c098-9055-6e6a-3f1f6b9de726","toProperty":"fetch"},{"fromId":"bd39c70e-2eb9-07a1-207a-d90e2e2784f4","fromProperty":"out-URL","toId":"3f03db13-c098-9055-6e6a-3f1f6b9de726","toProperty":"resource"},{"fromId":"e6bc6774-2bb4-5a1b-b908-bd18a8c97efb","fromProperty":"lng","toId":"3f03db13-c098-9055-6e6a-3f1f6b9de726","toProperty":"in-lng"},{"fromId":"e6bc6774-2bb4-5a1b-b908-bd18a8c97efb","fromProperty":"lat","toId":"3f03db13-c098-9055-6e6a-3f1f6b9de726","toProperty":"in-lat"},{"fromId":"3f03db13-c098-9055-6e6a-3f1f6b9de726","fromProperty":"out-Response","toId":"29c72500-633b-9ccc-7e88-9b283acb290f","toProperty":"Response"}],"roots":[{"id":"e6bc6774-2bb4-5a1b-b908-bd18a8c97efb","type":"Component Inputs","x":-16,"y":80,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"lng","plug":"output","type":{"name":"*"},"index":1},{"name":"lat","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"29c72500-633b-9ccc-7e88-9b283acb290f","type":"Component Outputs","x":402,"y":79,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"3f03db13-c098-9055-6e6a-3f1f6b9de726","type":"REST2","x":202.5,"y":59,"parameters":{"responseScript":"Outputs.Response = Response.content.data;","requestScript":"Request.content = {\n    data: {\n        \"Location\": {\n            \"lat\": Inputs.lat,\n            \"lng\": Inputs.lng\n        }\n    }\n};","method":"POST"},"ports":[],"dynamicports":[{"name":"in-lat","displayName":"lat","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-lng","displayName":"lng","plug":"input","type":"*","group":"Inputs","index":10},{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript","requestScript"]}}},{"id":"bd39c70e-2eb9-07a1-207a-d90e2e2784f4","type":"JavaScriptFunction","x":202.5,"y":-33,"parameters":{"functionScript":"Outputs.URL = Inputs.API_URL\r\n    + '/convert-location';"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-URL","displayName":"URL","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"06da201c-3b06-2bfe-e001-b8f26aa425bd","type":"/#Logic/Environment","x":201.5,"y":-110,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/CurrentOrganization","id":"29c6035b-7132-8adf-9618-576aa9280911","graph":{"connections":[{"fromId":"6de7d1a0-c5b3-3583-19ff-135be5296d1c","fromProperty":"prop-hasOrganization","toId":"91beac7e-f3af-8339-d120-929cf87d0f15","toProperty":"hasOrganization"},{"fromId":"6de7d1a0-c5b3-3583-19ff-135be5296d1c","fromProperty":"prop-organization","toId":"91beac7e-f3af-8339-d120-929cf87d0f15","toProperty":"organization"}],"roots":[{"id":"91beac7e-f3af-8339-d120-929cf87d0f15","type":"Component Outputs","x":276,"y":0,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"hasOrganization","plug":"input","type":{"name":"*"},"index":2},{"name":"organization","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"6de7d1a0-c5b3-3583-19ff-135be5296d1c","type":"Model2","x":105.5,"y":-14,"parameters":{"modelId":"CurrentOrganization","properties":"hasOrganization,organization"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-hasOrganization","displayName":"hasOrganization","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"hasOrganization Changed","name":"changed-hasOrganization","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-organization","displayName":"organization","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"organization Changed","name":"changed-organization","index":10}],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/CurrentUser","id":"5ed8c5a8-56f0-1225-8c9a-56160b7cea1f","graph":{"connections":[{"fromId":"bddedc3a-26ea-4523-1960-ba85b1f1f94c","fromProperty":"prop-token","toId":"7b11d535-2c5d-9379-fbca-ac3b75b6d352","toProperty":"token"},{"fromId":"bddedc3a-26ea-4523-1960-ba85b1f1f94c","fromProperty":"prop-user","toId":"7b11d535-2c5d-9379-fbca-ac3b75b6d352","toProperty":"user"},{"fromId":"bddedc3a-26ea-4523-1960-ba85b1f1f94c","fromProperty":"prop-authenticated","toId":"7b11d535-2c5d-9379-fbca-ac3b75b6d352","toProperty":"authenticated"},{"fromId":"bddedc3a-26ea-4523-1960-ba85b1f1f94c","fromProperty":"prop-isLogged","toId":"7b11d535-2c5d-9379-fbca-ac3b75b6d352","toProperty":"isLogged"}],"roots":[{"id":"bddedc3a-26ea-4523-1960-ba85b1f1f94c","type":"Model2","label":"CurrentUser","x":-945,"y":-186,"parameters":{"properties":"token,authenticated,user,isLogged","modelId":"CurrentUser","idSource":"explicit"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-token","displayName":"token","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"token Changed","name":"changed-token","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-authenticated","displayName":"authenticated","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"authenticated Changed","name":"changed-authenticated","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-user","displayName":"user","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"user Changed","name":"changed-user","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-isLogged","displayName":"isLogged","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"isLogged Changed","name":"changed-isLogged","index":14}],"children":[]},{"id":"7b11d535-2c5d-9379-fbca-ac3b75b6d352","type":"Component Outputs","x":-734.5,"y":-174,"parameters":{},"ports":[{"name":"token","plug":"input","type":{"name":"*"},"index":1},{"name":"user","plug":"input","type":{"name":"*"},"index":2},{"name":"authenticated","plug":"input","type":{"name":"*"},"index":3},{"name":"isLogged","plug":"input","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/Environment","id":"ab184195-d819-662a-9c92-914b927cbeba","graph":{"connections":[{"fromId":"dfcde0c7-6565-b8a6-a64b-ae74e5a373a8","fromProperty":"prop-API_URL","toId":"0b78be53-2054-3765-1cff-da010071af8e","toProperty":"API_URL"},{"fromId":"dfcde0c7-6565-b8a6-a64b-ae74e5a373a8","fromProperty":"prop-AUTH_URL","toId":"0b78be53-2054-3765-1cff-da010071af8e","toProperty":"AUTH_URL"},{"fromId":"dfcde0c7-6565-b8a6-a64b-ae74e5a373a8","fromProperty":"prop-REGISTER_URL","toId":"0b78be53-2054-3765-1cff-da010071af8e","toProperty":"REGISTER_URL"},{"fromId":"dfcde0c7-6565-b8a6-a64b-ae74e5a373a8","fromProperty":"prop-BASE_URL","toId":"0b78be53-2054-3765-1cff-da010071af8e","toProperty":"BASE_URL"}],"roots":[{"id":"dfcde0c7-6565-b8a6-a64b-ae74e5a373a8","type":"Model2","x":-485.5,"y":-35,"parameters":{"modelId":"Environment","properties":"API_URL,AUTH_URL,REGISTER_URL,BASE_URL"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-API_URL","displayName":"API_URL","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"API_URL Changed","name":"changed-API_URL","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-AUTH_URL","displayName":"AUTH_URL","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"AUTH_URL Changed","name":"changed-AUTH_URL","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-REGISTER_URL","displayName":"REGISTER_URL","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"REGISTER_URL Changed","name":"changed-REGISTER_URL","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-BASE_URL","displayName":"BASE_URL","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"BASE_URL Changed","name":"changed-BASE_URL","index":14}],"children":[]},{"id":"0b78be53-2054-3765-1cff-da010071af8e","type":"Component Outputs","x":-308.5,"y":-21,"parameters":{},"ports":[{"name":"API_URL","plug":"input","type":{"name":"*"},"index":1},{"name":"AUTH_URL","plug":"input","type":{"name":"*"},"index":2},{"name":"REGISTER_URL","plug":"input","type":{"name":"*"},"index":3},{"name":"BASE_URL","plug":"input","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"56dda7d0-464e-374a-703e-eb12fe99a381","type":"JavaScriptFunction","x":-485.5,"y":-72,"parameters":{"functionScript":"const BASE_URL = 'http://localhost:1337';\r\nconst API_URL = 'http://localhost:1337/api';\r\n\r\n//http://194.233.66.115:1337\r\n\r\nNoodl.Objects.Environment.BASE_URL = BASE_URL;\r\nNoodl.Objects.Environment.API_URL = API_URL;\r\nNoodl.Objects.Environment.AUTH_URL = API_URL + '/auth/local';\r\nNoodl.Objects.Environment.REGISTER_URL = API_URL + '/auth/local/register';"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/FormatDate","id":"ced83875-1618-bf89-75e1-bc159adae571","graph":{"connections":[{"fromId":"8b7c9970-f861-e4fa-f41c-e03e58b972dc","fromProperty":"Date","toId":"a5495f94-0785-e68f-bc88-4da9e4afa937","toProperty":"in-Date"},{"fromId":"a5495f94-0785-e68f-bc88-4da9e4afa937","fromProperty":"out-Date","toId":"61ff9d76-e13e-7be9-a971-3a0c34ba890c","toProperty":"Date"}],"roots":[{"id":"8b7c9970-f861-e4fa-f41c-e03e58b972dc","type":"Component Inputs","x":-164,"y":-79,"parameters":{},"ports":[{"name":"Date","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"61ff9d76-e13e-7be9-a971-3a0c34ba890c","type":"Component Outputs","x":181,"y":-79,"parameters":{},"ports":[{"name":"Date","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"a5495f94-0785-e68f-bc88-4da9e4afa937","type":"JavaScriptFunction","x":9,"y":-79,"parameters":{"functionScript":"\r\nfunction formatDate(dateString) {\r\n    const date = new Date(dateString); // Chuyển đổi chuỗi thành đối tượng Date\r\n\r\n    const day = String(date.getDate()).padStart(2, '0'); // Lấy ngày và thêm 0 nếu cần\r\n    const month = String(date.getMonth() + 1).padStart(2, '0'); // Lấy tháng (tháng bắt đầu từ 0)\r\n    const year = date.getFullYear(); // Lấy năm\r\n\r\n    return `${day}/${month}/${year}`; // Trả về chuỗi ngày theo định dạng DD/MM/YYYY\r\n}\r\n\r\nif (!Inputs.Date) return\r\n\r\nOutputs.Date = formatDate(Inputs.Date)"},"ports":[],"dynamicports":[{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Date","displayName":"Date","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/GetAllOrganization","id":"8b250154-1088-a685-a068-221099635883","graph":{"connections":[{"fromId":"5e95ebcd-edbc-7804-166a-42b49ef10441","fromProperty":"Fetch","toId":"b5cc120d-264d-0794-3a94-c9e51a041190","toProperty":"fetch"},{"fromId":"b5cc120d-264d-0794-3a94-c9e51a041190","fromProperty":"success","toId":"db82a5b9-a7b2-6263-3574-ff067e0e9ff8","toProperty":"Success"},{"fromId":"b5cc120d-264d-0794-3a94-c9e51a041190","fromProperty":"failure","toId":"db82a5b9-a7b2-6263-3574-ff067e0e9ff8","toProperty":"Failure"},{"fromId":"b5cc120d-264d-0794-3a94-c9e51a041190","fromProperty":"out-data","toId":"db82a5b9-a7b2-6263-3574-ff067e0e9ff8","toProperty":"data"},{"fromId":"b5cc120d-264d-0794-3a94-c9e51a041190","fromProperty":"out-Pagination","toId":"3eb7b14c-4bb2-1096-c28e-b6ca1207a07b","toProperty":"Pagination"},{"fromId":"3eb7b14c-4bb2-1096-c28e-b6ca1207a07b","fromProperty":"page","toId":"db82a5b9-a7b2-6263-3574-ff067e0e9ff8","toProperty":"page"},{"fromId":"3eb7b14c-4bb2-1096-c28e-b6ca1207a07b","fromProperty":"pageSize","toId":"db82a5b9-a7b2-6263-3574-ff067e0e9ff8","toProperty":"pageSize"},{"fromId":"3eb7b14c-4bb2-1096-c28e-b6ca1207a07b","fromProperty":"total","toId":"db82a5b9-a7b2-6263-3574-ff067e0e9ff8","toProperty":"total"},{"fromId":"e567814e-43fc-7c65-1df5-592adc1d76db","fromProperty":"out-api","toId":"b5cc120d-264d-0794-3a94-c9e51a041190","toProperty":"resource"},{"fromId":"5e95ebcd-edbc-7804-166a-42b49ef10441","fromProperty":"page","toId":"e567814e-43fc-7c65-1df5-592adc1d76db","toProperty":"in-page"},{"fromId":"5e95ebcd-edbc-7804-166a-42b49ef10441","fromProperty":"limit","toId":"e567814e-43fc-7c65-1df5-592adc1d76db","toProperty":"in-pageSize"},{"fromId":"5e95ebcd-edbc-7804-166a-42b49ef10441","fromProperty":"keyword","toId":"e567814e-43fc-7c65-1df5-592adc1d76db","toProperty":"in-keyword"},{"fromId":"5e95ebcd-edbc-7804-166a-42b49ef10441","fromProperty":"sort","toId":"e567814e-43fc-7c65-1df5-592adc1d76db","toProperty":"in-sort"},{"fromId":"2cff3d3a-93d8-e4e8-df19-910de5117689","fromProperty":"API_URL","toId":"e567814e-43fc-7c65-1df5-592adc1d76db","toProperty":"in-API_URL"},{"fromId":"5e95ebcd-edbc-7804-166a-42b49ef10441","fromProperty":"Fetch","toId":"22e181d5-15e3-a77e-91b1-65040916f057","toProperty":"Show"},{"fromId":"b5cc120d-264d-0794-3a94-c9e51a041190","fromProperty":"success","toId":"22e181d5-15e3-a77e-91b1-65040916f057","toProperty":"Show"},{"fromId":"b5cc120d-264d-0794-3a94-c9e51a041190","fromProperty":"failure","toId":"22e181d5-15e3-a77e-91b1-65040916f057","toProperty":"Hide"}],"roots":[{"id":"5e95ebcd-edbc-7804-166a-42b49ef10441","type":"Component Inputs","x":-105,"y":33,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"page","plug":"output","type":{"name":"*"},"index":1},{"name":"limit","plug":"output","type":{"name":"*"},"index":2},{"name":"keyword","plug":"output","type":{"name":"*"},"index":3},{"name":"sort","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"db82a5b9-a7b2-6263-3574-ff067e0e9ff8","type":"Component Outputs","x":394,"y":151,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"data","plug":"input","type":{"name":"*"},"index":2},{"name":"page","plug":"input","type":{"name":"*"},"index":3},{"name":"pageSize","plug":"input","type":{"name":"*"},"index":4},{"name":"total","plug":"input","type":{"name":"*"},"index":5}],"dynamicports":[],"children":[]},{"id":"b5cc120d-264d-0794-3a94-c9e51a041190","type":"REST2","x":147,"y":176,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nOutputs.Results = Response.content\nOutputs.data = Response.content?.data\nOutputs.Pagination = Response.content?.meta?.pagination","resource":""},"ports":[],"dynamicports":[{"name":"out-Results","displayName":"Results","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Pagination","displayName":"Pagination","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript"]}}},{"id":"3eb7b14c-4bb2-1096-c28e-b6ca1207a07b","type":"/#Logic/GetPaganation","x":147,"y":326,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"e567814e-43fc-7c65-1df5-592adc1d76db","type":"JavaScriptFunction","x":147,"y":4,"parameters":{"functionScript":"let API_URL = Inputs.API_URL\r\nlet page = Inputs.page + 1 || 1;\r\nconst pageSize = Inputs.pageSize || 10;\r\n\r\nconst keyword = Inputs.keyword\r\nconst sort = Inputs.sort || 'desc'\r\n\r\nlet api = API_URL + `/support-organizations?populate=*&pagination[page]=${page}&pagination[pageSize]=${pageSize}&sort=createdAt:${sort}`\r\n\r\n\r\nfunction createFilters(keyword) {\r\n  if (!keyword || typeof keyword !== \"string\") {\r\n    return;\r\n  }\r\n\r\n  const filters = [\r\n    `filters[$or][0][Name][$contains]=${keyword}`,\r\n    `filters[$or][1][Representative][$contains]=${keyword}`,\r\n    `filters[$or][2][user][email][$contains]=${keyword}`,\r\n    `filters[$or][3][user][username][$contains]=${keyword}`,\r\n    `filters[$or][4][Province][FullName][$contains]=${keyword}`,\r\n    `filters[$or][5][District][FullName][$contains]=${keyword}`,\r\n    `filters[$or][5][District][FullName][$contains]=${keyword}`,\r\n    `filters[$or][6][Ward][FullName][$contains=${keyword}]`\r\n  ];\r\n\r\n  return filters.join(\"&\");\r\n}\r\n\r\nif (keyword) {\r\n  const apiEndpoint = createFilters(keyword);\r\n  api += `&${apiEndpoint}`;\r\n}\r\n\r\nOutputs.api = api\r\n\r\n"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-pageSize","displayName":"pageSize","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-keyword","displayName":"keyword","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-api","displayName":"api","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"2cff3d3a-93d8-e4e8-df19-910de5117689","type":"/#Logic/Environment","x":146,"y":-64,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"22e181d5-15e3-a77e-91b1-65040916f057","type":"/Components/Loading Spinner","x":-105,"y":187,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetAllPosts","id":"763f56fe-d68c-e04c-4a6c-f25c22c58f13","graph":{"connections":[{"fromId":"72b21064-479b-0e67-ae20-9839804d90ae","fromProperty":"Fetch","toId":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","toProperty":"fetch"},{"fromId":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","fromProperty":"success","toId":"d51cf77a-c9c5-1f9f-420f-71b61496ccf7","toProperty":"Success"},{"fromId":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","fromProperty":"failure","toId":"d51cf77a-c9c5-1f9f-420f-71b61496ccf7","toProperty":"Failure"},{"fromId":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","fromProperty":"out-data","toId":"d51cf77a-c9c5-1f9f-420f-71b61496ccf7","toProperty":"data"},{"fromId":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","fromProperty":"out-Pagination","toId":"c42cec52-5285-6b80-4d80-eb587a220587","toProperty":"Pagination"},{"fromId":"c42cec52-5285-6b80-4d80-eb587a220587","fromProperty":"page","toId":"d51cf77a-c9c5-1f9f-420f-71b61496ccf7","toProperty":"page"},{"fromId":"c42cec52-5285-6b80-4d80-eb587a220587","fromProperty":"pageSize","toId":"d51cf77a-c9c5-1f9f-420f-71b61496ccf7","toProperty":"pageSize"},{"fromId":"c42cec52-5285-6b80-4d80-eb587a220587","fromProperty":"total","toId":"d51cf77a-c9c5-1f9f-420f-71b61496ccf7","toProperty":"total"},{"fromId":"06f59061-2cb3-30b3-fb69-47ed5d7a2aa8","fromProperty":"out-api","toId":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","toProperty":"resource"},{"fromId":"72b21064-479b-0e67-ae20-9839804d90ae","fromProperty":"page","toId":"06f59061-2cb3-30b3-fb69-47ed5d7a2aa8","toProperty":"in-page"},{"fromId":"72b21064-479b-0e67-ae20-9839804d90ae","fromProperty":"limit","toId":"06f59061-2cb3-30b3-fb69-47ed5d7a2aa8","toProperty":"in-pageSize"},{"fromId":"72b21064-479b-0e67-ae20-9839804d90ae","fromProperty":"keyword","toId":"06f59061-2cb3-30b3-fb69-47ed5d7a2aa8","toProperty":"in-keyword"},{"fromId":"72b21064-479b-0e67-ae20-9839804d90ae","fromProperty":"sort","toId":"06f59061-2cb3-30b3-fb69-47ed5d7a2aa8","toProperty":"in-sort"},{"fromId":"5a63be18-f993-586b-7d91-81d57e788ea7","fromProperty":"API_URL","toId":"06f59061-2cb3-30b3-fb69-47ed5d7a2aa8","toProperty":"in-API_URL"},{"fromId":"72b21064-479b-0e67-ae20-9839804d90ae","fromProperty":"Fetch","toId":"854053af-7fa5-48a0-1952-4356ad974984","toProperty":"Show"},{"fromId":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","fromProperty":"success","toId":"854053af-7fa5-48a0-1952-4356ad974984","toProperty":"Show"},{"fromId":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","fromProperty":"failure","toId":"854053af-7fa5-48a0-1952-4356ad974984","toProperty":"Hide"}],"roots":[{"id":"72b21064-479b-0e67-ae20-9839804d90ae","type":"Component Inputs","x":-193,"y":-144,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"page","plug":"output","type":{"name":"*"},"index":1},{"name":"limit","plug":"output","type":{"name":"*"},"index":2},{"name":"keyword","plug":"output","type":{"name":"*"},"index":3},{"name":"sort","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"d51cf77a-c9c5-1f9f-420f-71b61496ccf7","type":"Component Outputs","x":306,"y":-26,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"data","plug":"input","type":{"name":"*"},"index":2},{"name":"page","plug":"input","type":{"name":"*"},"index":3},{"name":"pageSize","plug":"input","type":{"name":"*"},"index":4},{"name":"total","plug":"input","type":{"name":"*"},"index":5}],"dynamicports":[],"children":[]},{"id":"ac268d30-7641-aaeb-01e8-68d55aa3f56d","type":"REST2","x":59.5,"y":-1,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nOutputs.Results = Response.content\nOutputs.data = Response.content?.data\nOutputs.Pagination = Response.content?.meta?.pagination","resource":""},"ports":[],"dynamicports":[{"name":"out-Results","displayName":"Results","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Pagination","displayName":"Pagination","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript"]}}},{"id":"c42cec52-5285-6b80-4d80-eb587a220587","type":"/#Logic/GetPaganation","x":59,"y":149,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"06f59061-2cb3-30b3-fb69-47ed5d7a2aa8","type":"JavaScriptFunction","x":59.29166666666663,"y":-173.54166666666669,"parameters":{"functionScript":"let API_URL = Inputs.API_URL\r\nlet page = Inputs.page + 1 || 1;\r\nconst pageSize = Inputs.pageSize || 10;\r\n\r\nconst keyword = Inputs.keyword\r\nconst sort = Inputs.sort || 'desc'\r\n\r\nlet api = API_URL + `/posts?populate=*&pagination[page]=${page}&pagination[pageSize]=${pageSize}&sort=createdAt:${sort}`\r\n\r\n\r\nfunction createFilters(keyword) {\r\n  if (!keyword || typeof keyword !== \"string\") {\r\n    return;\r\n  }\r\n\r\n  const filters = [\r\n    `filters[$or][0][Title][$contains]=${keyword}`,\r\n    `filters[$or][1][Content][$contains]=${keyword}`,\r\n  ];\r\n\r\n  return filters.join(\"&\");\r\n}\r\n\r\nif (keyword) {\r\n  const apiEndpoint = createFilters(keyword);\r\n  api += `&${apiEndpoint}`;\r\n}\r\n\r\nOutputs.api = api\r\n\r\n"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-pageSize","displayName":"pageSize","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-keyword","displayName":"keyword","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-api","displayName":"api","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"5a63be18-f993-586b-7d91-81d57e788ea7","type":"/#Logic/Environment","x":58.80671296296293,"y":-241.1886574074074,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"854053af-7fa5-48a0-1952-4356ad974984","type":"/Components/Loading Spinner","x":-192.9790013227513,"y":9.668485449735442,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetDisasterDetail","id":"3022d355-ada8-70f7-60d1-01cecd4c9ccb","graph":{"connections":[{"fromId":"2cdff765-b547-5190-c8e7-c8f07ad62c47","fromProperty":"token","toId":"775b1612-c967-3737-4307-3e77556d2b0c","toProperty":"in-token"},{"fromId":"16e202d5-71c5-322b-0f17-4ee132173587","fromProperty":"id","toId":"d2cc4a55-ebc6-1c57-056d-fbbdc7b2a344","toProperty":"id"},{"fromId":"d2cc4a55-ebc6-1c57-056d-fbbdc7b2a344","fromProperty":"result","toId":"775b1612-c967-3737-4307-3e77556d2b0c","toProperty":"resource"},{"fromId":"775b1612-c967-3737-4307-3e77556d2b0c","fromProperty":"out-DATA","toId":"d04e8a32-447f-f39d-e9b8-91f056e606d7","toProperty":"data"},{"fromId":"775b1612-c967-3737-4307-3e77556d2b0c","fromProperty":"success","toId":"d04e8a32-447f-f39d-e9b8-91f056e606d7","toProperty":"Success"},{"fromId":"775b1612-c967-3737-4307-3e77556d2b0c","fromProperty":"failure","toId":"d04e8a32-447f-f39d-e9b8-91f056e606d7","toProperty":"Failure"},{"fromId":"fa9573d8-2cf3-21fb-df7f-be30d0f27c16","fromProperty":"API_URL","toId":"d2cc4a55-ebc6-1c57-056d-fbbdc7b2a344","toProperty":"API_URL"},{"fromId":"16e202d5-71c5-322b-0f17-4ee132173587","fromProperty":"Do","toId":"775b1612-c967-3737-4307-3e77556d2b0c","toProperty":"fetch"}],"roots":[{"id":"16e202d5-71c5-322b-0f17-4ee132173587","type":"Component Inputs","x":-117,"y":291,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"id","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"d04e8a32-447f-f39d-e9b8-91f056e606d7","type":"Component Outputs","x":382,"y":202,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"data","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"775b1612-c967-3737-4307-3e77556d2b0c","type":"REST2","label":"REST","x":144,"y":312,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif(!DATA) return;\n\nOutputs.DATA = Response.content?.data\nOutputs.Results = Response.DATA;","resource":"","requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\nconst tokenInfo = Inputs.token\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}"},"ports":[],"dynamicports":[{"name":"in-token","displayName":"token","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-DATA","displayName":"DATA","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Results","displayName":"Results","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript","requestScript"]}}},{"id":"2cdff765-b547-5190-c8e7-c8f07ad62c47","type":"/#Logic/CurrentUser","x":143,"y":449,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d2cc4a55-ebc6-1c57-056d-fbbdc7b2a344","type":"Expression","x":141,"y":137,"parameters":{"expression":"API_URL + '/disasters/' + id + '?populate=*'"},"ports":[],"dynamicports":[{"group":"Parameters","name":"API_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"id","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"fa9573d8-2cf3-21fb-df7f-be30d0f27c16","type":"/#Logic/Environment","x":134.5,"y":52.5,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetDisasters","id":"b49f35d6-f3e1-3733-a8ed-89113447f4be","graph":{"connections":[{"fromId":"fc48e18e-8803-1f0f-c228-697664bcc5be","fromProperty":"out-api","toId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","toProperty":"resource"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"page","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-page"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"limit","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-pageSize"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"keyword","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-keyword"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"sort","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-sort"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"status","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-status"},{"fromId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","fromProperty":"out-DATA","toId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","toProperty":"Data"},{"fromId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","fromProperty":"success","toId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","toProperty":"Success"},{"fromId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","fromProperty":"failure","toId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","toProperty":"Failure"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"Do","toId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","toProperty":"fetch"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"type","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-type"},{"fromId":"d53744f0-d859-970c-8efb-458658cc23e9","fromProperty":"API_URL","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-base_url"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"Do","toId":"e129ce2e-bf7a-9255-9066-102fb4e6ec95","toProperty":"Show"},{"fromId":"e129ce2e-bf7a-9255-9066-102fb4e6ec95","fromProperty":"Done","toId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","toProperty":"fetch"},{"fromId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","fromProperty":"out-Pagination","toId":"c388a816-8daf-0c6a-129a-96c7775d506b","toProperty":"Pagination"},{"fromId":"c388a816-8daf-0c6a-129a-96c7775d506b","fromProperty":"page","toId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","toProperty":"Page"},{"fromId":"c388a816-8daf-0c6a-129a-96c7775d506b","fromProperty":"pageSize","toId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","toProperty":"PageSize"},{"fromId":"c388a816-8daf-0c6a-129a-96c7775d506b","fromProperty":"total","toId":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","toProperty":"total"},{"fromId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","fromProperty":"failure","toId":"e129ce2e-bf7a-9255-9066-102fb4e6ec95","toProperty":"Hide"},{"fromId":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","fromProperty":"success","toId":"e129ce2e-bf7a-9255-9066-102fb4e6ec95","toProperty":"Hide"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"provinceId","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-provinceId"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"districtId","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-districtId"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"wardId","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-wardId"},{"fromId":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","fromProperty":"disasterId","toId":"fc48e18e-8803-1f0f-c228-697664bcc5be","toProperty":"in-disasterId"}],"roots":[{"id":"d53744f0-d859-970c-8efb-458658cc23e9","type":"/#Logic/Environment","x":153.25723587788696,"y":49.62397828196691,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"210b3e3a-b1fe-b1da-1058-3c623aede2bd","type":"REST2","x":150.11774125347972,"y":443.31610650462676,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif(!DATA) return;\n\nOutputs.Pagination = Response.content?.meta?.pagination\nOutputs.DATA = Response.content?.data\nOutputs.Results = Response.DATA;"},"ports":[],"dynamicports":[{"name":"out-Pagination","displayName":"Pagination","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-DATA","displayName":"DATA","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Results","displayName":"Results","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript"]}}},{"id":"fc48e18e-8803-1f0f-c228-697664bcc5be","type":"JavaScriptFunction","label":"Function Url api","x":152.11774125347972,"y":127.31610650462676,"parameters":{"functionScript":"const page = Inputs.page + 1 || 1;\r\nconst pageSize = Inputs.pageSize || 5;\r\nconst base_url = Inputs.base_url;\r\n\r\nconst keyword = Inputs.keyword;\r\nconst sort = Inputs.sort || \"desc\";\r\nconst status = Inputs.status;\r\nconst type = Inputs.type;\r\nconst provinceId = Inputs.provinceId;\r\nconst districtId = Inputs.districtId;\r\nconst wardId = Inputs.wardId;\r\nconst disasterId = Inputs.disasterId;\r\n\r\nfunction createFilters(keyword) {\r\n  if (!keyword || typeof keyword !== \"string\") {\r\n    throw new Error(\"Keyword không hợp lệ!\");\r\n  }\r\n\r\n  const filters = [\r\n    `filters[$or][0][Name][$contains]=${keyword}`, // Tìm theo trường Name\r\n    `filters[$or][1][Description][$contains]=${keyword}`, // Tìm trong User.username\r\n    `filters[$or][2][DisasterType][DisasterTypeName][$contains]=${keyword}`, // Tìm trong User.username\r\n  ];\r\n\r\n  return `${filters.join(\"&\")}`;\r\n}\r\n\r\nlet api = ``;\r\n\r\nif(disasterId) {\r\n  api = `${base_url}/disasters/${disasterId}?populate=*`\r\n}\r\nelse {\r\n  api = `${base_url}/disasters?populate=*&pagination[page]=${page}&pagination[pageSize]=${pageSize}&sort=createdAt:${sort}`;\r\n}\r\n\r\nif (keyword) {\r\n  const apiEndpoint = keyword && createFilters(keyword);\r\n  api += `&${apiEndpoint}`;\r\n}\r\n\r\nif (status) {\r\n  let filters = [];\r\n  // Chưa diễn ra\r\n  if (status == \"1\") {\r\n    filters = [`filters[StartDate][$gt]=${new Date().toISOString()}`];\r\n  }\r\n\r\n  // Đang diễn ra\r\n  if (status == \"2\") {\r\n    filters = [\r\n      `filters[StartDate][$lte]=${new Date().toISOString()}`,\r\n      `filters[$or][0][EndDate][$null]=true`,\r\n      `filters[$or][1][EndDate][$gte]=${new Date().toISOString()}`,\r\n    ];\r\n  }\r\n\r\n  // Đã diễn ra\r\n  if (status == \"3\") {\r\n    filters= [\r\n        `filters[EndDate][$lt]=${new Date().toISOString()}`\r\n    ]\r\n  }\r\n\r\n  api += `&${filters.join(\"&\")}`;\r\n}\r\n\r\nif(provinceId){\r\n  api += `&filters[Provinces]=${provinceId}`\r\n}\r\n\r\nif(districtId){\r\n  api += `&filters[Districts]=${districtId}`\r\n}\r\n\r\nif(wardId){\r\n  api += `&filters[Provinces]=${wardId}`\r\n}\r\n\r\nif(type){\r\n  api += `&filters[Wards]=${type}`\r\n}\r\n\r\n\r\nOutputs.api = api;\r\n"},"ports":[],"dynamicports":[{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-pageSize","displayName":"pageSize","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-base_url","displayName":"base_url","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-keyword","displayName":"keyword","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-status","displayName":"status","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-type","displayName":"type","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-provinceId","displayName":"provinceId","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-districtId","displayName":"districtId","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-wardId","displayName":"wardId","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-disasterId","displayName":"disasterId","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-api","displayName":"api","plug":"output","type":"*","group":"Outputs","index":15}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"df4bc0af-0a3a-f6fd-f3c7-9efd899c4f9f","type":"Component Inputs","x":-385.8822587465203,"y":178.31610650462676,"parameters":{},"ports":[{"name":"sort","plug":"output","type":{"name":"*"},"index":1},{"name":"status","plug":"output","type":{"name":"*"},"index":2},{"name":"provinceId","plug":"output","type":{"name":"*"},"index":3},{"name":"keyword","plug":"output","type":{"name":"*"},"index":4},{"name":"Do","plug":"output","type":{"name":"*"},"index":5},{"name":"page","plug":"output","type":{"name":"*"},"index":6},{"name":"limit","plug":"output","type":{"name":"*"},"index":7},{"name":"Clear","plug":"output","type":{"name":"*"},"index":8},{"name":"type","plug":"output","type":{"name":"*"},"index":9},{"name":"districtId","plug":"output","type":{"name":"*"},"index":10},{"name":"wardId","plug":"output","type":{"name":"*"},"index":11},{"name":"disasterId","plug":"output","type":{"name":"*"},"index":12}],"dynamicports":[],"children":[]},{"id":"6fc2a588-0cc4-fd30-be1c-a3f3b52ba078","type":"Component Outputs","x":623.1177412534797,"y":204.31610650462676,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Page","plug":"input","type":{"name":"*"},"index":3},{"name":"PageSize","plug":"input","type":{"name":"*"},"index":4},{"name":"total","plug":"input","type":{"name":"*"},"index":5}],"dynamicports":[],"children":[]},{"id":"e129ce2e-bf7a-9255-9066-102fb4e6ec95","type":"/Components/Loading Spinner","x":-144.88996631394798,"y":490.36612154845164,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c388a816-8daf-0c6a-129a-96c7775d506b","type":"/#Logic/GetPaganation","x":149.6058947158416,"y":596.6930111437382,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetDistricts","id":"1abf5f16-b2ca-d477-e304-5e8c5193631d","graph":{"connections":[{"fromId":"976486e2-1fd6-9f80-d96e-648e096a21b4","fromProperty":"API_URL","toId":"bafb7ab7-391e-a4fb-70d9-e0a58e74b179","toProperty":"in-API_URL"},{"fromId":"bafb7ab7-391e-a4fb-70d9-e0a58e74b179","fromProperty":"out-URL","toId":"9f7756a6-3df9-c589-3a7f-e7a110bba71a","toProperty":"resource"},{"fromId":"9f7756a6-3df9-c589-3a7f-e7a110bba71a","fromProperty":"out-Response","toId":"26dbbcf6-ae9e-198c-5881-5d13fa7eded4","toProperty":"Response"},{"fromId":"9f7756a6-3df9-c589-3a7f-e7a110bba71a","fromProperty":"failure","toId":"26dbbcf6-ae9e-198c-5881-5d13fa7eded4","toProperty":"Failure"},{"fromId":"9f7756a6-3df9-c589-3a7f-e7a110bba71a","fromProperty":"success","toId":"26dbbcf6-ae9e-198c-5881-5d13fa7eded4","toProperty":"Success"},{"fromId":"2d867645-42ad-fa9a-f1ab-4f4c40171503","fromProperty":"ProvinceId","toId":"bafb7ab7-391e-a4fb-70d9-e0a58e74b179","toProperty":"in-ProvinceId"},{"fromId":"2d867645-42ad-fa9a-f1ab-4f4c40171503","fromProperty":"Fetch","toId":"9f7756a6-3df9-c589-3a7f-e7a110bba71a","toProperty":"fetch"}],"roots":[{"id":"2d867645-42ad-fa9a-f1ab-4f4c40171503","type":"Component Inputs","x":-6,"y":3,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"ProvinceId","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"26dbbcf6-ae9e-198c-5881-5d13fa7eded4","type":"Component Outputs","x":407,"y":-54,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"976486e2-1fd6-9f80-d96e-648e096a21b4","type":"/#Logic/Environment","x":186.5,"y":-110,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"bafb7ab7-391e-a4fb-70d9-e0a58e74b179","type":"JavaScriptFunction","x":-6.5,"y":-91,"parameters":{"functionScript":"Outputs.URL = Inputs.API_URL\r\n    + '/districts?filters[Province]='\r\n    + Inputs.ProvinceId;"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-ProvinceId","displayName":"ProvinceId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-URL","displayName":"URL","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"9f7756a6-3df9-c589-3a7f-e7a110bba71a","type":"REST2","x":184.5,"y":-36,"parameters":{"responseScript":"Outputs.Response = Response.content.data;"},"ports":[],"dynamicports":[{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/GetImage","id":"06235f1a-ca9a-0765-7a4b-4d9023c61105","graph":{"connections":[{"fromId":"41dda323-3b4c-dbe8-0792-39e95b642c77","fromProperty":"Images","toId":"287c8497-db52-1de4-4bdc-da749141d033","toProperty":"in-Images"},{"fromId":"287c8497-db52-1de4-4bdc-da749141d033","fromProperty":"out-image","toId":"81f4b384-33a7-3cb3-d817-6199e787ac13","toProperty":"Image 1"},{"fromId":"41dda323-3b4c-dbe8-0792-39e95b642c77","fromProperty":"Do","toId":"287c8497-db52-1de4-4bdc-da749141d033","toProperty":"run"},{"fromId":"c929e527-6a4f-5c33-8ca1-922f1d22457b","fromProperty":"BASE_URL","toId":"287c8497-db52-1de4-4bdc-da749141d033","toProperty":"in-API"}],"roots":[{"id":"287c8497-db52-1de4-4bdc-da749141d033","type":"JavaScriptFunction","x":-365.5,"y":-45,"parameters":{"functionScript":"const Images = Inputs.Images\r\nconst API = Inputs.API\r\n\r\nif (!Images || !Images[0].url) {\r\n    console.error(\"Invalid image object\");\r\n    Outputs.image = `https://placehold.co/100x100/38BCF8/FFF?text=UniHand`\r\n    return\r\n}\r\n\r\nconst imageUrl = `${API}${Images[0].url}`;\r\n\r\nOutputs.image = imageUrl\r\n"},"ports":[],"dynamicports":[{"name":"in-Images","displayName":"Images","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-API","displayName":"API","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-image","displayName":"image","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"41dda323-3b4c-dbe8-0792-39e95b642c77","type":"Component Inputs","x":-586.5,"y":-25,"parameters":{},"ports":[{"name":"Images","plug":"output","type":{"name":"*"},"index":1},{"name":"Do","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"81f4b384-33a7-3cb3-d817-6199e787ac13","type":"Component Outputs","x":-181.5,"y":-6,"parameters":{},"ports":[{"name":"Image 1","plug":"input","type":{"name":"*"},"index":1},{"name":"Image 2","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"c929e527-6a4f-5c33-8ca1-922f1d22457b","type":"/#Logic/Environment","x":-365.33333333333326,"y":-115.83333333333331,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetLocation","id":"ff3615c1-dde2-dcc2-7dcb-1a124579a658","graph":{"connections":[{"fromId":"5a6c39c3-1bc9-7dad-181a-0d994f59079b","fromProperty":"out-Failure","toId":"aa3e3ca3-2643-dc44-6f4a-dcea96534a55","toProperty":"Do"},{"fromId":"5a6c39c3-1bc9-7dad-181a-0d994f59079b","fromProperty":"out-lat","toId":"7ff70700-7b99-a206-000e-d8d97422d18b","toProperty":"prop-lat"},{"fromId":"5a6c39c3-1bc9-7dad-181a-0d994f59079b","fromProperty":"out-lng","toId":"7ff70700-7b99-a206-000e-d8d97422d18b","toProperty":"prop-lng"},{"fromId":"f9150f44-6387-69f5-2438-a4d6f78e4a41","fromProperty":"Do","toId":"5a6c39c3-1bc9-7dad-181a-0d994f59079b","toProperty":"run"},{"fromId":"5a6c39c3-1bc9-7dad-181a-0d994f59079b","fromProperty":"out-Failure","toId":"c15dbe30-1ea4-b75a-4306-8a08db9df90b","toProperty":"Failure"},{"fromId":"5a6c39c3-1bc9-7dad-181a-0d994f59079b","fromProperty":"out-Success","toId":"c15dbe30-1ea4-b75a-4306-8a08db9df90b","toProperty":"Success"},{"fromId":"7ff70700-7b99-a206-000e-d8d97422d18b","fromProperty":"prop-lat","toId":"c15dbe30-1ea4-b75a-4306-8a08db9df90b","toProperty":"lat"},{"fromId":"7ff70700-7b99-a206-000e-d8d97422d18b","fromProperty":"prop-lng","toId":"c15dbe30-1ea4-b75a-4306-8a08db9df90b","toProperty":"lng"}],"roots":[{"id":"f9150f44-6387-69f5-2438-a4d6f78e4a41","type":"Component Inputs","x":-4,"y":-35,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"c15dbe30-1ea4-b75a-4306-8a08db9df90b","type":"Component Outputs","x":404,"y":-180,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"lat","plug":"input","type":{"name":"*"},"index":2},{"name":"lng","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"aa3e3ca3-2643-dc44-6f4a-dcea96534a55","type":"/Components/Show Toast","x":-1,"y":-222,"parameters":{"Type":"Warning","Message":"Chúng tôi cần biết vị trí của bạn để có thể hỗ trợ kịp thời, hãy nhấn đồng ý chia sẻ vị trí."},"ports":[],"dynamicports":[],"children":[]},{"id":"5a6c39c3-1bc9-7dad-181a-0d994f59079b","type":"JavaScriptFunction","x":210,"y":-178,"parameters":{"functionScript":"navigator.geolocation.getCurrentPosition(async (position) => {\r\n    const { latitude, longitude } = position.coords;\r\n\r\n    if(latitude && longitude) {\r\n        Outputs.lat = latitude;\r\n        Outputs.lng = longitude;\r\n        Outputs.Success();\r\n    }\r\n    else {\r\n        Outputs.Failure();\r\n    }\r\n});"},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-lat","displayName":"lat","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-lng","displayName":"lng","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"7ff70700-7b99-a206-000e-d8d97422d18b","type":"Model2","x":-2,"y":-143,"parameters":{"modelId":"Location","properties":"lat,lng"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-lat","displayName":"lat","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"lat Changed","name":"changed-lat","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-lng","displayName":"lng","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"lng Changed","name":"changed-lng","index":10}],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetNotifications","id":"6fb9980b-f7fe-73b9-e3d1-e78f7ad87b25","graph":{"connections":[{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"ProvinceId","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-ProvinceId"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"WardId","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-WardId"},{"fromId":"4846a439-9a61-ab99-ca27-ae106afccc07","fromProperty":"out-DATA","toId":"4d8e3140-a506-ce86-8208-9e6b627b8362","toProperty":"Data"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"DistrictId","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-DistrictId"},{"fromId":"4846a439-9a61-ab99-ca27-ae106afccc07","fromProperty":"success","toId":"4d8e3140-a506-ce86-8208-9e6b627b8362","toProperty":"Success"},{"fromId":"4846a439-9a61-ab99-ca27-ae106afccc07","fromProperty":"failure","toId":"4d8e3140-a506-ce86-8208-9e6b627b8362","toProperty":"Failure"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"Fetch","toId":"2ac70fd9-46b3-a251-d07b-7b545550656b","toProperty":"Show"},{"fromId":"4846a439-9a61-ab99-ca27-ae106afccc07","fromProperty":"failure","toId":"2ac70fd9-46b3-a251-d07b-7b545550656b","toProperty":"Hide"},{"fromId":"4846a439-9a61-ab99-ca27-ae106afccc07","fromProperty":"success","toId":"2ac70fd9-46b3-a251-d07b-7b545550656b","toProperty":"Hide"},{"fromId":"4846a439-9a61-ab99-ca27-ae106afccc07","fromProperty":"out-Pagination","toId":"d75dde37-b002-7558-8b63-5e08ed31b4b6","toProperty":"Pagination"},{"fromId":"d75dde37-b002-7558-8b63-5e08ed31b4b6","fromProperty":"page","toId":"4d8e3140-a506-ce86-8208-9e6b627b8362","toProperty":"Page"},{"fromId":"d75dde37-b002-7558-8b63-5e08ed31b4b6","fromProperty":"pageSize","toId":"4d8e3140-a506-ce86-8208-9e6b627b8362","toProperty":"PageSize"},{"fromId":"d75dde37-b002-7558-8b63-5e08ed31b4b6","fromProperty":"total","toId":"4d8e3140-a506-ce86-8208-9e6b627b8362","toProperty":"Total"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"Sort","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-Sort"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"Status","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-Status"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"Keyword","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-Keyword"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"Page","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-Page"},{"fromId":"23592695-70cf-4c88-c4b3-2b299a6ea075","fromProperty":"API_URL","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-API_URL"},{"fromId":"3bab5905-a471-6593-d86e-38acd41d21e4","fromProperty":"out-API","toId":"4846a439-9a61-ab99-ca27-ae106afccc07","toProperty":"resource"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"Fetch","toId":"4846a439-9a61-ab99-ca27-ae106afccc07","toProperty":"fetch"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"Limit","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-PageSize"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"OrganizationId","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-OrganizationId"},{"fromId":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","fromProperty":"DisasterId","toId":"3bab5905-a471-6593-d86e-38acd41d21e4","toProperty":"in-DisasterId"}],"roots":[{"id":"f21944dd-d92d-d4c0-fd2a-a75c6fab6db1","type":"Component Inputs","x":-181.2663653593819,"y":54.2985857996793,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"Sort","plug":"output","type":{"name":"*"},"index":1},{"name":"Status","plug":"output","type":{"name":"*"},"index":2},{"name":"DisasterId","plug":"output","type":{"name":"*"},"index":3},{"name":"ProvinceId","plug":"output","type":{"name":"*"},"index":4},{"name":"DistrictId","plug":"output","type":{"name":"*"},"index":5},{"name":"WardId","plug":"output","type":{"name":"*"},"index":6},{"name":"Keyword","plug":"output","type":{"name":"*"},"index":7},{"name":"Page","plug":"output","type":{"name":"*"},"index":8},{"name":"Limit","plug":"output","type":{"name":"*"},"index":9},{"name":"OrganizationId","plug":"output","type":{"name":"*"},"index":10}],"dynamicports":[],"children":[]},{"id":"4d8e3140-a506-ce86-8208-9e6b627b8362","type":"Component Outputs","x":346.96777955970265,"y":337.64455459979587,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Page","plug":"input","type":{"name":"*"},"index":3},{"name":"PageSize","plug":"input","type":{"name":"*"},"index":4},{"name":"Total","plug":"input","type":{"name":"*"},"index":5}],"dynamicports":[],"children":[]},{"id":"3bab5905-a471-6593-d86e-38acd41d21e4","type":"JavaScriptFunction","label":"Function Url api","x":106.3383875200467,"y":-22.177722700102095,"parameters":{"functionScript":"let page = Inputs.Page + 1 || 1;\r\nconst pageSize = Inputs.PageSize || 10;\r\nconst API_URL = Inputs.API_URL;\r\nconst organizationId = Inputs.OrganizationId;\r\nconst keyword = Inputs.Keyword;\r\nconst sort = Inputs.Sort || \"desc\";\r\nconst provinceId = Inputs.ProvinceId;\r\nconst districtId = Inputs.DistrictId;\r\nconst wardId = Inputs.WardId;\r\nconst disasterId = Inputs.DisasterId;\r\nconst statusId = Inputs.Status;\r\n\r\nlet apiUrl = `${API_URL}/notifications`\r\n+ `?filters[SupportOrganization]=${organizationId}`\r\n+ `&populate[SOSRequest][populate]=*`\r\n+ `&pagination[page]=${page}`\r\n+ `&pagination[pageSize]=${pageSize}`\r\n+ `&sort=createdAt:${sort}`;\r\n\r\nfunction createFilters(keyword) {\r\n  if (!keyword || typeof keyword !== \"string\") {\r\n    return;\r\n  }\r\n\r\n  const filters = [\r\n    `filters[$or][1][SOSRequest][FullName][$contains]=${keyword}`,\r\n    `filters[$or][2][SOSRequest][Email][$contains]=${keyword}`,\r\n    `filters[$or][3][SOSRequest][RequestDescription][$contains]=${keyword}`,\r\n    `filters[$or][4][SOSRequest][PhoneNumber][$contains]=${keyword}`,\r\n    `filters[$or][5][SOSRequest][PhoneNumber][$contains]=${keyword}`,\r\n    `filters[$or][6][SOSRequest][Province][FullName][$contains]=${keyword}`,\r\n    `filters[$or][8][SOSRequest][District][FullName][$contains]=${keyword}`,\r\n    `filters[$or][9][SOSRequest][Ward][FullName][$contains]=${keyword}`,\r\n  ];\r\n\r\n  return filters.join(\"&\");\r\n}\r\n\r\nconst apiEndpoint = keyword ? createFilters(keyword) : \"\";\r\n\r\nif (disasterId) {\r\n  apiUrl += `&filters[SOSRequest][Disaster]=${disasterId}`;\r\n} else {\r\n  apiUrl +=\r\n    `&filters[SOSRequest][Disaster][StartDate][$lte]=${new Date().toISOString()}` +\r\n    `&filters[$or][0][SOSRequest][Disaster][EndDate][$null]=true` +\r\n    `&filters[$or][1][SOSRequest][Disaster][EndDate][$gte]=${new Date().toISOString()}`;\r\n}\r\n\r\nif (provinceId) {\r\n  apiUrl += `&filters[SOSRequest][Province]=${provinceId}`;\r\n}\r\n\r\nif (districtId) {\r\n  apiUrl += `&filters[SOSRequest][District]=${districtId}`;\r\n} \r\n\r\nif (wardId) {\r\n  apiUrl += `&filters[SOSRequest][Ward]=${wardId}`;\r\n}\r\n\r\nif (statusId) {\r\n  let filters = [];\r\n  // Chưa hổ trợ\r\n  if (statusId == '1') {\r\n    filters = [\r\n      `filters[SOSRequest][AcceptedBy][$null]=true`\r\n    ];\r\n  } else if (statusId == '2') { //Đang hổ trợ\r\n    filters = [\r\n      `filters[$or][1][SOSRequest][State]=false`,\r\n      `filters[$or][2][SOSRequest][State][$null]=true`,\r\n      `filters[SOSRequest][AcceptedBy][$notNull]=true`\r\n    ];\r\n  } else if (statusId == '3') {  // Đã hổ trợ\r\n    filters = [\r\n      `filters[$or][1][SOSRequest][State]=true`\r\n    ];\r\n  }\r\n\r\n  apiUrl += `&${filters.join(\"&\")}`;\r\n}\r\n\r\nif (apiEndpoint) {\r\n  apiUrl += `&${apiEndpoint}`;\r\n}\r\n\r\nOutputs.API = apiUrl;\r\n"},"ports":[],"dynamicports":[{"name":"in-Page","displayName":"Page","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-PageSize","displayName":"PageSize","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-OrganizationId","displayName":"OrganizationId","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Keyword","displayName":"Keyword","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Sort","displayName":"Sort","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-ProvinceId","displayName":"ProvinceId","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-DistrictId","displayName":"DistrictId","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-WardId","displayName":"WardId","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-DisasterId","displayName":"DisasterId","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-Status","displayName":"Status","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-API","displayName":"API","plug":"output","type":"*","group":"Outputs","index":15}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"4846a439-9a61-ab99-ca27-ae106afccc07","type":"REST2","label":"REST","x":106,"y":289,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif (!DATA) return;\n\nOutputs.Pagination = Response.content?.meta?.pagination;\nOutputs.DATA = Response.content?.data;\nOutputs.Results = DATA;","resource":"","requestScript":"const tokenInfo = localStorage.getItem(\"authToken\");\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}"},"ports":[],"dynamicports":[{"name":"out-Pagination","displayName":"Pagination","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-DATA","displayName":"DATA","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Results","displayName":"Results","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript","requestScript"]}}},{"id":"4a754354-b4a5-6a78-aafb-bebe9d957f36","type":"/#Logic/Environment","x":238.6189534605212,"y":-249.17146050722374,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"2ac70fd9-46b3-a251-d07b-7b545550656b","type":"/Components/Loading Spinner","x":-180.21437987281217,"y":327.2729839372207,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d75dde37-b002-7558-8b63-5e08ed31b4b6","type":"/#Logic/GetPaganation","x":105.25552753459522,"y":452.7112555421589,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"23592695-70cf-4c88-c4b3-2b299a6ea075","type":"/#Logic/Environment","x":106.08748785533396,"y":-92.92772541605888,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetOrganizationDetail","id":"a8dbdada-78ce-f4ee-4da3-6e81ba9ba8c1","graph":{"connections":[{"fromId":"a5e68c97-a243-98ee-4f02-d8f771f0e461","fromProperty":"failure","toId":"ae11a9f4-4f0b-0a81-06fa-31509fe442b6","toProperty":"Failure"},{"fromId":"a5e68c97-a243-98ee-4f02-d8f771f0e461","fromProperty":"success","toId":"ae11a9f4-4f0b-0a81-06fa-31509fe442b6","toProperty":"Success"},{"fromId":"a5e68c97-a243-98ee-4f02-d8f771f0e461","fromProperty":"out-Response","toId":"ae11a9f4-4f0b-0a81-06fa-31509fe442b6","toProperty":"Response"},{"fromId":"68a0df49-32a5-f473-9881-c808346333f2","fromProperty":"Fetch","toId":"a5e68c97-a243-98ee-4f02-d8f771f0e461","toProperty":"fetch"},{"fromId":"334d89ab-f0c7-a4c4-6d4c-8b3ca8b87de5","fromProperty":"API_URL","toId":"d1be55e6-c96e-60d2-258d-92176da26af3","toProperty":"in-API_URL"},{"fromId":"68a0df49-32a5-f473-9881-c808346333f2","fromProperty":"documentId","toId":"d1be55e6-c96e-60d2-258d-92176da26af3","toProperty":"in-documentId"},{"fromId":"d1be55e6-c96e-60d2-258d-92176da26af3","fromProperty":"out-API","toId":"a5e68c97-a243-98ee-4f02-d8f771f0e461","toProperty":"resource"}],"roots":[{"id":"68a0df49-32a5-f473-9881-c808346333f2","type":"Component Inputs","x":-90,"y":-66,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"documentId","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"ae11a9f4-4f0b-0a81-06fa-31509fe442b6","type":"Component Outputs","x":375,"y":-63,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"a5e68c97-a243-98ee-4f02-d8f771f0e461","type":"REST2","x":151,"y":52,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\nOutputs.Response = Response.content.data[0];"},"ports":[],"dynamicports":[{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript"]}}},{"id":"334d89ab-f0c7-a4c4-6d4c-8b3ca8b87de5","type":"/#Logic/Environment","x":151,"y":-137,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d1be55e6-c96e-60d2-258d-92176da26af3","type":"JavaScriptFunction","x":151.312,"y":-61.80799999999999,"parameters":{"functionScript":"Outputs.API = Inputs.API_URL + '/support-organizations?populate=*&filters[documentId]=' + Inputs.documentId;"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-documentId","displayName":"documentId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-API","displayName":"API","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/GetPaganation","id":"3a1ebbd5-6e63-0257-c39f-f2598052efa4","graph":{"connections":[{"fromId":"6059d250-081a-3888-84c0-9cd7fd0d0e9f","fromProperty":"Pagination","toId":"efc0fcb2-b55f-8a07-a87e-4eb134bce323","toProperty":"in-Pagination"},{"fromId":"efc0fcb2-b55f-8a07-a87e-4eb134bce323","fromProperty":"out-page","toId":"4ca0b891-21f2-32e6-02e5-03768b3cc95b","toProperty":"page"},{"fromId":"efc0fcb2-b55f-8a07-a87e-4eb134bce323","fromProperty":"out-pageSize","toId":"4ca0b891-21f2-32e6-02e5-03768b3cc95b","toProperty":"pageSize"},{"fromId":"efc0fcb2-b55f-8a07-a87e-4eb134bce323","fromProperty":"out-pageCount","toId":"4ca0b891-21f2-32e6-02e5-03768b3cc95b","toProperty":"pageCount"},{"fromId":"efc0fcb2-b55f-8a07-a87e-4eb134bce323","fromProperty":"out-total","toId":"4ca0b891-21f2-32e6-02e5-03768b3cc95b","toProperty":"total"}],"roots":[{"id":"6059d250-081a-3888-84c0-9cd7fd0d0e9f","type":"Component Inputs","x":-150,"y":-9,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Pagination","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"4ca0b891-21f2-32e6-02e5-03768b3cc95b","type":"Component Outputs","x":229,"y":19,"parameters":{},"ports":[{"name":"page","plug":"input","type":{"name":"*"},"index":1},{"name":"pageSize","plug":"input","type":{"name":"*"},"index":2},{"name":"pageCount","plug":"input","type":{"name":"*"},"index":3},{"name":"total","plug":"input","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"efc0fcb2-b55f-8a07-a87e-4eb134bce323","type":"JavaScriptFunction","label":"Function Get Paganation","x":47,"y":-9,"parameters":{"functionScript":"const paganation = Inputs.Pagination\r\n\r\nif (!paganation) return;\r\nOutputs.page = paganation.page - 1; // page được chọn\r\nOutputs.pageSize = paganation.pageSize; // Số phàn tử ở mỗi trang\r\nOutputs.pageCount = paganation.pageCount; // Tổng số trang \r\nOutputs.total = paganation.total; // Số phần tử có trong data"},"ports":[],"dynamicports":[{"name":"in-Pagination","displayName":"Pagination","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-page","displayName":"page","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-pageSize","displayName":"pageSize","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-pageCount","displayName":"pageCount","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-total","displayName":"total","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/GetPostDetail","id":"e97163c9-e984-23ce-fe04-073e3c566733","graph":{"connections":[{"fromId":"c35f9073-4a00-9fb8-4df2-2bbe75ace229","fromProperty":"id","toId":"697f2a72-bfaa-9be0-0412-f48e0047663b","toProperty":"id"},{"fromId":"697f2a72-bfaa-9be0-0412-f48e0047663b","fromProperty":"result","toId":"4629251b-72a6-6225-29e7-41b7e6f01929","toProperty":"resource"},{"fromId":"4629251b-72a6-6225-29e7-41b7e6f01929","fromProperty":"out-DATA","toId":"bebf81b9-cd52-bee7-6757-034151f9fb2c","toProperty":"data"},{"fromId":"c35f9073-4a00-9fb8-4df2-2bbe75ace229","fromProperty":"Do","toId":"4629251b-72a6-6225-29e7-41b7e6f01929","toProperty":"fetch"},{"fromId":"a012b7c7-27c2-f9c9-29f3-8cb83b8e7a7c","fromProperty":"API_URL","toId":"697f2a72-bfaa-9be0-0412-f48e0047663b","toProperty":"API_URL"}],"roots":[{"id":"c35f9073-4a00-9fb8-4df2-2bbe75ace229","type":"Component Inputs","x":-143,"y":201,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"id","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"bebf81b9-cd52-bee7-6757-034151f9fb2c","type":"Component Outputs","x":303,"y":174,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"data","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"4629251b-72a6-6225-29e7-41b7e6f01929","type":"REST2","label":"REST","x":108,"y":242,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif(!DATA) return;\n\nOutputs.DATA = Response.content?.data\nOutputs.Results = Response.DATA;","resource":""},"ports":[],"dynamicports":[{"name":"out-DATA","displayName":"DATA","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-Results","displayName":"Results","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript","requestScript"]}}},{"id":"697f2a72-bfaa-9be0-0412-f48e0047663b","type":"Expression","label":"API_URL + '/posts/' + id + '?populate=*'","x":108.5,"y":101,"parameters":{"expression":"API_URL + '/posts/' + id + '?populate=*'"},"ports":[],"dynamicports":[{"group":"Parameters","name":"API_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"id","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"a012b7c7-27c2-f9c9-29f3-8cb83b8e7a7c","type":"/#Logic/Environment","x":109.08333333333337,"y":29.166666666666657,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetProvinces","id":"74a1b1a6-324f-74d0-ba19-4708bd4047a6","graph":{"connections":[{"fromId":"42d206c5-8840-d490-f7a3-59601d1b9850","fromProperty":"API_URL","toId":"4f4c83be-6ff5-502f-8175-2d9d90346008","toProperty":"in-API_URL"},{"fromId":"4f4c83be-6ff5-502f-8175-2d9d90346008","fromProperty":"out-URL","toId":"bce8d6ab-5150-f45d-5814-0fbfbfc2a3a0","toProperty":"resource"},{"fromId":"bce8d6ab-5150-f45d-5814-0fbfbfc2a3a0","fromProperty":"out-Response","toId":"c7e853a8-ba04-fda7-7eef-9138c7bd1849","toProperty":"Response"},{"fromId":"bad4b431-171a-7497-e371-da32c321eb6b","fromProperty":"Fetch","toId":"bce8d6ab-5150-f45d-5814-0fbfbfc2a3a0","toProperty":"fetch"}],"roots":[{"id":"bad4b431-171a-7497-e371-da32c321eb6b","type":"Component Inputs","x":0,"y":0,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"c7e853a8-ba04-fda7-7eef-9138c7bd1849","type":"Component Outputs","x":426,"y":-49,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"bce8d6ab-5150-f45d-5814-0fbfbfc2a3a0","type":"REST2","x":232.5,"y":-2,"parameters":{"responseScript":"Outputs.Response = Response.content.data;"},"ports":[],"dynamicports":[{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript"]}}},{"id":"4f4c83be-6ff5-502f-8175-2d9d90346008","type":"JavaScriptFunction","x":232.5,"y":-95,"parameters":{"functionScript":"Outputs.URL = Inputs.API_URL\r\n    + '/provinces?pagination[pageSize]=100';"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-URL","displayName":"URL","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"42d206c5-8840-d490-f7a3-59601d1b9850","type":"/#Logic/Environment","x":229.5,"y":-165,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetRequestDetail","id":"21f8a4ed-3f8b-00f4-0714-d01654397bf8","graph":{"connections":[{"fromId":"97abb15a-f284-70fc-4c10-ffad2f453e70","fromProperty":"token","toId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","toProperty":"in-token"},{"fromId":"7fe787b3-d234-882d-f4b2-b32ebfff7ef4","fromProperty":"id","toId":"4ae00751-8c57-199c-d708-f979ba03b7f5","toProperty":"id"},{"fromId":"4ae00751-8c57-199c-d708-f979ba03b7f5","fromProperty":"result","toId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","toProperty":"resource"},{"fromId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","fromProperty":"out-DATA","toId":"9ba02a56-af67-508e-e11e-6b2c599ee2a7","toProperty":"data"},{"fromId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","fromProperty":"success","toId":"9ba02a56-af67-508e-e11e-6b2c599ee2a7","toProperty":"Success"},{"fromId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","fromProperty":"failure","toId":"9ba02a56-af67-508e-e11e-6b2c599ee2a7","toProperty":"Failure"},{"fromId":"7fe787b3-d234-882d-f4b2-b32ebfff7ef4","fromProperty":"Do","toId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","toProperty":"fetch"},{"fromId":"43e92d19-fad8-7244-6bff-c326b0562c14","fromProperty":"API_URL","toId":"4ae00751-8c57-199c-d708-f979ba03b7f5","toProperty":"baseApi"},{"fromId":"7fe787b3-d234-882d-f4b2-b32ebfff7ef4","fromProperty":"Do","toId":"007579ad-75d1-c854-503f-d623324065a4","toProperty":"Show"},{"fromId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","fromProperty":"success","toId":"007579ad-75d1-c854-503f-d623324065a4","toProperty":"Hide"},{"fromId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","fromProperty":"failure","toId":"007579ad-75d1-c854-503f-d623324065a4","toProperty":"Hide"},{"fromId":"7fe787b3-d234-882d-f4b2-b32ebfff7ef4","fromProperty":"Do","toId":"0455102d-dcfd-56e8-f1aa-c3e58808873c","toProperty":"condition"},{"fromId":"97abb15a-f284-70fc-4c10-ffad2f453e70","fromProperty":"token","toId":"0455102d-dcfd-56e8-f1aa-c3e58808873c","toProperty":"condition"},{"fromId":"0455102d-dcfd-56e8-f1aa-c3e58808873c","fromProperty":"ontrue","toId":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","toProperty":"fetch"}],"roots":[{"id":"7fe787b3-d234-882d-f4b2-b32ebfff7ef4","type":"Component Inputs","x":-98.91967526338811,"y":207.4963896839343,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"id","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"9ba02a56-af67-508e-e11e-6b2c599ee2a7","type":"Component Outputs","x":296.9503610316066,"y":262.19855587357375,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"data","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"4d6c1918-aa83-12a4-181c-5ba7f7c0dfef","type":"REST2","label":"REST","x":115,"y":285,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nconst DATA = Response.content;\n\nif(!DATA) return;\n\nOutputs.DATA = Response.content?.data\nOutputs.Results = Response.DATA;","resource":"","requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\nconst tokenInfo = Inputs.token\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}"},"ports":[],"dynamicports":[{"name":"in-token","displayName":"token","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-DATA","displayName":"DATA","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Results","displayName":"Results","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript","requestScript"]}}},{"id":"97abb15a-f284-70fc-4c10-ffad2f453e70","type":"/#Logic/CurrentUser","x":117,"y":455,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4ae00751-8c57-199c-d708-f979ba03b7f5","type":"Expression","x":110.95547532630962,"y":121.87154027363204,"parameters":{"expression":"baseApi + '/sos-requests/' + id + '?populate=*'"},"ports":[],"dynamicports":[{"group":"Parameters","name":"baseApi","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"id","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"43e92d19-fad8-7244-6bff-c326b0562c14","type":"/#Logic/Environment","x":110.9408346460259,"y":49.24903311744046,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"007579ad-75d1-c854-503f-d623324065a4","type":"/Components/Loading Spinner","x":-99.53866541053236,"y":298.4933783933339,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"0455102d-dcfd-56e8-f1aa-c3e58808873c","type":"Condition","x":-171.4445242385683,"y":395.90127104884493,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetRequests","id":"07fa9dbc-eb98-71d7-b825-55d7f9b97cb6","graph":{"connections":[{"fromId":"225df4cd-02cf-d483-2c6f-72b0d6b18d83","fromProperty":"documentId","toId":"aebedf8a-c1f5-abb0-262e-f2c2b117bac8","toProperty":"in-documentId"},{"fromId":"aebedf8a-c1f5-abb0-262e-f2c2b117bac8","fromProperty":"out-API","toId":"f802a876-375e-c6f5-fc82-0fbf34015a26","toProperty":"resource"},{"fromId":"f802a876-375e-c6f5-fc82-0fbf34015a26","fromProperty":"out-Response","toId":"82615272-4897-7ee2-d318-afc6553697d3","toProperty":"Response"},{"fromId":"f802a876-375e-c6f5-fc82-0fbf34015a26","fromProperty":"failure","toId":"82615272-4897-7ee2-d318-afc6553697d3","toProperty":"Failure"},{"fromId":"f802a876-375e-c6f5-fc82-0fbf34015a26","fromProperty":"success","toId":"82615272-4897-7ee2-d318-afc6553697d3","toProperty":"Success"},{"fromId":"0800eb1f-c27a-05db-74b3-d51dd828078e","fromProperty":"API_URL","toId":"aebedf8a-c1f5-abb0-262e-f2c2b117bac8","toProperty":"in-API_URL"},{"fromId":"b688af90-f6d0-b620-7d55-a9fd8c1f671f","fromProperty":"token","toId":"f802a876-375e-c6f5-fc82-0fbf34015a26","toProperty":"in-token"},{"fromId":"b688af90-f6d0-b620-7d55-a9fd8c1f671f","fromProperty":"token","toId":"f802a876-375e-c6f5-fc82-0fbf34015a26","toProperty":"fetch"},{"fromId":"225df4cd-02cf-d483-2c6f-72b0d6b18d83","fromProperty":"provinceId","toId":"aebedf8a-c1f5-abb0-262e-f2c2b117bac8","toProperty":"in-provinceId"},{"fromId":"225df4cd-02cf-d483-2c6f-72b0d6b18d83","fromProperty":"wardId","toId":"aebedf8a-c1f5-abb0-262e-f2c2b117bac8","toProperty":"in-wardId"},{"fromId":"225df4cd-02cf-d483-2c6f-72b0d6b18d83","fromProperty":"Fetch","toId":"f802a876-375e-c6f5-fc82-0fbf34015a26","toProperty":"fetch"},{"fromId":"225df4cd-02cf-d483-2c6f-72b0d6b18d83","fromProperty":"districtId","toId":"aebedf8a-c1f5-abb0-262e-f2c2b117bac8","toProperty":"in-districtId"}],"roots":[{"id":"225df4cd-02cf-d483-2c6f-72b0d6b18d83","type":"Component Inputs","x":-175,"y":44,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"documentId","plug":"output","type":{"name":"*"},"index":1},{"name":"provinceId","plug":"output","type":{"name":"*"},"index":2},{"name":"districtId","plug":"output","type":{"name":"*"},"index":3},{"name":"wardId","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"82615272-4897-7ee2-d318-afc6553697d3","type":"Component Outputs","x":289,"y":226,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"f802a876-375e-c6f5-fc82-0fbf34015a26","type":"REST2","x":68.5,"y":243,"parameters":{"responseScript":"Outputs.Response = Response.content.data;","requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\nconst tokenInfo = Inputs.token\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}"},"ports":[],"dynamicports":[{"name":"in-token","displayName":"token","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript","requestScript"]}}},{"id":"aebedf8a-c1f5-abb0-262e-f2c2b117bac8","type":"JavaScriptFunction","x":70.5,"y":71,"parameters":{"functionScript":"const API_URL = Inputs.API_URL;\r\nconst status = Inputs.status;\r\nconst documentId = Inputs.documentId;\r\nconst provinceId = Inputs.provinceId;\r\nconst districtId = Inputs.districtId;\r\nconst wardId = Inputs.wardId;\r\n\r\nlet API = API_URL + `/sos-requests?populate=*`;\r\n\r\nif(documentId && documentId !== 'undefined') {\r\n    API += `&filters[Disaster][documentId]=${documentId}`;\r\n}\r\nelse {\r\n    let filters = [\r\n      `filters[Disaster][StartDate][$lte]=${new Date().toISOString()}`,\r\n      `filters[$or][0][Disaster][EndDate][$null]=true`,\r\n      `filters[$or][1][Disaster][EndDate][$gte]=${new Date().toISOString()}`,\r\n    ];\r\n    API += `&${filters.join(\"&\")}`;\r\n}\r\n\r\nif(provinceId && provinceId !== 'undefined') {\r\n  API += `&filters[Province]=${provinceId}`;\r\n}\r\n\r\nif(districtId && districtId !== 'undefined') {\r\n  API += `&filters[District]=${districtId}`;\r\n}\r\n\r\nif(wardId && wardId !== 'undefined') {\r\n  API += `&filters[Ward]=${wardId}`;\r\n}\r\n\r\nOutputs.API = API;"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-status","displayName":"status","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-documentId","displayName":"documentId","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-provinceId","displayName":"provinceId","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-districtId","displayName":"districtId","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-wardId","displayName":"wardId","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-API","displayName":"API","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"0800eb1f-c27a-05db-74b3-d51dd828078e","type":"/#Logic/Environment","x":69.25,"y":-4,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"b688af90-f6d0-b620-7d55-a9fd8c1f671f","type":"/#Logic/CurrentUser","x":-175,"y":201,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/GetWards","id":"691f808e-1a9c-4f72-351f-cefa66956f24","graph":{"connections":[{"fromId":"3f535c2f-bb01-e575-a820-472f4be3d284","fromProperty":"API_URL","toId":"2e6b6bb3-cd02-b2f5-29cf-947c71a4d971","toProperty":"in-API_URL"},{"fromId":"2e6b6bb3-cd02-b2f5-29cf-947c71a4d971","fromProperty":"out-URL","toId":"44f81fa7-30c6-6290-8dbd-9b4c4e601d68","toProperty":"resource"},{"fromId":"44f81fa7-30c6-6290-8dbd-9b4c4e601d68","fromProperty":"out-Response","toId":"2443fd8a-18b3-a558-a22f-faf0a497f786","toProperty":"Response"},{"fromId":"44f81fa7-30c6-6290-8dbd-9b4c4e601d68","fromProperty":"failure","toId":"2443fd8a-18b3-a558-a22f-faf0a497f786","toProperty":"Failure"},{"fromId":"44f81fa7-30c6-6290-8dbd-9b4c4e601d68","fromProperty":"success","toId":"2443fd8a-18b3-a558-a22f-faf0a497f786","toProperty":"Success"},{"fromId":"5cf0a584-b90d-f403-3598-ada2e397afe2","fromProperty":"Fetch","toId":"44f81fa7-30c6-6290-8dbd-9b4c4e601d68","toProperty":"fetch"},{"fromId":"5cf0a584-b90d-f403-3598-ada2e397afe2","fromProperty":"DistrictsId","toId":"2e6b6bb3-cd02-b2f5-29cf-947c71a4d971","toProperty":"in-DistrictsId"}],"roots":[{"id":"5cf0a584-b90d-f403-3598-ada2e397afe2","type":"Component Inputs","x":-6,"y":3,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"DistrictsId","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"2443fd8a-18b3-a558-a22f-faf0a497f786","type":"Component Outputs","x":407,"y":-54,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"3f535c2f-bb01-e575-a820-472f4be3d284","type":"/#Logic/Environment","x":186.5,"y":-110,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"2e6b6bb3-cd02-b2f5-29cf-947c71a4d971","type":"JavaScriptFunction","x":-5.5,"y":-110,"parameters":{"functionScript":"Outputs.URL = Inputs.API_URL\r\n    + '/wards?filters[District]='\r\n    + Inputs.DistrictsId;"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-DistrictsId","displayName":"DistrictsId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-URL","displayName":"URL","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"44f81fa7-30c6-6290-8dbd-9b4c4e601d68","type":"REST2","x":184.5,"y":-36,"parameters":{"responseScript":"Outputs.Response = Response.content.data;"},"ports":[],"dynamicports":[{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/Login","id":"bf754c15-e6e1-f98d-67c1-a794c4ec4c4f","graph":{"connections":[{"fromId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","fromProperty":"success","toId":"49c74a2c-8ef1-5078-4f3d-fc26ad36dd8b","toProperty":"Do"},{"fromId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","fromProperty":"failure","toId":"2af9061e-a36f-f46b-601c-c0dbc6b24639","toProperty":"Do"},{"fromId":"f17dead8-2d9c-9407-e0dc-ce4b46d800a8","fromProperty":"AUTH_URL","toId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","toProperty":"resource"},{"fromId":"429af3c2-e071-f710-671e-1cccdf2d4ba9","fromProperty":"Identifier","toId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","toProperty":"in-Identifier"},{"fromId":"429af3c2-e071-f710-671e-1cccdf2d4ba9","fromProperty":"Password","toId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","toProperty":"in-Password"},{"fromId":"429af3c2-e071-f710-671e-1cccdf2d4ba9","fromProperty":"Fetch","toId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","toProperty":"fetch"},{"fromId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","fromProperty":"success","toId":"51faa8d0-fb70-346a-c247-6bbf16a862ab","toProperty":"Success"},{"fromId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","fromProperty":"failure","toId":"51faa8d0-fb70-346a-c247-6bbf16a862ab","toProperty":"Failure"},{"fromId":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","fromProperty":"success","toId":"47eaef40-65ed-16e1-63e4-d7f2b96c3169","toProperty":"run"}],"roots":[{"id":"429af3c2-e071-f710-671e-1cccdf2d4ba9","type":"Component Inputs","x":-239,"y":-125,"parameters":{},"ports":[{"name":"Identifier","plug":"output","type":"*","index":0},{"name":"Password","plug":"output","type":{"name":"*"},"index":1},{"name":"Fetch","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"51faa8d0-fb70-346a-c247-6bbf16a862ab","type":"Component Outputs","x":-239,"y":-13,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"da9802b9-cc6d-d7f5-1a89-f0f3dd543e64","type":"REST2","label":"Đăng nhập","x":0,"y":-97,"parameters":{"requestScript":"Request.content = {\n    \"identifier\": Inputs.Identifier,\n    \"password\": Inputs.Password\n};","responseScript":"const authToken = Response.content.jwt;\nconst user = Response.content.user;\n\nlocalStorage.setItem('authToken', authToken);\nlocalStorage.setItem('user', JSON.stringify(user));\n\nOutputs.Response = Response.content.user;","method":"POST"},"ports":[],"dynamicports":[{"name":"in-Identifier","displayName":"Identifier","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Password","displayName":"Password","plug":"input","type":"*","group":"Inputs","index":10},{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["requestScript","responseScript"]}}},{"id":"47eaef40-65ed-16e1-63e4-d7f2b96c3169","type":"JavaScriptFunction","label":"ReloadPage","x":211.18984660952583,"y":-137.76620038213332,"parameters":{"functionScript":"window.location.reload();"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"49c74a2c-8ef1-5078-4f3d-fc26ad36dd8b","type":"/Components/Show Toast","label":"Đăng nhập thành công","x":211.50663362006128,"y":-51.17203674004956,"parameters":{"Type":"Success","Message":"Đăng nhập thành công"},"ports":[],"dynamicports":[],"children":[]},{"id":"2af9061e-a36f-f46b-601c-c0dbc6b24639","type":"/Components/Show Toast","label":"Đăng nhập thành công","x":210.50663362006128,"y":48.82796325995044,"parameters":{"Type":"Error","Message":"Đăng nhập không thành công"},"ports":[],"dynamicports":[],"children":[]},{"id":"f17dead8-2d9c-9407-e0dc-ce4b46d800a8","type":"/#Logic/Environment","x":0.22773766315481225,"y":-173.01022858940618,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/OrganizationsRegister","id":"ee25ae8a-f7e5-83d8-530c-3cb32b1206eb","graph":{"connections":[{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"Name","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-Name"},{"fromId":"817b5015-1d51-9fcf-18a0-3f85b391588c","fromProperty":"success","toId":"d03c92c3-b83c-6226-4a25-8b70fe64f4da","toProperty":"Success"},{"fromId":"817b5015-1d51-9fcf-18a0-3f85b391588c","fromProperty":"failure","toId":"d03c92c3-b83c-6226-4a25-8b70fe64f4da","toProperty":"Failure"},{"fromId":"817b5015-1d51-9fcf-18a0-3f85b391588c","fromProperty":"out-Response","toId":"d03c92c3-b83c-6226-4a25-8b70fe64f4da","toProperty":"Response"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"Image","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-Image"},{"fromId":"1f8778cc-14d0-9c16-3f57-6b6e75813f4f","fromProperty":"API_URL","toId":"3426a9cf-a194-1310-1378-0cbd78c4f961","toProperty":"in-API_URL"},{"fromId":"3426a9cf-a194-1310-1378-0cbd78c4f961","fromProperty":"out-URL","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"resource"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"Fetch","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"fetch"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"Representative","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-Representative"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"NotificationEmail","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-NotificationEmail"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"UserId","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-UserId"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"Province","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-Province"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"District","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-District"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"Ward","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-Ward"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"PhoneNumber","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-PhoneNumber"},{"fromId":"8b5c5174-f381-858e-a46b-6f541d6698a7","fromProperty":"Description","toId":"817b5015-1d51-9fcf-18a0-3f85b391588c","toProperty":"in-Description"}],"roots":[{"id":"8b5c5174-f381-858e-a46b-6f541d6698a7","type":"Component Inputs","x":-147,"y":-83,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"Name","plug":"output","type":{"name":"*"},"index":1},{"name":"UserId","plug":"output","type":{"name":"*"},"index":2},{"name":"Image","plug":"output","type":{"name":"*"},"index":3},{"name":"Representative","plug":"output","type":{"name":"*"},"index":4},{"name":"NotificationEmail","plug":"output","type":{"name":"*"},"index":5},{"name":"Province","plug":"output","type":{"name":"*"},"index":6},{"name":"District","plug":"output","type":{"name":"*"},"index":7},{"name":"Ward","plug":"output","type":{"name":"*"},"index":8},{"name":"PhoneNumber","plug":"output","type":{"name":"*"},"index":9},{"name":"Description","plug":"output","type":{"name":"*"},"index":10}],"dynamicports":[],"children":[]},{"id":"d03c92c3-b83c-6226-4a25-8b70fe64f4da","type":"Component Outputs","x":286,"y":-53,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"817b5015-1d51-9fcf-18a0-3f85b391588c","type":"REST2","label":"Đăng ký tổ chức","x":98,"y":-66,"parameters":{"requestScript":"// const authToken = localStorage.getItem(\"authToken\");\n\n// Request.headers = {\n//     Authorization: `Bearer ${authToken}`,\n// }\n\nRequest.content = {\n    data: {\n        Name: Inputs.Name,\n        Representative: Inputs.Representative,\n        NotificationEmail: Inputs.NotificationEmail,\n        PhoneNumber: Inputs.PhoneNumber,\n        Image: Inputs.Image || [],\n        Description: Inputs.Description,\n        user: Inputs.UserId,\n        Province: parseInt(Inputs.Province),\n        District: parseInt(Inputs.District),\n        Ward: parseInt(Inputs.Ward),\n        Confirmed: false,\n    }\n};","responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\nconsole.log(Response.content);\nOutputs.Response = Response.content;","method":"POST"},"ports":[],"dynamicports":[{"name":"in-Name","displayName":"Name","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Representative","displayName":"Representative","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-NotificationEmail","displayName":"NotificationEmail","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-PhoneNumber","displayName":"PhoneNumber","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-Image","displayName":"Image","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-Description","displayName":"Description","plug":"input","type":"*","group":"Inputs","index":14},{"name":"in-UserId","displayName":"UserId","plug":"input","type":"*","group":"Inputs","index":15},{"name":"in-Province","displayName":"Province","plug":"input","type":"*","group":"Inputs","index":16},{"name":"in-District","displayName":"District","plug":"input","type":"*","group":"Inputs","index":17},{"name":"in-Ward","displayName":"Ward","plug":"input","type":"*","group":"Inputs","index":18},{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":19}],"children":[],"metadata":{"merge":{"soureCodePorts":["requestScript","responseScript"]}}},{"id":"1f8778cc-14d0-9c16-3f57-6b6e75813f4f","type":"/#Logic/Environment","x":99,"y":-230.66666666666669,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"3426a9cf-a194-1310-1378-0cbd78c4f961","type":"JavaScriptFunction","x":99,"y":-158.66666666666669,"parameters":{"functionScript":"Outputs.URL = Inputs.API_URL\r\n    + '/support-organizations';"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-URL","displayName":"URL","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/PrintTable","id":"1061625a-d74d-4f90-a304-cf2c0c696b78","graph":{"connections":[{"fromId":"95c5c3d4-0983-e51b-8490-cb615b4ebb9c","fromProperty":"data","toId":"133ffb17-5ea7-96f2-b623-3a62e8f36cdd","toProperty":"in-data"},{"fromId":"95c5c3d4-0983-e51b-8490-cb615b4ebb9c","fromProperty":"Do","toId":"133ffb17-5ea7-96f2-b623-3a62e8f36cdd","toProperty":"run"}],"roots":[{"id":"95c5c3d4-0983-e51b-8490-cb615b4ebb9c","type":"Component Inputs","x":-166,"y":-13,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"data","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"661a8069-4ea2-cdb1-cd2d-f917f4b42769","type":"Component Outputs","x":300,"y":0,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"133ffb17-5ea7-96f2-b623-3a62e8f36cdd","type":"JavaScriptFunction","x":77,"y":-15,"parameters":{"functionScript":"const data = Inputs.data;\r\n\r\n// function mapData(data) {\r\n//   return data.map((item) => ({\r\n//     \"Tên\": item.FullName ?? \"\",\r\n//     \"Mô tả\": item.RequestDescription ?? \"\",\r\n//     \"Cần đồ ăn\": item.NeedFood ? \"Có\" : \"Không\",\r\n//     \"Cần nước\": item.NeedWater ? \"Có\" : \"Không\",\r\n//     \"Cần y tế\": item.NeedMedical ? \"Có\" : \"Không\",\r\n//     \"Số người\": item.PeopleCount ?? \"\",\r\n//     \"Địa chỉ\": item.Road ?? \"\",\r\n//     \"Amenity\": item.Amenity ?? \"\",\r\n//     \"Xã phường\": item.Ward?.FullName ?? \"\",\r\n//     \"Huyện\": item.District?.FullName ?? \"\",\r\n//     \"Tỉnh\": item.Province?.FullName ?? \"\",\r\n//   }));\r\n// }\r\n\r\n\r\n// Hàm tạo bảng HTML từ JSON\r\nfunction generateTable(data) {\r\n  let table = \"<table style='width: 100%; border-collapse: collapse; border: 1px solid black;'>\";\r\n\r\n  // Tạo tiêu đề cột (headers)\r\n  table += \"<thead><tr>\";\r\n  Object.keys(data[0]).forEach((key) => {\r\n    table += `<th style='border: 1px solid black; padding: 8px; text-align: left;'>${key}</th>`;\r\n  });\r\n  table += \"</tr></thead>\";\r\n\r\n  // Tạo nội dung bảng\r\n  table += \"<tbody>\";\r\n  data.forEach((row) => {\r\n    table += \"<tr>\";\r\n    Object.values(row).forEach((value) => {\r\n      table += `<td style='border: 1px solid black; padding: 8px;'>${value}</td>`;\r\n    });\r\n    table += \"</tr>\";\r\n  });\r\n  table += \"</tbody></table>\";\r\n\r\n  return table;\r\n}\r\n\r\n// Hàm in bảng ngay khi chạy\r\nfunction printTableImmediately() {\r\n  const tableContent = generateTable(data); // Tạo bảng từ dữ liệu đã map\r\n\r\n  const currentDateTime = new Date().toLocaleString(); // Lấy thời gian hiện tại\r\n  const recordCount = data.length; // Số lượng bản ghi\r\n\r\n  const printWindow = window.open(\"\", \"\", \"width=800,height=600\"); // Mở cửa sổ in\r\n  printWindow.document.write(\"<html><head><title>In bảng</title></head><body>\");\r\n\r\n  // Thêm tiêu đề và thời gian\r\n  printWindow.document.write(\"<h1 style='text-align: center;'>Danh sách</h1>\");\r\n  printWindow.document.write(\"<h4 style='text-align: center;'>UniHand</h4>\");\r\n  printWindow.document.write(`<p style='text-align: center;'>Thời gian in: ${currentDateTime}</p>`);\r\n  printWindow.document.write(`<p style='text-align: center;'>Tổng số: ${recordCount}</p>`);\r\n\r\n  // Chèn nội dung bảng\r\n  printWindow.document.write(tableContent);\r\n\r\n  printWindow.document.write(\"</body></html>\");\r\n  printWindow.document.close();\r\n  printWindow.print(); // Gọi lệnh in\r\n  // printWindow.close(); // Đóng cửa sổ sau khi in\r\n}\r\n\r\n// Gọi hàm in bảng\r\ndata && printTableImmediately();\r\n"},"ports":[],"dynamicports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/Register","id":"0f7de0c4-4cdc-54e5-6f74-62a4c0166a99","graph":{"connections":[{"fromId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","fromProperty":"success","toId":"84bd674c-1a3d-5b4f-97f1-5351fc7281d9","toProperty":"run"},{"fromId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","fromProperty":"success","toId":"67d4b9d4-5b8c-0bae-3665-89b6ec9fa3c0","toProperty":"Do"},{"fromId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","fromProperty":"failure","toId":"7eb30711-cff3-4aa4-6a76-020d9a3500a4","toProperty":"Do"},{"fromId":"fa8ae398-f49c-896f-3bac-1bfe9b2993ba","fromProperty":"Password","toId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","toProperty":"in-Password"},{"fromId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","fromProperty":"success","toId":"7395bf61-9e59-799e-52fe-9c39d3b39ae9","toProperty":"Success"},{"fromId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","fromProperty":"failure","toId":"7395bf61-9e59-799e-52fe-9c39d3b39ae9","toProperty":"Failure"},{"fromId":"fa8ae398-f49c-896f-3bac-1bfe9b2993ba","fromProperty":"Email","toId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","toProperty":"in-Email"},{"fromId":"fa8ae398-f49c-896f-3bac-1bfe9b2993ba","fromProperty":"Username","toId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","toProperty":"in-Username"},{"fromId":"da358cc9-ef60-8a06-e9c6-f43ff150c0b9","fromProperty":"REGISTER_URL","toId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","toProperty":"resource"},{"fromId":"fa8ae398-f49c-896f-3bac-1bfe9b2993ba","fromProperty":"Fetch","toId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","toProperty":"fetch"},{"fromId":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","fromProperty":"out-ErrorMessages","toId":"7395bf61-9e59-799e-52fe-9c39d3b39ae9","toProperty":"ErrorMessages"}],"roots":[{"id":"fa8ae398-f49c-896f-3bac-1bfe9b2993ba","type":"Component Inputs","x":-236,"y":-137,"parameters":{},"ports":[{"name":"Email","plug":"output","type":"*","index":0},{"name":"Password","plug":"output","type":{"name":"*"},"index":1},{"name":"Fetch","plug":"output","type":{"name":"*"},"index":2},{"name":"Username","plug":"output","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"7395bf61-9e59-799e-52fe-9c39d3b39ae9","type":"Component Outputs","x":-236,"y":-5,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"ErrorMessages","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"73a2f4c4-d935-3dc8-e8a8-506f9b3ba30d","type":"REST2","x":0,"y":-97,"parameters":{"requestScript":"Request.content = {\n    'username': Inputs.Username,\n    \"email\": Inputs.Email,\n    \"password\": Inputs.Password\n};","responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\n\nif(Response.status == 200) {\n    const authToken = Response.content.jwt;\n    const user = Response.content.user;\n\n    localStorage.setItem('authToken', authToken);\n    localStorage.setItem('user', JSON.stringify(user));\n}\n\nif(Response.status == 400) {\n    Outputs.ErrorMessages =Response.content.error.message;\n}","method":"POST"},"ports":[],"dynamicports":[{"name":"in-Username","displayName":"Username","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-Password","displayName":"Password","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-ErrorMessages","displayName":"ErrorMessages","plug":"output","type":"*","group":"Outputs","index":12}],"children":[],"metadata":{"merge":{"soureCodePorts":["requestScript","responseScript"]}}},{"id":"84bd674c-1a3d-5b4f-97f1-5351fc7281d9","type":"JavaScriptFunction","label":"ReloadPage","x":200,"y":-159,"parameters":{"functionScript":"window.location.reload();"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"67d4b9d4-5b8c-0bae-3665-89b6ec9fa3c0","type":"/Components/Show Toast","label":"Đăng ký thành công","x":200,"y":-73,"parameters":{"Type":"Success","Message":"Đăng ký thành công"},"ports":[],"dynamicports":[],"children":[]},{"id":"7eb30711-cff3-4aa4-6a76-020d9a3500a4","type":"/Components/Show Toast","label":"Đăng ký không thành công","x":200,"y":27,"parameters":{"Type":"Error","Message":"Đăng ký không thành công"},"ports":[],"dynamicports":[],"children":[]},{"id":"da358cc9-ef60-8a06-e9c6-f43ff150c0b9","type":"/#Logic/Environment","x":0,"y":-170,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/ReloadPage","id":"009a9415-b81c-c499-17f4-aff4cfb66f76","graph":{"connections":[{"fromId":"892f2587-7059-25b5-44c8-429516984648","fromProperty":"Do","toId":"69d816c7-5f1c-2d2f-7697-373bf23e014a","toProperty":"run"}],"roots":[{"id":"69d816c7-5f1c-2d2f-7697-373bf23e014a","type":"JavaScriptFunction","x":247.5,"y":-3,"parameters":{"functionScript":"window.location.reload();"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"892f2587-7059-25b5-44c8-429516984648","type":"Component Inputs","x":0,"y":0,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/SOS","id":"738c1290-be16-adba-c63c-c4b19b40de8e","graph":{"connections":[{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"Fetch","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"fetch"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"FullName","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-FullName"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"RequestDescription","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-RequestDescription"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"PeopleCount","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-PeopleCount"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"NeedMedical","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-NeedMedical"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"PhoneNumber","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-PhoneNumber"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"Email","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-Email"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"NeedFood","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-NeedFood"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"NeedWater","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-NeedWater"},{"fromId":"7b13cf07-4da0-5dad-b40b-32a94ed329ab","fromProperty":"API_URL","toId":"38978442-0466-8037-d5a0-93f36d866cc0","toProperty":"in-API_URL"},{"fromId":"38978442-0466-8037-d5a0-93f36d866cc0","fromProperty":"out-URL","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"resource"},{"fromId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","fromProperty":"out-Data","toId":"3d6d61c3-8dee-66bb-b45e-9ba3cff41978","toProperty":"Response"},{"fromId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","fromProperty":"out-Success","toId":"3d6d61c3-8dee-66bb-b45e-9ba3cff41978","toProperty":"Success"},{"fromId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","fromProperty":"out-Failure","toId":"3d6d61c3-8dee-66bb-b45e-9ba3cff41978","toProperty":"Failure"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"Latitude","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-Latitude"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"Longitude","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-Longitude"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"Disaster","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-Disaster"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"DamageImage","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-DamageImage"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"Ward","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-Ward"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"District","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-District"},{"fromId":"b1868a68-c914-2673-8a98-08d7fd6d215a","fromProperty":"Province","toId":"ff70af20-f8c5-0ae9-15cb-fd6659901461","toProperty":"in-Province"}],"roots":[{"id":"b1868a68-c914-2673-8a98-08d7fd6d215a","type":"Component Inputs","x":-193,"y":-129,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":{"name":"*"},"index":1},{"name":"FullName","plug":"output","type":{"name":"*"},"index":2},{"name":"RequestDescription","plug":"output","type":{"name":"*"},"index":3},{"name":"PeopleCount","plug":"output","type":{"name":"*"},"index":4},{"name":"NeedWater","plug":"output","type":{"name":"*"},"index":5},{"name":"NeedFood","plug":"output","type":{"name":"*"},"index":6},{"name":"NeedMedical","plug":"output","type":{"name":"*"},"index":7},{"name":"PhoneNumber","plug":"output","type":{"name":"*"},"index":8},{"name":"Email","plug":"output","type":{"name":"*"},"index":9},{"name":"Latitude","plug":"output","type":{"name":"*"},"index":13},{"name":"Longitude","plug":"output","type":{"name":"*"},"index":14},{"name":"Disaster","plug":"output","type":{"name":"*"},"index":15},{"name":"DamageImage","plug":"output","type":{"name":"*"},"index":16},{"name":"Ward","plug":"output","type":{"name":"*"},"index":17},{"name":"District","plug":"output","type":{"name":"*"},"index":18},{"name":"Province","plug":"output","type":{"name":"*"},"index":19}],"dynamicports":[],"children":[]},{"id":"3d6d61c3-8dee-66bb-b45e-9ba3cff41978","type":"Component Outputs","x":212,"y":191,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2},{"name":"Message","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"ff70af20-f8c5-0ae9-15cb-fd6659901461","type":"REST2","x":19.5,"y":-149,"parameters":{"responseScript":"console.log(Response);\n\nif (Response.status === 201) {\n    Outputs.Success = true; \n    Outputs.Data = Response.content; \n} else {\n    Outputs.Failure = true; \n    Outputs.Data = null;\n}\n","method":"POST","requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\n\nRequest.content = {\n    data: {\n        \"FullName\": Inputs.FullName,\n        \"RequestDescription\": Inputs.RequestDescription,\n        \"PeopleCount\": parseInt(Inputs.PeopleCount) || 1,\n        \"NeedWater\": Inputs.NeedWater,\n        \"NeedFood\": Inputs.NeedFood,\n        \"NeedMedical\": Inputs.NeedMedical,\n        \"PhoneNumber\": Inputs.PhoneNumber,\n        \"Email\": Inputs.Email,\n        \"Location\": {\n            \"lat\": parseFloat(Inputs.Latitude),\n            \"lng\": parseFloat(Inputs.Longitude)\n        },\n        \"Province\": parseInt(Inputs.Province),\n        \"District\": parseInt(Inputs.District),\n        \"Ward\": parseInt(Inputs.Ward),\n        \"DamageImage\": Inputs.DamageImage,\n        \"Disaster\": parseInt(Inputs.Disaster),\n    }\n};\n"},"ports":[],"dynamicports":[{"name":"in-FullName","displayName":"FullName","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-RequestDescription","displayName":"RequestDescription","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-PeopleCount","displayName":"PeopleCount","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-NeedWater","displayName":"NeedWater","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-NeedFood","displayName":"NeedFood","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-NeedMedical","displayName":"NeedMedical","plug":"input","type":"*","group":"Inputs","index":14},{"name":"in-PhoneNumber","displayName":"PhoneNumber","plug":"input","type":"*","group":"Inputs","index":15},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":16},{"name":"in-Latitude","displayName":"Latitude","plug":"input","type":"*","group":"Inputs","index":17},{"name":"in-Longitude","displayName":"Longitude","plug":"input","type":"*","group":"Inputs","index":18},{"name":"in-Disaster","displayName":"Disaster","plug":"input","type":"*","group":"Inputs","index":19},{"name":"in-Province","displayName":"Province","plug":"input","type":"*","group":"Inputs","index":20},{"name":"in-District","displayName":"District","plug":"input","type":"*","group":"Inputs","index":21},{"name":"in-Ward","displayName":"Ward","plug":"input","type":"*","group":"Inputs","index":22},{"name":"in-DamageImage","displayName":"DamageImage","plug":"input","type":"*","group":"Inputs","index":23},{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":24},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":25},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"*","group":"Outputs","index":26}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript","requestScript"]}}},{"id":"7b13cf07-4da0-5dad-b40b-32a94ed329ab","type":"/#Logic/Environment","x":19.5,"y":-221,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"38978442-0466-8037-d5a0-93f36d866cc0","type":"JavaScriptFunction","x":-192.5,"y":-221.25,"parameters":{"functionScript":"Outputs.URL = Inputs.API_URL \r\n    + '/sos-requests';"},"ports":[],"dynamicports":[{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-URL","displayName":"URL","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/TimeAgo","id":"9d9d22cd-0cd8-e83f-64a3-67434c205298","graph":{"connections":[{"fromId":"cbed9366-7762-e5d0-a255-f546f8ae98a2","fromProperty":"out-TimeAgo","toId":"e7b4e9e5-bebc-3557-9142-b2ca30c7a942","toProperty":"TimeAgo"},{"fromId":"06c9a51e-4321-4b8a-fd17-31e15535450e","fromProperty":"Date","toId":"cbed9366-7762-e5d0-a255-f546f8ae98a2","toProperty":"in-Date"}],"roots":[{"id":"06c9a51e-4321-4b8a-fd17-31e15535450e","type":"Component Inputs","x":-135,"y":-57,"parameters":{},"ports":[{"name":"Date","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"e7b4e9e5-bebc-3557-9142-b2ca30c7a942","type":"Component Outputs","x":219,"y":-57,"parameters":{},"ports":[{"name":"TimeAgo","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"cbed9366-7762-e5d0-a255-f546f8ae98a2","type":"JavaScriptFunction","x":42,"y":-57,"parameters":{"functionScript":"const date = new Date(Inputs.Date)\r\n\r\nconst now = new Date();\r\n\r\nconst seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\nconst intervals = {\r\n    \"năm\": 31536000,\r\n    \"tháng\": 2592000,\r\n    \"tuần\": 604800,\r\n    \"ngày\": 86400,\r\n    \"giờ\": 3600,\r\n    \"phút\": 60,\r\n    \"giây\": 1,\r\n};\r\nfor (const key in intervals) {\r\n    const interval = intervals[key];\r\n    const count = Math.floor(seconds / interval);\r\n\r\n    if (count >= 1) {\r\n        Outputs.TimeAgo = `${count} ${key}${count > 1 ? \" trước \" : \"\"}`;\r\n        return;\r\n    }\r\n}\r\n\r\nOutputs.TimeAgo = \"bây giờ\";"},"ports":[],"dynamicports":[{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-TimeAgo","displayName":"TimeAgo","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Logic/UpdateProvinceData","id":"afbbedb5-f060-bf5f-dc49-e0539d58c907","graph":{"connections":[{"fromId":"6abd86d0-4795-ac36-8962-0840450825f2","fromProperty":"Data","toId":"5abb5ad2-ca82-d3f1-be88-a0685d4baa0f","toProperty":"in-data"},{"fromId":"5abb5ad2-ca82-d3f1-be88-a0685d4baa0f","fromProperty":"out-Success","toId":"7b990f49-74b6-14a5-f064-3bc2830a3ac7","toProperty":"Success"},{"fromId":"5abb5ad2-ca82-d3f1-be88-a0685d4baa0f","fromProperty":"out-ProvinceList","toId":"7b990f49-74b6-14a5-f064-3bc2830a3ac7","toProperty":"ProvinceList"},{"fromId":"6abd86d0-4795-ac36-8962-0840450825f2","fromProperty":"Data","toId":"5abb5ad2-ca82-d3f1-be88-a0685d4baa0f","toProperty":"run"}],"roots":[{"id":"5abb5ad2-ca82-d3f1-be88-a0685d4baa0f","type":"JavaScriptFunction","x":-413,"y":85,"parameters":{"functionScript":"const data = Inputs.data;\r\n\r\nfunction extractProvincesFromObject(data) {\r\n    return data?.Provinces?.map(province => ({\r\n        name: province.FullName,\r\n        location: {\r\n            lat: parseFloat(province.Latitude) || 0,\r\n            lng: parseFloat(province.Longitude) || 0,\r\n        },\r\n    }));\r\n}\r\n\r\nfunction extractProvincesFromArray(data) {\r\n    const seen = new Set();\r\n    return data.flatMap((item) =>\r\n        item.Provinces.map((province) => ({\r\n            name: province.FullName,\r\n            location: {\r\n                lat: parseFloat(province.Latitude) || 0,\r\n                lng: parseFloat(province.Longitude) || 0,\r\n            },\r\n        }))\r\n    ).filter(province => {\r\n        if (seen.has(province.name)) {\r\n            return false;\r\n        } else {\r\n            seen.add(province.name);\r\n            return true;\r\n        }\r\n    });\r\n}\r\n\r\nif (data) {\r\n    const provinces = Array.isArray(data) \r\n        ? extractProvincesFromArray(data)\r\n        : extractProvincesFromObject(data);\r\n\r\n    const oldProvinces = JSON.parse(localStorage.getItem(\"provinces\")) || [];\r\n\r\n    if (JSON.stringify(provinces) === JSON.stringify(oldProvinces)) {\r\n        Outputs.Success = true;\r\n        return;\r\n    } \r\n    \r\n    if (provinces !== undefined) {\r\n        localStorage.setItem(\"provinces\", JSON.stringify(provinces));\r\n        Outputs.ProvinceList = JSON.stringify(provinces);\r\n        Outputs.Success = true;\r\n        return;\r\n    }\r\n}\r\n\r\nOutputs.Success = false;"},"ports":[],"dynamicports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ProvinceList","displayName":"ProvinceList","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"6abd86d0-4795-ac36-8962-0840450825f2","type":"Component Inputs","x":-412.5,"y":2,"parameters":{},"ports":[{"name":"Data","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"7b990f49-74b6-14a5-f064-3bc2830a3ac7","type":"Component Outputs","x":-640.5,"y":94.5,"parameters":{},"ports":[{"name":"Success","plug":"input","type":{"name":"*"},"index":1},{"name":"ProvinceList","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Logic/UpdateRequestState","id":"798b82b4-15f6-adb9-604f-4b41447c81d1","graph":{"connections":[{"fromId":"61e13857-a1a1-4d6d-18e2-ee835045791f","fromProperty":"Fetch","toId":"bc6e5b58-bbec-8e8d-deb8-ed473325125a","toProperty":"fetch"},{"fromId":"bc6e5b58-bbec-8e8d-deb8-ed473325125a","fromProperty":"success","toId":"d16ea1a7-f7d7-2f2b-782a-35d3d09378fd","toProperty":"Success"},{"fromId":"bc6e5b58-bbec-8e8d-deb8-ed473325125a","fromProperty":"failure","toId":"d16ea1a7-f7d7-2f2b-782a-35d3d09378fd","toProperty":"Failure"},{"fromId":"61e13857-a1a1-4d6d-18e2-ee835045791f","fromProperty":"DocumentId","toId":"defc6916-6e75-e197-25a5-78ebab6ea3d4","toProperty":"DocumentId"},{"fromId":"8d3ce20c-3b47-c4d6-bbb9-564bc149067d","fromProperty":"API_URL","toId":"defc6916-6e75-e197-25a5-78ebab6ea3d4","toProperty":"API_URL"},{"fromId":"defc6916-6e75-e197-25a5-78ebab6ea3d4","fromProperty":"result","toId":"bc6e5b58-bbec-8e8d-deb8-ed473325125a","toProperty":"resource"},{"fromId":"bc6e5b58-bbec-8e8d-deb8-ed473325125a","fromProperty":"out-Response","toId":"d16ea1a7-f7d7-2f2b-782a-35d3d09378fd","toProperty":"Response"}],"roots":[{"id":"61e13857-a1a1-4d6d-18e2-ee835045791f","type":"Component Inputs","x":150,"y":428,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"DocumentId","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"d16ea1a7-f7d7-2f2b-782a-35d3d09378fd","type":"Component Outputs","x":586,"y":407,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"bc6e5b58-bbec-8e8d-deb8-ed473325125a","type":"REST2","x":398,"y":427,"parameters":{"requestScript":"//Add custom code to setup the request object before the request\n//is made.\n//\n//*Request.resource     contains the resource path of the request.\n//*Request.method       contains the method, GET, POST, PUT or DELETE.\n//*Request.headers      is a map where you can add additional headers.\n//*Request.parameters   is a map the parameters that will be appended\n//                      to the url.\n//*Request.content      contains the content of the request as a javascript\n//                      object.\n//\n\nconst tokenInfo = localStorage.getItem(\"authToken\");\n\nRequest.headers = {\n    Authorization: `Bearer ${tokenInfo}`,\n}\n\nRequest.content = {\n    data :{\n        \"State\" : false,\n    }\n};\n","responseScript":"Outputs.Response = Response.content.data;","method":"PUT"},"ports":[],"dynamicports":[{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["requestScript","responseScript"]}}},{"id":"8d3ce20c-3b47-c4d6-bbb9-564bc149067d","type":"/#Logic/Environment","x":397,"y":199,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"defc6916-6e75-e197-25a5-78ebab6ea3d4","type":"Expression","x":398,"y":271,"parameters":{"expression":"API_URL + '/sos-requests/' + DocumentId"},"ports":[],"dynamicports":[{"group":"Parameters","name":"API_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"DocumentId","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}}],"visualRoots":[]}},{"name":"/#Logic/UploadImage","id":"453a3e56-1996-2259-0616-e27a0c5db6ec","graph":{"connections":[{"fromId":"4fe879dd-3eac-b960-fd7b-ec32fc83f53b","fromProperty":"file","toId":"4fdb9572-3f7e-06c5-3613-4f809dc607b1","toProperty":"in-file"},{"fromId":"4fe879dd-3eac-b960-fd7b-ec32fc83f53b","fromProperty":"Do","toId":"4fdb9572-3f7e-06c5-3613-4f809dc607b1","toProperty":"run"},{"fromId":"4fdb9572-3f7e-06c5-3613-4f809dc607b1","fromProperty":"out-data","toId":"5cf01de2-f6fb-9be3-d0d8-fb4f7e167fbc","toProperty":"idImage"},{"fromId":"4fdb9572-3f7e-06c5-3613-4f809dc607b1","fromProperty":"out-Success","toId":"5cf01de2-f6fb-9be3-d0d8-fb4f7e167fbc","toProperty":"Success"},{"fromId":"4fdb9572-3f7e-06c5-3613-4f809dc607b1","fromProperty":"out-Failute","toId":"5cf01de2-f6fb-9be3-d0d8-fb4f7e167fbc","toProperty":"Failure"},{"fromId":"5767ecb0-72e4-f3ea-fd46-b12834e1203b","fromProperty":"API_URL","toId":"4fdb9572-3f7e-06c5-3613-4f809dc607b1","toProperty":"in-API_URL"}],"roots":[{"id":"4fe879dd-3eac-b960-fd7b-ec32fc83f53b","type":"Component Inputs","x":-110,"y":6,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"file","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"5cf01de2-f6fb-9be3-d0d8-fb4f7e167fbc","type":"Component Outputs","x":244,"y":6,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"idImage","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"4fdb9572-3f7e-06c5-3613-4f809dc607b1","type":"JavaScriptFunction","x":65,"y":6,"parameters":{"functionScript":"const file = Inputs.file\r\nconst API_URL = Inputs.API_URL;\r\nconst url = API_URL + '/upload';\r\n\r\nif (file) {\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"files\", file);\r\n\r\n    fetch(url, {\r\n        method: \"POST\",\r\n        body: formData,\r\n    })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            Outputs.data = data[0].id\r\n            Outputs.Success()\r\n        })\r\n        .catch((error) => {\r\n            Outputs.Failute()\r\n        });\r\n} else {\r\n    Outputs.data = null\r\n    Outputs.Failute()\r\n}\r\n\r\n\r\n"},"ports":[],"dynamicports":[{"name":"in-file","displayName":"file","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failute","displayName":"Failute","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"5767ecb0-72e4-f3ea-fd46-b12834e1203b","type":"/#Logic/Environment","x":68.83333333333337,"y":-67.83333333333334,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/App","graph":{"connections":[{"fromId":"4014afac-360b-6244-18b0-96bffccd1cff","fromProperty":"Success","toId":"d5972dff-5dfd-bde9-20aa-e177f78d18d2","toProperty":"Run"},{"fromId":"246f9453-a119-ac78-171e-3806cf596ecc","fromProperty":"didMount","toId":"4014afac-360b-6244-18b0-96bffccd1cff","toProperty":"Run"}],"roots":[{"id":"246f9453-a119-ac78-171e-3806cf596ecc","type":"Group","x":-121.4681915301291,"y":286.4376377651178,"parameters":{"backgroundColor":"#FFFFFF","flexDirection":"column","scrollEnabled":true},"ports":[],"dynamicports":[],"children":[{"id":"da56ae96-9b61-b89d-51d3-ec0a5cd4bbda","type":"/Components/Header menu","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"bcd401d8-9a59-5c37-8d48-586daaf509e1","type":"Router","parameters":{"pages":{"routes":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"startPage":"/Page/home"},"name":"Main","mounted":true},"ports":[],"dynamicports":[],"children":[]}]},{"id":"d5972dff-5dfd-bde9-20aa-e177f78d18d2","type":"/#Logic/CheckOrganization","x":283.78180846987084,"y":241.4376377651178,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4014afac-360b-6244-18b0-96bffccd1cff","type":"/#Logic/CheckAuth","x":78.03180846987084,"y":225.4376377651178,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["246f9453-a119-ac78-171e-3806cf596ecc"]},"metadata":{"canvasSize":{"width":"1039px","height":"751px"},"canvasPos":{"x":0,"y":0}}},{"name":"/Components/Form","id":"2f58f3f6-ee32-8628-cd82-c18349bf49e5","graph":{"connections":[{"fromId":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","fromProperty":"Align Y","toId":"1e4daec1-a436-f221-cd85-7142a216dadb","toProperty":"alignY"},{"fromId":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","fromProperty":"Align X","toId":"1e4daec1-a436-f221-cd85-7142a216dadb","toProperty":"alignX"},{"fromId":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","fromProperty":"Margin Top","toId":"1e4daec1-a436-f221-cd85-7142a216dadb","toProperty":"marginTop"},{"fromId":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","fromProperty":"Margin Bottom","toId":"1e4daec1-a436-f221-cd85-7142a216dadb","toProperty":"marginBottom"},{"fromId":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","fromProperty":"Margin Left","toId":"1e4daec1-a436-f221-cd85-7142a216dadb","toProperty":"marginLeft"},{"fromId":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","fromProperty":"Margin Right","toId":"1e4daec1-a436-f221-cd85-7142a216dadb","toProperty":"marginRight"},{"fromId":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","fromProperty":"Position","toId":"1e4daec1-a436-f221-cd85-7142a216dadb","toProperty":"position"},{"fromId":"a33f7311-4de8-bf72-06b9-1fc5e0175706","fromProperty":"Controls","toId":"b2ce7663-768e-32a7-1d57-0e58dac10af3","toProperty":"in-Controls"},{"fromId":"a33f7311-4de8-bf72-06b9-1fc5e0175706","fromProperty":"Object Id","toId":"b2ce7663-768e-32a7-1d57-0e58dac10af3","toProperty":"in-ObjectId"},{"fromId":"a33f7311-4de8-bf72-06b9-1fc5e0175706","fromProperty":"Errors","toId":"b2ce7663-768e-32a7-1d57-0e58dac10af3","toProperty":"in-Errors"},{"fromId":"e3e10038-db81-02b8-8531-a2406f17fabe","fromProperty":"out-Changed","toId":"e2634b8d-e637-3d61-a936-4126f8d433ed","toProperty":"Value Changed"},{"fromId":"e3e10038-db81-02b8-8531-a2406f17fabe","fromProperty":"out-Property","toId":"e2634b8d-e637-3d61-a936-4126f8d433ed","toProperty":"Property"},{"fromId":"1e4daec1-a436-f221-cd85-7142a216dadb","fromProperty":"didMount","toId":"276f3fa1-68ee-5d2c-5e81-ae768262d6a2","toProperty":"run"},{"fromId":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","fromProperty":"Width","toId":"1e4daec1-a436-f221-cd85-7142a216dadb","toProperty":"width"},{"fromId":"a33f7311-4de8-bf72-06b9-1fc5e0175706","fromProperty":"Submit","toId":"b6fcac5f-3104-5909-bf4d-9e954dac381a","toProperty":"run"},{"fromId":"b6fcac5f-3104-5909-bf4d-9e954dac381a","fromProperty":"out-Validated","toId":"ab8234d5-195f-41d2-1873-c0afbb748ce7","toProperty":"Valid Submit"},{"fromId":"b6fcac5f-3104-5909-bf4d-9e954dac381a","fromProperty":"out-HaveErrors","toId":"ab8234d5-195f-41d2-1873-c0afbb748ce7","toProperty":"Have Errors"},{"fromId":"b8874e1a-d12a-38b7-da00-3206c5ba86c4","fromProperty":"value-ControlItems","toId":"b53f6dfb-e69e-4c29-6889-a6ba9c42b475","toProperty":"items"},{"fromId":"b2ce7663-768e-32a7-1d57-0e58dac10af3","fromProperty":"out-ObjectId","toId":"ab8234d5-195f-41d2-1873-c0afbb748ce7","toProperty":"Object Id"}],"roots":[{"id":"1e4daec1-a436-f221-cd85-7142a216dadb","type":"Group","x":-210,"y":-70,"parameters":{"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"b53f6dfb-e69e-4c29-6889-a6ba9c42b475","type":"For Each","parameters":{"templateType":"dynamic","templateScript":"if(item.Type !== undefined)\n    component = './' + item.Type\nelse\n    component = \"./Text Input\""},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["templateScript"]}}}]},{"id":"4a0eb0ed-3dee-7ca7-1822-411c4114b417","type":"Component Inputs","x":-434,"y":-70,"parameters":{},"ports":[{"name":"Align X","plug":"output","type":{"name":"*"},"group":"Alignment","index":1},{"name":"Align Y","plug":"output","type":{"name":"*"},"group":"Alignment","index":0},{"name":"Position","plug":"output","type":{"name":"*"},"group":"Layout","index":7},{"name":"Margin Top","plug":"output","type":{"name":"*"},"group":"Margins","index":2},{"name":"Margin Bottom","plug":"output","type":{"name":"*"},"group":"Margins","index":3},{"name":"Margin Left","plug":"output","type":{"name":"*"},"group":"Margins","index":4},{"name":"Margin Right","plug":"output","type":{"name":"*"},"group":"Margins","index":5},{"name":"Width","plug":"output","type":{"name":"*"},"group":"Dimensions","index":8}],"dynamicports":[],"children":[]},{"id":"a33f7311-4de8-bf72-06b9-1fc5e0175706","type":"Component Inputs","x":-433.5,"y":214,"parameters":{},"ports":[{"name":"Controls","plug":"output","type":{"name":"*"},"group":"General","index":0},{"name":"Object Id","plug":"output","type":{"name":"*"},"group":"General","index":1},{"name":"Errors","plug":"output","type":{"name":"*"},"group":"General","index":2},{"name":"Submit","plug":"output","type":{"name":"*"},"group":"Actions","index":3}],"dynamicports":[],"children":[]},{"id":"b2ce7663-768e-32a7-1d57-0e58dac10af3","type":"JavaScriptFunction","x":-189.5,"y":232,"parameters":{"functionScript":"// No controls, just exit with empty array\nif(Inputs.Controls === undefined) {\n    Component.Object.ControlItems = []\n    return\n}\n\n// If there is no object id provided, create a new object for form values\nlet formValues\nif(!Inputs.ObjectId || !Noodl.Object.exists(Inputs.ObjectId)) {\n    formValues = Component.Object.FormValues || Noodl.Object.create({})\n}\nelse {\n    formValues = Noodl.Objects[Inputs.ObjectId]\n}\n\nComponent.Object.FormValues = formValues\nOutputs.ObjectId = formValues.getId()\nconst errors = Component.Object.Errors = Inputs.Errors\n\n// Create the control items array (all form controls)\nComponent.Object.ControlItems = Inputs.Controls.map(c => {\n    // Errors should only be shown for a control if it has\n    // been edited, or if the form has been submitted (show all errors)\n    const haveValues = Component.Object.HaveValues||{}\n    const showAllErrors = Component.Object.ShowAllErrors\n    const error = (errors&&(haveValues[c.Property]||showAllErrors))?errors.find(e => e.Property === c.Property):undefined\n\n    const controlItem = {\n        id:Component.Object.id + '-' + c.Property,\n        Value:formValues[c.Property],\n        ObjectId:formValues.getId(),\n        Error:error?error.Error:\"\"\n    }\n\n    for(let key in c) { // Copy non function values to the new object\n        if(typeof c[key] !== \"function\" && typeof c[key] !== \"undefined\")\n            controlItem[key] = c[key]\n    }\n\n    return Noodl.Object.create(controlItem)\n})","scriptInputs":[{"id":"rzc4","label":"Controls"}],"intype-Controls":"array","in-Controls":"[\n    {\n        Type:\"Text Input\",\n        Label:\"Full Name\",\n        Property:\"Name\",\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Password\",\n        Property:\"Password\",\n        InputType:\"password\"\n    },    \n    {\n        Type:\"Checkbox\",\n        Label:\"Security\",\n        Text:\"Keep me signed in?\",\n        Property:\"KeepSignedIn\"\n    }\n]"},"ports":[],"dynamicports":[{"name":"intype-Controls","displayName":"Type","editorName":"Controls | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"rzc4","index":4},{"name":"in-Controls","displayName":"Controls","plug":"input","type":"array","group":"Inputs","index":5},{"name":"in-ObjectId","displayName":"ObjectId","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Errors","displayName":"Errors","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-ObjectId","displayName":"ObjectId","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"b8874e1a-d12a-38b7-da00-3206c5ba86c4","type":"net.noodl.ComponentObject","x":-433.5,"y":142,"parameters":{"properties":"ControlItems"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-ControlItems","displayName":"ControlItems","index":4},{"type":"signal","plug":"output","group":"Changed Events","displayName":"ControlItems Changed","name":"changed-ControlItems","index":5}],"children":[]},{"id":"e3e10038-db81-02b8-8531-a2406f17fabe","type":"JavaScriptFunction","label":"Receive Value Changed","x":-17.5,"y":135,"parameters":{"functionScript":"Noodl.Events.on(Component.Object.id + '-Form.ValueChanged',(ev) => {\n    Component.Object.HaveValues[ev.Property] = true\n    \n    Outputs.Property = ev.Property\n    Outputs.Changed()\n})"},"ports":[],"dynamicports":[{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Property","displayName":"Property","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"e2634b8d-e637-3d61-a936-4126f8d433ed","type":"Component Outputs","x":156.5,"y":163,"parameters":{},"ports":[{"name":"Value Changed","plug":"input","type":{"name":"*"},"index":0,"group":"Events"},{"name":"Property","plug":"input","type":{"name":"*"},"index":1,"group":"General"}],"dynamicports":[],"children":[]},{"id":"276f3fa1-68ee-5d2c-5e81-ae768262d6a2","type":"JavaScriptFunction","x":-17.5,"y":63,"parameters":{"functionScript":"Component.Object.HaveValues = {}"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"b6fcac5f-3104-5909-bf4d-9e954dac381a","type":"JavaScriptFunction","x":-188.5,"y":354.99999999999994,"parameters":{"functionScript":"const errors = Component.Object.Errors\nconst controlItems = Component.Object.ControlItems\n\n// To be valid there should be no errors for any\n// controls\nconst isValid = errors === undefined || errors.length === 0 || errors.every(e => !controlItems.find(c => c.Property === e.Property))\n\nif(isValid) {\n    Outputs.Validated()\n}\nelse {\n    // There were errors, since the user tried to submit\n    // show all errors\n    Component.Object.ShowAllErrors = true\n    controlItems.forEach(c => {\n        const error = errors.find(e => e.Property === c.Property)\n        c.Error = error?error.Error:\"\"\n    })\n    Outputs.HaveErrors()\n}"},"ports":[],"dynamicports":[{"name":"out-Validated","displayName":"Validated","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-HaveErrors","displayName":"HaveErrors","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"ab8234d5-195f-41d2-1873-c0afbb748ce7","type":"Component Outputs","x":30.5,"y":297,"parameters":{},"ports":[{"name":"Valid Submit","plug":"input","type":{"name":"*"},"group":"Events","index":0},{"name":"Have Errors","plug":"input","type":{"name":"*"},"group":"Events","index":1},{"name":"Object Id","plug":"input","type":{"name":"*"},"group":"General","index":2}],"dynamicports":[],"children":[]}],"visualRoots":["1e4daec1-a436-f221-cd85-7142a216dadb"]}},{"name":"/Components/Form/Checkbox","id":"691456c4-daff-c6b2-4ae5-3ed332996d37","graph":{"connections":[{"fromId":"56b032bc-fae7-f0e4-b8b0-a803addc2071","fromProperty":"prop-Value","toId":"fa1ceb93-dd22-dcbb-c3a2-01d0e9d7c1c5","toProperty":"checked"},{"fromId":"56b032bc-fae7-f0e4-b8b0-a803addc2071","fromProperty":"prop-Label","toId":"cd3a9e8f-6c17-13c3-f324-4d9a2f3bce64","toProperty":"text"},{"fromId":"56b032bc-fae7-f0e4-b8b0-a803addc2071","fromProperty":"prop-Text","toId":"fa1ceb93-dd22-dcbb-c3a2-01d0e9d7c1c5","toProperty":"label"},{"fromId":"fa1ceb93-dd22-dcbb-c3a2-01d0e9d7c1c5","fromProperty":"onChange","toId":"d676b82b-d8c8-74f5-1018-2f4a0871c911","toProperty":"Do"},{"fromId":"fa1ceb93-dd22-dcbb-c3a2-01d0e9d7c1c5","fromProperty":"checked","toId":"d676b82b-d8c8-74f5-1018-2f4a0871c911","toProperty":"Value"},{"fromId":"56b032bc-fae7-f0e4-b8b0-a803addc2071","fromProperty":"prop-Error","toId":"25c64945-9b87-c13c-9dae-494bd249717c","toProperty":"Error"},{"fromId":"fa1ceb93-dd22-dcbb-c3a2-01d0e9d7c1c5","fromProperty":"checked","toId":"1c9a9e99-a83e-06ba-3f73-79f025503527","toProperty":"checked"}],"roots":[{"id":"41c5decf-f722-d684-aafa-a65c30beb5c3","type":"Group","x":0,"y":0,"parameters":{"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"cd3a9e8f-6c17-13c3-f324-4d9a2f3bce64","type":"Text","parameters":{"textStyle":"Label Small","text":"LABEL","marginBottom":{"value":4,"unit":"px"},"color":"Grey - 700"},"ports":[],"dynamicports":[],"children":[]},{"id":"fa1ceb93-dd22-dcbb-c3a2-01d0e9d7c1c5","type":"net.noodl.controls.checkbox","parameters":{"label":"Text"},"ports":[],"dynamicports":[],"children":[]},{"id":"25c64945-9b87-c13c-9dae-494bd249717c","type":"/Components/Form/Error","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"56b032bc-fae7-f0e4-b8b0-a803addc2071","type":"Model2","x":-287,"y":92,"parameters":{"properties":"Value,Label,Text,Error","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Text","displayName":"Text","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Text Changed","name":"changed-Text","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Error","displayName":"Error","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Error Changed","name":"changed-Error","index":14}],"children":[]},{"id":"d676b82b-d8c8-74f5-1018-2f4a0871c911","type":"/Components/Form/Set Form Value","x":292,"y":116,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"1c9a9e99-a83e-06ba-3f73-79f025503527","type":"Component Outputs","x":297.1666666666667,"y":236.66666666666669,"parameters":{},"ports":[{"name":"checked","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]}],"visualRoots":["41c5decf-f722-d684-aafa-a65c30beb5c3"]}},{"name":"/Components/Form/Date Input","id":"4be3dcab-4d84-7535-56d2-17fbf1348fb3","graph":{"connections":[{"fromId":"88633987-7781-c547-cdf0-815cbeca0fbd","fromProperty":"didMount","toId":"93631e74-6ba3-f79a-3934-ebc2e2a054e7","toProperty":"DidMount"},{"fromId":"8dd32c64-2e7e-ec01-106a-23fc5176edfe","fromProperty":"prop-Value","toId":"d7bd23ff-5d90-8355-e66a-7aef89f0a2f7","toProperty":"value-Date"},{"fromId":"93631e74-6ba3-f79a-3934-ebc2e2a054e7","fromProperty":"DateSelected","toId":"a0a53e24-6b64-6a3d-07cb-950d01024b66","toProperty":"Do"},{"fromId":"d7bd23ff-5d90-8355-e66a-7aef89f0a2f7","fromProperty":"value-Date","toId":"a0a53e24-6b64-6a3d-07cb-950d01024b66","toProperty":"Value"},{"fromId":"dd0965f8-1146-70a1-f773-c9e50333d427","fromProperty":"this","toId":"93631e74-6ba3-f79a-3934-ebc2e2a054e7","toProperty":"TextInput"},{"fromId":"8dd32c64-2e7e-ec01-106a-23fc5176edfe","fromProperty":"prop-Label","toId":"dd0965f8-1146-70a1-f773-c9e50333d427","toProperty":"label"},{"fromId":"d7bd23ff-5d90-8355-e66a-7aef89f0a2f7","fromProperty":"value-Formatted Date","toId":"dd0965f8-1146-70a1-f773-c9e50333d427","toProperty":"startValue"}],"roots":[{"id":"88633987-7781-c547-cdf0-815cbeca0fbd","type":"Group","x":979.9409282828593,"y":43.09743923247271,"parameters":{"borderColor":"#999","borderRadius":{"value":3,"unit":"px"},"sizeMode":"contentHeight","borderWidth":{"value":2,"unit":"px"},"marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"dd0965f8-1146-70a1-f773-c9e50333d427","type":"net.noodl.controls.textinput","parameters":{"placeholder":"MMM DD, YYYY"},"ports":[],"dynamicports":[],"children":[]},{"id":"979e3a96-0269-9011-9e59-82e2fddbef7d","type":"Group","parameters":{"sizeMode":"contentSize","alignY":"bottom","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"position":"absolute","alignX":"right","transformY":{"value":-10,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"66d43627-616f-75fa-e8cd-3ec4deeb21da","type":"net.noodl.visual.icon","parameters":{"iconColor":"#666","iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSize":{"value":22,"unit":"px"},"alignY":"center"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"93631e74-6ba3-f79a-3934-ebc2e2a054e7","type":"Javascript2","label":"Date Picker","x":1355.4409282828592,"y":53.59743923247271,"parameters":{"code":"function mobileAndTabletCheck() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n}\n\nfunction isMobile() {\n    return mobileAndTabletCheck()\n}\n\nconst scriptUrl = \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/js/datepicker-full.min.js\"\nconst cssUrl =  \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker.min.css\"\n\nfunction injectDatePicker(onload) {\n    if (document.querySelectorAll('#--ndl-datepicker-datepicker-js--').length === 0) {\n        window.__ndl_datepicker_onload = [onload]\n\n        var script = document.createElement('script');\n        script.id = \"--ndl-datepicker-datepicker-js--\"\n        script.setAttribute('src', scriptUrl);\n        script.onload = () => {\n            window.__ndl_datepicker_onload.forEach(cb => cb())\n            window.__ndl_datepicker_onload = []\n        }\n        document.head.appendChild(script)\n    }\n    else {\n        if (window.__ndl_datepicker_onload.length > 0) window.__ndl_datepicker_onload.push(onload)\n        else onload()\n    }\n}\n\nfunction injectDatePickerStyles() {\n    const datePickerStyles = `\n        .ndl-datepicker-native-input {\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            cursor: pointer;\n            min-width: 100%;\n            margin: 0;\n            padding: 0;\n            border: 0;\n            border-radius: 0;\n        }\n        .ndl-datepicker-native-input::-webkit-calendar-picker-indicator {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            cursor: pointer;\n        }\n\n        .datepicker {\n            display:none;\n            font-family: Roboto, sans-serif;\n            border: 1px solid ${Script.Inputs.Accent};\n            border-radius: 4px;\n        }\n\n        .datepicker-picker {\n            background-color: ${Script.Inputs.Background};\n            padding: 24px;\n        }\n\n        .datepicker-header {\n            padding-bottom: 14px;\n        }\n\n        .datepicker-header .datepicker-controls {\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .datepicker-header .datepicker-controls .button {\n            background-color: transparent;\n            color: ${Script.Inputs.Text};\n        }\n\n        .datepicker-header .datepicker-controls button.button:focus,\n        .datepicker-header .datepicker-controls button.button:hover {\n            background-color: ${Script.Inputs.HoverDateBackground};\n            color: ${Script.Inputs.HoverDateText};\n        }\n\n        .datepicker-controls .button.view-switch {\n            border: 1px solid ${Script.Inputs.Text};\n            flex: 0 0 180px;\n        }\n\n        .days-of-week .dow {\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: 400;\n            color: ${Script.Inputs.Accent}\n        }\n\n        .datepicker-grid {\n            width: 315px;\n        }\n\n        .datepicker-grid .datepicker-cell.day {\n            border-radius: 50%;\n            width: 45px;\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .datepicker-grid .datepicker-cell {\n            color: ${Script.Inputs.Text}\n            font-size: 16px;\n        }\n\n        .datepicker-grid .datepicker-cell.next,\n        .datepicker-grid .datepicker-cell.prev {\n            color: ${Script.Inputs.TextMuted};\n        }\n\n        .datepicker-grid .datepicker-cell.focused {\n        }\n\n        .datepicker-grid .datepicker-cell.selected {\n            background-color:  ${Script.Inputs.SelectedDateBackgroud};\n            color: ${Script.Inputs.SelectedDateText};\n        }\n\n        .datepicker-grid .datepicker-cell:hover,\n        .datepicker-grid .datepicker-cell:focus {\n            color: ${Script.Inputs.HoverDateText};\n            background-color: ${Script.Inputs.HoverDateBackground};\n        }\n`\n\n    if(!isMobile()) { // This sheet is only needed if we are on desktop\n        if(document.querySelectorAll('#--ndl-datepicker-sheet--').length === 0) {\n            let addSheet = document.createElement('link');\n            addSheet.id = \"--ndl-datepicker-sheet--\"\n            addSheet.setAttribute('rel', 'stylesheet');\n            addSheet.setAttribute('href',cssUrl);\n            document.head.appendChild(addSheet);\n        }\n    }\n\n    if(document.querySelectorAll('#--ndl-datepicker-styles--').length === 0) {\n        const styles = document.createElement('style')\n        styles.id = '--ndl-datepicker-styles--'\n        styles.innerHTML = datePickerStyles\n        document.head.append(styles)\n    }\n}\n\n// Format a date object into a string\nfunction formatDate(date) {\n    if(!(date instanceof Date)) return\n\n    const months = [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ]\n\n    let newDateString = months[date.getMonth()] + ' ' +date.getDate() + ', ' + date.getFullYear()\n\n    return newDateString\n}\n\n// Parse a date string in the format we use into a date object\n// if possible\nfunction parseDate(_dateString) {\n    // No valid date, return todays date\n    if(_dateString === undefined || _dateString.length < 3) \n        return null\n\n    let dateString = _dateString.trim().toLowerCase()\n\n    const months = {\n        'jan':0,\n        'feb':1,\n        'mar':2,\n        'apr':3,\n        'may':4,\n        'jun':5,\n        'jul':6,\n        'aug':7,\n        'sep':8,\n        'oct':9,\n        'nov':10,\n        'dec':11\n    }\n\n    let month = months[dateString.substring(0,3)]\n    if(month === undefined) return new Date() // Not a valid month\n\n    // Remove month\n    dateString = dateString.substring(3)\n    dateString = dateString.trim()\n\n    let sepIndex = dateString.indexOf(',')\n    let dayString = dateString.substring(0,sepIndex==-1?dateString.length:sepIndex)\n\n    let day = parseInt(dayString) || 1\n\n    let year = (new Date()).getFullYear()\n    if(sepIndex !== -1) {\n        dateString = dateString.substring(sepIndex+1)\n        dateString = dateString.trim()\n        \n        if(dateString.length === 4)\n        year = parseInt(dateString)\n    }\n\n    return new Date(year,month,day)\n}\n\n// Compare two dates, ignoring the time\nfunction compareDates(a,b) {\n    if(a.getFullYear() === b.getFullYear() && a.getDate() === b.getDate() && a.getMonth() === b.getMonth())\n        return true\n\n    return false\n}\n\nvar dateInput,datepicker,datePopup\n\nconst TextInputFocused = () => {\n    Component.Object.TextInputIsFocused = true\n\n    // If the text input is focused and we are not running on a mobile device\n    // launch the popup\n    if(!isMobile()) {\n        const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        const rect = textInput.getBoundingClientRect()\n\n      //  let top = rect.bottom + Script.Inputs.PopupMarginTop\n      //  let left = rect.left + Script.Inputs.PopupMarginRight\n\n        datePopup = document.createElement('div')\n        datePopup.style.zIndex = 100\n        datePopup.style.position = 'absolute'\n        datePopup.style.border = \"1px solid \" + Script.Inputs.BorderColor\n        datePopup.style.borderRadius = \"4px\"\n        datePopup.style.top = (rect.bottom + Script.Inputs.PopupMarginTop) + 'px'\n        datePopup.style.left = (rect.left + Script.Inputs.PopupMarginRight) + 'px'\n        document.body.appendChild(datePopup)\n\n        // This is running on desktop, install the vanilla js\n        injectDatePicker(() => {\n            // Script is loaded\n\n            datepicker = new Datepicker(datePopup, {\n                prevArrow:'<',\n                nextArrow:'>',\n            }); \n\n            // adjuste position if outside of screen\n            const rect = datePopup.getBoundingClientRect()\n            if(rect.top + rect.height > window.innerHeight) {\n                datePopup.style.top = Math.max(0,window.innerHeight - rect.height) + 'px'\n            }\n            if(rect.left + rect.width > window.innerWidth) {\n                datePopup.style.left = Math.max(0,window.innerWidth - rect.width) + 'px'\n            }\n         \n           \n\n            if(Component.Object.Date !== undefined) {\n                datepicker.setDate(Component.Object.Date)\n            }\n\n            datePopup.addEventListener('changeDate',() => {\n                // The picker reports a changed date\n                \n            })\n\n            datePopup.addEventListener('click',(ev) => {\n                // The user have clicked a date in the popup\n                var date = datepicker.getDate()\n\n                // If the date is a new date\n                if(date && (!Component.Object.Date || !compareDates(Component.Object.Date,date))) {\n                    \n                    // Blur the text input so the date can be updated\n                    Component.Object.Date = date\n                   \n                    textInput.blur()\n                }\n            })\n            \n        })\n\n    }\n}\n\nconst TextInputBlurred = () => {\n    Component.Object.TextInputIsFocused = false\n\n    const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n    const dateString = textInput.value\n\n    const date = parseDate(dateString)\n    Component.Object.Date = date\n    Script.Outputs.DateSelected()\n\n    document.body.removeChild(datePopup)\n}\n\nconst DateStringChanged = (e) => {\n    const dateString = e.target.value\n\n    if(Component.Object.TextInputIsFocused) {\n        const date = parseDate(dateString)\n\n        // The date have changed in the component object, update the\n        // date picker\n        if(datepicker !== undefined) {\n            datepicker.setDate(date)\n        }\n\n        if(dateInput !== undefined) {\n            dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n        }\n    }\n}\n\nScript.Inputs = {\n    PopupMarginRight: 'number',\n    PopupMarginTop: 'number',\n    Text: 'color',\n    TextMuted: 'color',\n    Accent: 'color',\n    Background: 'color',\n    SelectedDateBackground: 'color',\n    SelectedDateText: 'color',\n    HoverDateBackground: 'color',\n    HoverDateText: 'color'\n}\n\nScript.Signals.DidMount = () => {\n    Script.Outputs.IsMobile = isMobile()\n\n    injectDatePickerStyles()\n\n    // Register blur / focus listeners\n    if(Script.Inputs.TextInput.getDOMElement() !== undefined) {\n        var textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        textInput.addEventListener('focus',TextInputFocused)\n        textInput.addEventListener('blur',TextInputBlurred)\n        textInput.addEventListener('keydown',(e) => {\n            if(e.keyCode===13) textInput.blur()\n        })\n        textInput.addEventListener('keyup',DateStringChanged)\n    }\n\n    // If there is a date set from start, format it \n    if(Component.Object.Date !== undefined) {\n        let formattedDate = formatDate(Component.Object.Date)\n        Component.Object['Formatted Date'] = formattedDate\n    }\n\n\n    Component.Object.on('change',(ev) => {\n        if(ev.name === 'Date') {\n            const date = Component.Object.Date\n            // The date have changed in the component object, update the\n            // date picker\n            if(datepicker !== undefined) {\n                datepicker.setDate(date)\n            }\n\n            if(dateInput !== undefined) {\n                dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n            }\n\n            let formattedDate = formatDate(date)\n            textInput.value = formattedDate\n            Component.Object['Formatted Date'] = formattedDate\n        }\n    })\n\n    if(isMobile()) {\n        // On Mobile create a native date input hidden\n        // under the icon, clicking it will show the\n        // native picker\n        const elem = Script.Inputs.TextInput.getDOMElement()\n\n        dateInput = document.createElement('input')\n        dateInput.className = 'ndl-datepicker-native-input'\n\n        elem.parentNode.appendChild(dateInput)\n\n        dateInput.type = \"date\"\n\n        dateInput.onchange = () => {\n            var date = new Date(dateInput.value)\n            Component.Object.Date = date\n            Script.Outputs.DateSelected()\n        }\n    }\n}","PopupMarginRight":-12,"PopupMarginTop":6,"Text":"Grey - 700","TextMuted":"Grey - 400","Accent":"Primary","Background":"White","SelectedDateBackground":"Primary","SelectedDateText":"White","HoverDateBackground":"Grey - 300","HoverDateText":"Grey - 900"},"ports":[],"dynamicports":[{"name":"PopupMarginRight","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"PopupMarginTop","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"Text","plug":"input","type":{"name":"color"},"group":"Inputs","index":7},{"name":"TextMuted","plug":"input","type":{"name":"color"},"group":"Inputs","index":8},{"name":"Accent","plug":"input","type":{"name":"color"},"group":"Inputs","index":9},{"name":"Background","plug":"input","type":{"name":"color"},"group":"Inputs","index":10},{"name":"SelectedDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":11},{"name":"SelectedDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":12},{"name":"HoverDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":13},{"name":"HoverDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":14},{"name":"DidMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":15},{"name":"SelectedDateBackgroud","displayName":"SelectedDateBackgroud","plug":"input","type":"*","group":"Inputs","index":16},{"name":"TextInput","displayName":"TextInput","plug":"input","type":"*","group":"Inputs","index":17},{"name":"BorderColor","displayName":"BorderColor","plug":"input","type":"*","group":"Inputs","index":18},{"name":"DateSelected","displayName":"DateSelected","plug":"output","type":"signal","group":"Outputs","index":19},{"name":"IsMobile","displayName":"IsMobile","plug":"output","type":"*","group":"Outputs","index":20}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"d7bd23ff-5d90-8355-e66a-7aef89f0a2f7","type":"net.noodl.ComponentObject","x":620.4492793008197,"y":357.74302072548136,"parameters":{"properties":"Date,Formatted Date"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-Date","displayName":"Date","index":4},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Date Changed","name":"changed-Date","index":5},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-Formatted Date","displayName":"Formatted Date","index":6},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Formatted Date Changed","name":"changed-Formatted Date","index":7}],"children":[]},{"id":"8dd32c64-2e7e-ec01-106a-23fc5176edfe","type":"Model2","x":402.9254104545083,"y":157.78240740014326,"parameters":{"idSource":"foreach","properties":"Value,Label"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10}],"children":[]},{"id":"a0a53e24-6b64-6a3d-07cb-950d01024b66","type":"/Components/Form/Set Form Value","x":1605.74164188565,"y":351.71670570375375,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["88633987-7781-c547-cdf0-815cbeca0fbd"]}},{"name":"/Components/Form/Drop Down","id":"4f34d67a-3c0a-2260-4ae1-d04b6926d9f6","graph":{"connections":[{"fromId":"fa638b85-1d17-cdcd-44eb-61f5b617ed8b","fromProperty":"prop-Value","toId":"9801e78e-bdae-6dae-2a3d-1b00233f1e92","toProperty":"value"},{"fromId":"fa638b85-1d17-cdcd-44eb-61f5b617ed8b","fromProperty":"prop-Label","toId":"9801e78e-bdae-6dae-2a3d-1b00233f1e92","toProperty":"label"},{"fromId":"fa638b85-1d17-cdcd-44eb-61f5b617ed8b","fromProperty":"prop-Error","toId":"14ab43e8-6b99-ac0c-a2fb-4d4c6e234753","toProperty":"Error"},{"fromId":"9801e78e-bdae-6dae-2a3d-1b00233f1e92","fromProperty":"onChange","toId":"32232f96-f8ec-1666-e8b0-292080ddcbf6","toProperty":"Do"},{"fromId":"9801e78e-bdae-6dae-2a3d-1b00233f1e92","fromProperty":"value","toId":"32232f96-f8ec-1666-e8b0-292080ddcbf6","toProperty":"Value"},{"fromId":"fa638b85-1d17-cdcd-44eb-61f5b617ed8b","fromProperty":"prop-Options","toId":"e61b9958-a72c-7d71-1331-e0770e177d2b","toProperty":"in-Options"},{"fromId":"fa638b85-1d17-cdcd-44eb-61f5b617ed8b","fromProperty":"prop-Labels","toId":"e61b9958-a72c-7d71-1331-e0770e177d2b","toProperty":"in-Labels"},{"fromId":"e61b9958-a72c-7d71-1331-e0770e177d2b","fromProperty":"out-Items","toId":"9801e78e-bdae-6dae-2a3d-1b00233f1e92","toProperty":"items"}],"roots":[{"id":"52e4441b-3b68-1c8d-d7bd-f2d8551cd1b3","type":"Group","x":0,"y":0,"parameters":{"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"9801e78e-bdae-6dae-2a3d-1b00233f1e92","type":"net.noodl.controls.options","parameters":{"useLabel":true,"labeltextTransform":"none","marginTop":{"value":0,"unit":"px"},"labelSpacing":{"value":5,"unit":"px"},"width":{"value":100,"unit":"%"},"color":"Grey - 900"},"ports":[],"dynamicports":[],"children":[]},{"id":"14ab43e8-6b99-ac0c-a2fb-4d4c6e234753","type":"/Components/Form/Error","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"fa638b85-1d17-cdcd-44eb-61f5b617ed8b","type":"Model2","x":-430,"y":88,"parameters":{"properties":"Value,Label,Error,Options,Labels","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Error","displayName":"Error","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Error Changed","name":"changed-Error","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Options","displayName":"Options","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Options Changed","name":"changed-Options","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Labels","displayName":"Labels","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Labels Changed","name":"changed-Labels","index":16}],"children":[]},{"id":"32232f96-f8ec-1666-e8b0-292080ddcbf6","type":"/Components/Form/Set Form Value","x":357,"y":101,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"e61b9958-a72c-7d71-1331-e0770e177d2b","type":"JavaScriptFunction","x":-196,"y":23,"parameters":{"functionScript":"if(!Inputs.Options) {\n    Outputs.Items = []\n    return\n}\n\nOutputs.Items = Inputs.Options.map((o,idx) => ({\n    Value:o,\n    Label:Inputs.Labels?Inputs.Labels[idx]:o\n}))"},"ports":[],"dynamicports":[{"name":"in-Options","displayName":"Options","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Labels","displayName":"Labels","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Items","displayName":"Items","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["52e4441b-3b68-1c8d-d7bd-f2d8551cd1b3"]}},{"name":"/Components/Form/Error","id":"c746a5a0-ce86-b036-82c8-4bd5d968218d","graph":{"connections":[{"fromId":"8cc0a618-eacb-9016-3602-6bcfd16a39e3","fromProperty":"Error","toId":"1f9f78f2-54be-7367-fa27-0f66bac5adc1","toProperty":"text"},{"fromId":"8cc0a618-eacb-9016-3602-6bcfd16a39e3","fromProperty":"Error","toId":"5dd65fd1-faf3-0c9b-d4df-828df8aa5e2a","toProperty":"in-Error"},{"fromId":"5dd65fd1-faf3-0c9b-d4df-828df8aa5e2a","fromProperty":"out-IsVisible","toId":"edef0188-f81c-ebe1-9fff-58244e30949b","toProperty":"mounted"}],"roots":[{"id":"edef0188-f81c-ebe1-9fff-58244e30949b","type":"Group","x":-254,"y":-68,"parameters":{"flexDirection":"row","marginTop":{"value":8,"unit":"px"},"alignItems":"center"},"ports":[],"dynamicports":[],"children":[{"id":"0f11cc96-0fd4-4ce4-d203-24c090aa8610","type":"net.noodl.visual.icon","parameters":{"iconColor":"Danger","iconIconSource":{"class":"material-icons","code":"error_outline"},"iconSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"1f9f78f2-54be-7367-fa27-0f66bac5adc1","type":"Text","parameters":{"color":"Danger","marginLeft":{"value":4,"unit":"px"},"textStyle":"Label Small"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"8cc0a618-eacb-9016-3602-6bcfd16a39e3","type":"Component Inputs","x":-743,"y":1,"parameters":{},"ports":[{"name":"Error","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"5dd65fd1-faf3-0c9b-d4df-828df8aa5e2a","type":"JavaScriptFunction","x":-491,"y":-121,"parameters":{"functionScript":"Outputs.IsVisible = Inputs.Error !== undefined && Inputs.Error !== \"\""},"ports":[],"dynamicports":[{"name":"in-Error","displayName":"Error","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-IsVisible","displayName":"IsVisible","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["edef0188-f81c-ebe1-9fff-58244e30949b"]}},{"name":"/Components/Form/Multi Choice","id":"47e287a3-56a7-5cb5-9114-686a375a02c5","graph":{"connections":[{"fromId":"c781813d-b465-1d45-470a-b8c88710876c","fromProperty":"value-Checkboxes","toId":"943733cf-a68d-eede-5747-a69a2cd88d40","toProperty":"items"},{"fromId":"943733cf-a68d-eede-5747-a69a2cd88d40","fromProperty":"itemOutputSignal-Selection Changed","toId":"1ae32985-4645-0ad8-2a49-1c3f8cc2129d","toProperty":"run"},{"fromId":"017188f3-cb3a-d22c-7c32-e10e594bb44c","fromProperty":"prop-Value","toId":"eab8e50a-30e2-2357-eeb8-91fd4c9205b9","toProperty":"in-Selection"},{"fromId":"017188f3-cb3a-d22c-7c32-e10e594bb44c","fromProperty":"prop-Options","toId":"eab8e50a-30e2-2357-eeb8-91fd4c9205b9","toProperty":"in-Options"},{"fromId":"017188f3-cb3a-d22c-7c32-e10e594bb44c","fromProperty":"prop-Labels","toId":"eab8e50a-30e2-2357-eeb8-91fd4c9205b9","toProperty":"in-Labels"},{"fromId":"017188f3-cb3a-d22c-7c32-e10e594bb44c","fromProperty":"prop-Label","toId":"3e6abaf5-f26c-93a3-2076-71e359979b5a","toProperty":"text"},{"fromId":"017188f3-cb3a-d22c-7c32-e10e594bb44c","fromProperty":"prop-Error","toId":"2a0dde5c-8aa1-456c-8606-9133d9af4e17","toProperty":"Error"},{"fromId":"1ae32985-4645-0ad8-2a49-1c3f8cc2129d","fromProperty":"out-Changed","toId":"52deb122-f9df-e83a-e1f6-7f4aa88d30a7","toProperty":"Do"},{"fromId":"c781813d-b465-1d45-470a-b8c88710876c","fromProperty":"value-Selection","toId":"52deb122-f9df-e83a-e1f6-7f4aa88d30a7","toProperty":"Value"}],"roots":[{"id":"422f6d06-2bd8-e01a-31c2-79fba530e0be","type":"Group","x":19.41428973149368,"y":58.48997469158948,"parameters":{"backgroundColor":"#FFFFFF","sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"3e6abaf5-f26c-93a3-2076-71e359979b5a","type":"Text","parameters":{"textStyle":"Label Small","text":"LABEL","marginBottom":{"value":4,"unit":"px"},"color":"Grey - 700"},"ports":[],"dynamicports":[],"children":[]},{"id":"ccdc68d8-c3c1-ee00-e4fd-cc97adc9ee0f","type":"Group","parameters":{"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[{"id":"943733cf-a68d-eede-5747-a69a2cd88d40","type":"For Each","parameters":{"template":"/Components/Form/Multi Choice/Item"},"ports":[],"dynamicports":[{"name":"itemOutputSignal-Selection Changed","displayName":"Selection Changed","type":"signal","plug":"output","group":"Item Signals","index":6},{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":7}],"children":[]}]},{"id":"2a0dde5c-8aa1-456c-8606-9133d9af4e17","type":"/Components/Form/Error","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"c781813d-b465-1d45-470a-b8c88710876c","type":"net.noodl.ComponentObject","x":300.54541191363785,"y":-6.72473669297608,"parameters":{"properties":"Checkboxes,Selection"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-Checkboxes","displayName":"Checkboxes","index":4},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Checkboxes Changed","name":"changed-Checkboxes","index":5},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-Selection","displayName":"Selection","index":6},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Selection Changed","name":"changed-Selection","index":7}],"children":[]},{"id":"eab8e50a-30e2-2357-eeb8-91fd4c9205b9","type":"JavaScriptFunction","label":"Initialize","x":-125.45458808636215,"y":364.2752633070239,"parameters":{"functionScript":"if(!Inputs.Options) return // No options, no fun\n\nComponent.Object.Checkboxes = Inputs.Options.map((o,idx) => Noodl.Object.create({\n    id:Component.Object.id+'-'+o,\n    Value:o,\n    Label:Inputs.Labels!==undefined?Inputs.Labels[idx]:o,\n    Checked:Inputs.Selection!==undefined && Inputs.Selection.indexOf(o) !== -1\n}))","scriptInputs":[{"id":"melj","label":"Options"},{"id":"pdiv","label":"Selection"},{"id":"l9z7","label":"Labels"}],"intype-Options":"array","intype-Selection":"array","intype-Labels":"array","in-Options":"['one','two','three']","in-Labels":"['One','Two','Three']"},"ports":[],"dynamicports":[{"name":"intype-Options","displayName":"Type","editorName":"Options | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"melj","index":4},{"name":"in-Options","displayName":"Options","plug":"input","type":"array","group":"Inputs","index":5},{"name":"intype-Selection","displayName":"Type","editorName":"Selection | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"pdiv","index":6},{"name":"in-Selection","displayName":"Selection","plug":"input","type":"array","group":"Inputs","index":7},{"name":"intype-Labels","displayName":"Type","editorName":"Labels | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"l9z7","index":8},{"name":"in-Labels","displayName":"Labels","plug":"input","type":"array","group":"Inputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"1ae32985-4645-0ad8-2a49-1c3f8cc2129d","type":"JavaScriptFunction","label":"Update selection","x":300.54541191363785,"y":172.27526330702392,"parameters":{"functionScript":"Component.Object.Selection = Component.Object.Checkboxes.filter(o => o.Checked).map(o => o.Value)\nOutputs.Changed()\n","scriptInputs":[{"id":"melj","label":"Options"},{"id":"pdiv","label":"Selection"}],"intype-Options":"array","intype-Selection":"array"},"ports":[],"dynamicports":[{"name":"intype-Options","displayName":"Type","editorName":"Options | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"melj","index":4},{"name":"in-Options","displayName":"Options","plug":"input","type":"array","group":"Inputs","index":5},{"name":"intype-Selection","displayName":"Type","editorName":"Selection | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"pdiv","index":6},{"name":"in-Selection","displayName":"Selection","plug":"input","type":"array","group":"Inputs","index":7},{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"017188f3-cb3a-d22c-7c32-e10e594bb44c","type":"Model2","x":-341.98985290396854,"y":227.8968333239432,"parameters":{"properties":"Value,Label,Error,Options,Labels","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Error","displayName":"Error","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Error Changed","name":"changed-Error","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Options","displayName":"Options","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Options Changed","name":"changed-Options","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Labels","displayName":"Labels","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Labels Changed","name":"changed-Labels","index":16}],"children":[]},{"id":"52deb122-f9df-e83a-e1f6-7f4aa88d30a7","type":"/Components/Form/Set Form Value","x":522.0101470960315,"y":191.8968333239432,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["422f6d06-2bd8-e01a-31c2-79fba530e0be"]}},{"name":"/Components/Form/Multi Choice/Item","id":"35ba4ae9-c4b3-894e-066a-54d3da7af756","graph":{"connections":[{"fromId":"d1ba2190-810a-4aa3-e5b2-752a60feea8e","fromProperty":"prop-Checked","toId":"2dc1877d-ef16-2628-38c5-cb5d98e0fbeb","toProperty":"checked"},{"fromId":"2dc1877d-ef16-2628-38c5-cb5d98e0fbeb","fromProperty":"onChange","toId":"4bfad7df-c912-6bb8-e092-486832f25c5f","toProperty":"store"},{"fromId":"2dc1877d-ef16-2628-38c5-cb5d98e0fbeb","fromProperty":"checked","toId":"4bfad7df-c912-6bb8-e092-486832f25c5f","toProperty":"prop-Checked"},{"fromId":"d1ba2190-810a-4aa3-e5b2-752a60feea8e","fromProperty":"id","toId":"4bfad7df-c912-6bb8-e092-486832f25c5f","toProperty":"modelId"},{"fromId":"d1ba2190-810a-4aa3-e5b2-752a60feea8e","fromProperty":"prop-Label","toId":"2dc1877d-ef16-2628-38c5-cb5d98e0fbeb","toProperty":"label"},{"fromId":"4bfad7df-c912-6bb8-e092-486832f25c5f","fromProperty":"stored","toId":"7dea760e-7e29-9a76-88aa-d509156040c0","toProperty":"Selection Changed"}],"roots":[{"id":"de1d4634-aadf-5845-de2f-ee9266e26881","type":"Group","x":-237.13418498559759,"y":-86.30538651894608,"parameters":{"sizeMode":"contentHeight","marginBottom":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"2dc1877d-ef16-2628-38c5-cb5d98e0fbeb","type":"net.noodl.controls.checkbox","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"d1ba2190-810a-4aa3-e5b2-752a60feea8e","type":"Model2","x":-527.9146853817153,"y":-18.8741974168818,"parameters":{"properties":"Label,Checked","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Checked","displayName":"Checked","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Checked Changed","name":"changed-Checked","index":10}],"children":[]},{"id":"4bfad7df-c912-6bb8-e092-486832f25c5f","type":"SetModelProperties","x":7.2410381499237815,"y":-1.08104732733824,"parameters":{"properties":"Checked"},"ports":[],"dynamicports":[{"type":{"name":"*"},"plug":"input","group":"Property Values","displayName":"Checked","name":"prop-Checked","index":6},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"default":"*","plug":"input","group":"Property Types","displayName":"Checked","name":"type-Checked","index":7}],"children":[]},{"id":"7dea760e-7e29-9a76-88aa-d509156040c0","type":"Component Outputs","x":219.12256226105228,"y":12.566901317729702,"parameters":{},"ports":[{"name":"Selection Changed","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]}],"visualRoots":["de1d4634-aadf-5845-de2f-ee9266e26881"]}},{"name":"/Components/Form/Set Form Value","id":"f34dffd2-ef1d-f8e2-c73f-97e8e9f5a610","graph":{"connections":[{"fromId":"8e39907e-7871-9b5d-f0a8-7a482b517e6c","fromProperty":"Do","toId":"c45cccaa-9aec-99ed-ff01-a88f32bc520a","toProperty":"run"},{"fromId":"8e39907e-7871-9b5d-f0a8-7a482b517e6c","fromProperty":"Value","toId":"c45cccaa-9aec-99ed-ff01-a88f32bc520a","toProperty":"in-Value"}],"roots":[{"id":"8e39907e-7871-9b5d-f0a8-7a482b517e6c","type":"Component Inputs","x":-297,"y":-14,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Value","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"c45cccaa-9aec-99ed-ff01-a88f32bc520a","type":"JavaScriptFunction","label":"Update the value of the object","x":0,"y":-34,"parameters":{"functionScript":"const controlItem = Component.RepeaterObject\n\ncontrolItem.Value = Inputs.Value\n\nNoodl.Objects[controlItem.ObjectId][controlItem.Property] = Inputs.Value\n\nNoodl.Events.emit(Component.ParentObject.id + '-Form.ValueChanged',{\n    Property:controlItem.Property,\n    Value:Inputs.Value\n})"},"ports":[],"dynamicports":[{"name":"in-Value","displayName":"Value","plug":"input","type":"*","group":"Inputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/Components/Form/Single Choice","id":"6bcfb1d1-5800-346e-c03f-5730b3ca69d8","graph":{"connections":[{"fromId":"b076a896-e254-1ba8-3753-40f580508ccc","fromProperty":"prop-Label","toId":"59a1e6f3-6368-0c48-25dd-4a409da8993b","toProperty":"text"},{"fromId":"b076a896-e254-1ba8-3753-40f580508ccc","fromProperty":"prop-Error","toId":"d717af08-96d8-daf2-0137-04c2fb41672d","toProperty":"Error"},{"fromId":"27136d7d-d4f5-c674-03f7-066c8ce54030","fromProperty":"onChange","toId":"b6d62501-6c3b-7c8f-bf10-2420ea7d1246","toProperty":"Do"},{"fromId":"27136d7d-d4f5-c674-03f7-066c8ce54030","fromProperty":"value","toId":"b6d62501-6c3b-7c8f-bf10-2420ea7d1246","toProperty":"Value"},{"fromId":"b076a896-e254-1ba8-3753-40f580508ccc","fromProperty":"prop-Options","toId":"cc6d3fd0-1738-2d0d-9601-06a147081d4b","toProperty":"in-Options"},{"fromId":"b076a896-e254-1ba8-3753-40f580508ccc","fromProperty":"prop-Labels","toId":"cc6d3fd0-1738-2d0d-9601-06a147081d4b","toProperty":"in-Labels"},{"fromId":"cc6d3fd0-1738-2d0d-9601-06a147081d4b","fromProperty":"out-Items","toId":"06d1e4c7-0b23-56a6-9512-166a17207054","toProperty":"items"}],"roots":[{"id":"3a5ce6bc-421a-23f8-2b53-9a4822f74e48","type":"Group","x":-76,"y":-81,"parameters":{"sizeMode":"contentHeight","marginBottom":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"59a1e6f3-6368-0c48-25dd-4a409da8993b","type":"Text","parameters":{"textStyle":"Label Small","text":"LABEL","marginBottom":{"value":4,"unit":"px"},"color":"Grey - 700"},"ports":[],"dynamicports":[],"children":[]},{"id":"27136d7d-d4f5-c674-03f7-066c8ce54030","type":"Radio Button Group","parameters":{"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"06d1e4c7-0b23-56a6-9512-166a17207054","type":"For Each","parameters":{"template":"/Components/Form/Single Choice/Item"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]},{"id":"d717af08-96d8-daf2-0137-04c2fb41672d","type":"/Components/Form/Error","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"b076a896-e254-1ba8-3753-40f580508ccc","type":"Model2","x":-592,"y":38,"parameters":{"properties":"Value,Label,Error,Options,Labels","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Error","displayName":"Error","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Error Changed","name":"changed-Error","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Options","displayName":"Options","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Options Changed","name":"changed-Options","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Labels","displayName":"Labels","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Labels Changed","name":"changed-Labels","index":16}],"children":[]},{"id":"b6d62501-6c3b-7c8f-bf10-2420ea7d1246","type":"/Components/Form/Set Form Value","x":249,"y":41,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"cc6d3fd0-1738-2d0d-9601-06a147081d4b","type":"JavaScriptFunction","x":-317,"y":-65,"parameters":{"functionScript":"if(!Inputs.Options) {\n    Outputs.Items = []\n    return\n}\n\nOutputs.Items = Inputs.Options.map((o,idx) => ({\n    Value:o,\n    Label:Inputs.Labels?Inputs.Labels[idx]:o,\n}))"},"ports":[],"dynamicports":[{"name":"in-Options","displayName":"Options","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Labels","displayName":"Labels","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Items","displayName":"Items","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["3a5ce6bc-421a-23f8-2b53-9a4822f74e48"]}},{"name":"/Components/Form/Single Choice/Item","id":"f309f672-d0d6-c42c-88dc-99cf0aa317d0","graph":{"connections":[{"fromId":"ac8856bf-4484-7b5b-7688-59a4f1d32ed9","fromProperty":"prop-Value","toId":"0f972734-1c20-c754-cc51-6bc57d782c6d","toProperty":"value"},{"fromId":"ac8856bf-4484-7b5b-7688-59a4f1d32ed9","fromProperty":"prop-Label","toId":"0f972734-1c20-c754-cc51-6bc57d782c6d","toProperty":"label"}],"roots":[{"id":"d57dad43-4262-204e-740d-4b1e58662568","type":"Group","x":0,"y":0,"parameters":{"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"0f972734-1c20-c754-cc51-6bc57d782c6d","type":"net.noodl.controls.radiobutton","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"ac8856bf-4484-7b5b-7688-59a4f1d32ed9","type":"Model2","x":-268,"y":39,"parameters":{"idSource":"foreach","properties":"Value,Label"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10}],"children":[]}],"visualRoots":["d57dad43-4262-204e-740d-4b1e58662568"]}},{"name":"/Components/Form/Slider","id":"d680a5ab-141a-3264-786a-3ffbd69e7e3e","graph":{"connections":[{"fromId":"5b94e429-9bad-11de-c9ba-461eda3d4a84","fromProperty":"prop-Value","toId":"edb60af2-5f89-38d5-b593-33c28f0a3713","toProperty":"value"},{"fromId":"5b94e429-9bad-11de-c9ba-461eda3d4a84","fromProperty":"prop-Label","toId":"9a967476-eb53-98c9-678c-3982c35f72e8","toProperty":"text"},{"fromId":"5b94e429-9bad-11de-c9ba-461eda3d4a84","fromProperty":"prop-Error","toId":"8ab42af0-85b1-62db-c0b4-a73983fcc2b6","toProperty":"Error"},{"fromId":"5b94e429-9bad-11de-c9ba-461eda3d4a84","fromProperty":"prop-Min","toId":"edb60af2-5f89-38d5-b593-33c28f0a3713","toProperty":"min"},{"fromId":"5b94e429-9bad-11de-c9ba-461eda3d4a84","fromProperty":"prop-Max","toId":"edb60af2-5f89-38d5-b593-33c28f0a3713","toProperty":"max"},{"fromId":"5b94e429-9bad-11de-c9ba-461eda3d4a84","fromProperty":"prop-Step","toId":"edb60af2-5f89-38d5-b593-33c28f0a3713","toProperty":"step"},{"fromId":"edb60af2-5f89-38d5-b593-33c28f0a3713","fromProperty":"onChange","toId":"c20a3ec5-d10d-a23b-93c4-e159ef3e3599","toProperty":"Do"},{"fromId":"edb60af2-5f89-38d5-b593-33c28f0a3713","fromProperty":"value","toId":"c20a3ec5-d10d-a23b-93c4-e159ef3e3599","toProperty":"Value"},{"fromId":"edb60af2-5f89-38d5-b593-33c28f0a3713","fromProperty":"value","toId":"fe8d25f0-d72f-f2da-4ae3-164efe0a781a","toProperty":"text"}],"roots":[{"id":"3f3e56fd-c4cc-6e03-faaa-bcf2d0170f2a","type":"Group","x":0,"y":0,"parameters":{"marginBottom":{"value":20,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"781cf14c-db84-5130-36c4-8e180065e3e9","type":"Group","parameters":{"flexDirection":"row","justifyContent":"space-between"},"ports":[],"dynamicports":[],"children":[{"id":"9a967476-eb53-98c9-678c-3982c35f72e8","type":"Text","parameters":{"textStyle":"Label Small","text":"LABEL","color":"Grey - 700","marginBottom":{"value":8,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]},{"id":"fe8d25f0-d72f-f2da-4ae3-164efe0a781a","type":"Text","label":"value","parameters":{"text":"Label","color":"Grey - 900","marginBottom":{"value":8,"unit":"px"},"textAlignX":"right","sizeMode":"contentSize","textStyle":"Label Small"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"edb60af2-5f89-38d5-b593-33c28f0a3713","type":"net.noodl.controls.range","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8ab42af0-85b1-62db-c0b4-a73983fcc2b6","type":"/Components/Form/Error","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"5b94e429-9bad-11de-c9ba-461eda3d4a84","type":"Model2","x":-274,"y":90,"parameters":{"properties":"Value,Label,Error,Min,Max,Step","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Error","displayName":"Error","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Error Changed","name":"changed-Error","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Min","displayName":"Min","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Min Changed","name":"changed-Min","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Max","displayName":"Max","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Max Changed","name":"changed-Max","index":16},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Step","displayName":"Step","index":17},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Step Changed","name":"changed-Step","index":18}],"children":[]},{"id":"c20a3ec5-d10d-a23b-93c4-e159ef3e3599","type":"/Components/Form/Set Form Value","x":341,"y":180,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["3f3e56fd-c4cc-6e03-faaa-bcf2d0170f2a"]}},{"name":"/Components/Form/Text Area","id":"dbe4a56b-1347-30db-e38b-43c081e83756","graph":{"connections":[{"fromId":"64a63ca0-6133-e660-7d9e-438289e3bb53","fromProperty":"prop-Value","toId":"cd9d9721-9e9c-1fc7-6882-6e9fec1342a8","toProperty":"startValue"},{"fromId":"64a63ca0-6133-e660-7d9e-438289e3bb53","fromProperty":"prop-Label","toId":"cd9d9721-9e9c-1fc7-6882-6e9fec1342a8","toProperty":"label"},{"fromId":"cd9d9721-9e9c-1fc7-6882-6e9fec1342a8","fromProperty":"onTextChanged","toId":"0e76b849-4828-93fc-cb75-1ef6577bf401","toProperty":"Value"},{"fromId":"cd9d9721-9e9c-1fc7-6882-6e9fec1342a8","fromProperty":"onEnter","toId":"0e76b849-4828-93fc-cb75-1ef6577bf401","toProperty":"Do"},{"fromId":"cd9d9721-9e9c-1fc7-6882-6e9fec1342a8","fromProperty":"onBlur","toId":"0e76b849-4828-93fc-cb75-1ef6577bf401","toProperty":"Do"},{"fromId":"64a63ca0-6133-e660-7d9e-438289e3bb53","fromProperty":"prop-Error","toId":"ae8c0a7e-98b6-f738-c282-4e31969b72bd","toProperty":"Error"},{"fromId":"64a63ca0-6133-e660-7d9e-438289e3bb53","fromProperty":"prop-Placeholder","toId":"cd9d9721-9e9c-1fc7-6882-6e9fec1342a8","toProperty":"placeholder"}],"roots":[{"id":"01634c3e-a52c-8e65-32c4-e767edde0ba7","type":"Group","x":-216,"y":-122,"parameters":{"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"cd9d9721-9e9c-1fc7-6882-6e9fec1342a8","type":"net.noodl.controls.textinput","parameters":{"placeholder":"","type":"textArea","height":{"value":92,"unit":"px"},"paddingTop":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"ae8c0a7e-98b6-f738-c282-4e31969b72bd","type":"/Components/Form/Error","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"64a63ca0-6133-e660-7d9e-438289e3bb53","type":"Model2","x":-490,"y":-73,"parameters":{"properties":"Value,Label,Error,InputType,Placeholder","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Error","displayName":"Error","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Error Changed","name":"changed-Error","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-InputType","displayName":"InputType","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"InputType Changed","name":"changed-InputType","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Placeholder","displayName":"Placeholder","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Placeholder Changed","name":"changed-Placeholder","index":16}],"children":[]},{"id":"0e76b849-4828-93fc-cb75-1ef6577bf401","type":"/Components/Form/Set Form Value","x":88,"y":-69,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["01634c3e-a52c-8e65-32c4-e767edde0ba7"]}},{"name":"/Components/Form/Text Input","id":"f71ceacc-8dba-7bd7-1ad2-38ffa6c4595c","graph":{"connections":[{"fromId":"03919c76-1445-6589-f803-be2cedefaee5","fromProperty":"prop-Value","toId":"4fd61ceb-75e9-aa6c-aac1-af532e4ee071","toProperty":"startValue"},{"fromId":"03919c76-1445-6589-f803-be2cedefaee5","fromProperty":"prop-Label","toId":"4fd61ceb-75e9-aa6c-aac1-af532e4ee071","toProperty":"label"},{"fromId":"4fd61ceb-75e9-aa6c-aac1-af532e4ee071","fromProperty":"onTextChanged","toId":"34d12bed-9def-11c5-3c3b-9a95a442778e","toProperty":"Value"},{"fromId":"4fd61ceb-75e9-aa6c-aac1-af532e4ee071","fromProperty":"onEnter","toId":"34d12bed-9def-11c5-3c3b-9a95a442778e","toProperty":"Do"},{"fromId":"4fd61ceb-75e9-aa6c-aac1-af532e4ee071","fromProperty":"onBlur","toId":"34d12bed-9def-11c5-3c3b-9a95a442778e","toProperty":"Do"},{"fromId":"03919c76-1445-6589-f803-be2cedefaee5","fromProperty":"prop-Error","toId":"810b6235-91f6-a8b9-df53-37c0d36b7715","toProperty":"Error"},{"fromId":"03919c76-1445-6589-f803-be2cedefaee5","fromProperty":"prop-InputType","toId":"4fd61ceb-75e9-aa6c-aac1-af532e4ee071","toProperty":"type"},{"fromId":"03919c76-1445-6589-f803-be2cedefaee5","fromProperty":"prop-Placeholder","toId":"4fd61ceb-75e9-aa6c-aac1-af532e4ee071","toProperty":"placeholder"}],"roots":[{"id":"3f21d431-4bc7-f869-3afc-35d2a12d74b4","type":"Group","x":-216,"y":-122,"parameters":{"sizeMode":"contentHeight","marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"4fd61ceb-75e9-aa6c-aac1-af532e4ee071","type":"net.noodl.controls.textinput","parameters":{"placeholder":""},"ports":[],"dynamicports":[],"children":[]},{"id":"810b6235-91f6-a8b9-df53-37c0d36b7715","type":"/Components/Form/Error","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"03919c76-1445-6589-f803-be2cedefaee5","type":"Model2","x":-490,"y":-73,"parameters":{"properties":"Value,Label,Error,InputType,Placeholder","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Value","displayName":"Value","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Value Changed","name":"changed-Value","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Error","displayName":"Error","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Error Changed","name":"changed-Error","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-InputType","displayName":"InputType","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"InputType Changed","name":"changed-InputType","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Placeholder","displayName":"Placeholder","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Placeholder Changed","name":"changed-Placeholder","index":16}],"children":[]},{"id":"34d12bed-9def-11c5-3c3b-9a95a442778e","type":"/Components/Form/Set Form Value","x":88,"y":-69,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["3f21d431-4bc7-f869-3afc-35d2a12d74b4"]}},{"name":"/Components/Header menu","id":"cab18075-be39-5e61-ca9a-abae61bfa53a","graph":{"connections":[{"fromId":"15d5d863-1184-f393-cd50-6dcfa14a5c1c","fromProperty":"Match","toId":"d6e7ce03-28f0-c697-f0d6-267fd33f1e90","toProperty":"to-Tablet & Mobile"},{"fromId":"15d5d863-1184-f393-cd50-6dcfa14a5c1c","fromProperty":"No Match","toId":"d6e7ce03-28f0-c697-f0d6-267fd33f1e90","toProperty":"to-Desktop"},{"fromId":"bb417d9a-81c8-ce20-ec2b-bfa9024ad003","fromProperty":"items","toId":"329eaacd-88ad-4297-ba23-76e737786914","toProperty":"menu Items"},{"fromId":"d6e7ce03-28f0-c697-f0d6-267fd33f1e90","fromProperty":"at-Desktop","toId":"329eaacd-88ad-4297-ba23-76e737786914","toProperty":"Mounted"},{"fromId":"bb417d9a-81c8-ce20-ec2b-bfa9024ad003","fromProperty":"items","toId":"9acdbf94-747a-297e-2aa4-f06831f6597c","toProperty":"menu Items"},{"fromId":"d6e7ce03-28f0-c697-f0d6-267fd33f1e90","fromProperty":"at-Tablet & Mobile","toId":"9acdbf94-747a-297e-2aa4-f06831f6597c","toProperty":"Mounted"},{"fromId":"329eaacd-88ad-4297-ba23-76e737786914","fromProperty":"LoginButton clicked","toId":"72913131-a00b-af04-4935-8ee5d1ef68e6","toProperty":"Show popup"},{"fromId":"9acdbf94-747a-297e-2aa4-f06831f6597c","fromProperty":"LoginButton clicked","toId":"72913131-a00b-af04-4935-8ee5d1ef68e6","toProperty":"Show popup"},{"fromId":"329eaacd-88ad-4297-ba23-76e737786914","fromProperty":"RegisterButton clicked","toId":"7c4f7c88-ebdb-018b-78d2-698973967c1f","toProperty":"show"},{"fromId":"9acdbf94-747a-297e-2aa4-f06831f6597c","fromProperty":"RegisterButton clicked","toId":"7c4f7c88-ebdb-018b-78d2-698973967c1f","toProperty":"show"},{"fromId":"329eaacd-88ad-4297-ba23-76e737786914","fromProperty":"OrganizationsRegister clicked","toId":"6883967e-4340-47fd-9462-4f044adab972","toProperty":"show"},{"fromId":"fcad7cc0-4588-3094-fa66-cb9dd4d0eb5a","fromProperty":"onClick","toId":"ae351901-0480-6351-9093-cd5ccc066299","toProperty":"navigate"}],"roots":[{"id":"b72892dc-0fc1-fcb8-ffab-0034edd9f2d5","type":"Group","label":"Header","x":0,"y":0,"parameters":{"height":{"value":80,"unit":"px"},"sizeMode":"explicit","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"Grey - 300","paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"paddingBottom":{"value":16,"unit":"px"},"flexDirection":"row","alignItems":"center","justifyContent":"space-between","columnGap":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"fcad7cc0-4588-3094-fa66-cb9dd4d0eb5a","type":"Group","label":"Logo","parameters":{"flexDirection":"row","alignY":"center","alignItems":"center","styleCss":"/* background-color: red; */\r\ncursor: pointer;","sizeMode":"contentWidth"},"ports":[],"dynamicports":[],"children":[{"id":"d59788db-c502-2667-3aa8-d39faabcf058","type":"Image","parameters":{"src":"https://raw.githubusercontent.com/TVU-OPS/UniHand/refs/heads/main/public/logo%20(32x32).png"},"ports":[],"dynamicports":[],"children":[]},{"id":"c308fe35-fbff-b228-6071-90ae8d768bb2","type":"Text","parameters":{"textStyle":"Body Medium","color":"Grey - 700","marginLeft":{"value":8,"unit":"px"},"text":"UniHand","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"329eaacd-88ad-4297-ba23-76e737786914","type":"/Components/Header menu/Desktop Navigation","parameters":{"menu Items":"[\n    {\n        Icon:\"home\",\n        Label:\"Home\",\n        Url:\"/home\",\n        IsHome:true,\n    },\n    {\n        Icon:\"schedule\",\n        Label:\"Calendar\",\n        Url:\"/calendar\"\n    }\n]"},"ports":[],"dynamicports":[],"children":[]},{"id":"9acdbf94-747a-297e-2aa4-f06831f6597c","type":"/Components/Header menu/Mobile Navigation","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"15d5d863-1184-f393-cd50-6dcfa14a5c1c","type":"/Components/Media Query","x":-195.0294863294887,"y":338.96090340653745,"parameters":{"mediaQuery":"(max-width: 575px)"},"ports":[],"dynamicports":[],"children":[]},{"id":"d6e7ce03-28f0-c697-f0d6-267fd33f1e90","type":"States","x":-194.43296473833686,"y":226.0604295422658,"parameters":{"states":"Tablet & Mobile,Desktop"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Tablet & Mobile","name":"to-Tablet & Mobile","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Tablet & Mobile","name":"at-Tablet & Mobile","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Tablet & Mobile","name":"reached-Tablet & Mobile","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Desktop","name":"to-Desktop","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Desktop","name":"at-Desktop","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Desktop","name":"reached-Desktop","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["Tablet & Mobile","Desktop"]},"group":"States","displayName":"State","name":"currentState","default":"Tablet & Mobile","index":12}],"children":[]},{"id":"bb417d9a-81c8-ce20-ec2b-bfa9024ad003","type":"Static Data","label":"Page navigation content","x":-195.19261617321285,"y":430.42058128839767,"parameters":{"type":"json","json":"[\n    {\n        \"Icon\":\"home\",\n        \"Label\":\"Home\",\n        \"Url\":\"/home\",\n        \"IsHome\":true\n    },\n    {\n        \"Icon\":\"newspaper\",\n        \"Label\":\"Tin tức\",\n        \"Url\":\"/post\"\n    },\n    {\n        \"Icon\":\"group\",\n        \"Label\":\"Tổ chức\",\n        \"Url\":\"/organizations\"\n    },\n    {\n        \"Icon\":\"warning\",\n        \"Label\":\"Nhận yêu cầu cứu trợ\",\n        \"Url\":\"/notifications\",\n        \"Protected\":true\n    }\n]"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["json"]}}},{"id":"72913131-a00b-af04-4935-8ee5d1ef68e6","type":"/Components/Popup","x":243.58623318974037,"y":277.1104785593002,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"7c4f7c88-ebdb-018b-78d2-698973967c1f","type":"NavigationShowPopup","x":242.9362331897404,"y":350.4771452259669,"parameters":{"target":"/Components/Popup/Register Modal"},"ports":[],"dynamicports":[{"name":"closeAction-Confirmed","displayName":"Confirmed","type":"signal","plug":"output","group":"Close Actions","index":3}],"children":[]},{"id":"6883967e-4340-47fd-9462-4f044adab972","type":"NavigationShowPopup","x":242.97789985640702,"y":422.838256337078,"parameters":{"target":"/Components/Popup/OrganizationsRegister Modal"},"ports":[],"dynamicports":[{"name":"closeAction-Confirmed","displayName":"Confirmed","type":"signal","plug":"output","group":"Close Actions","index":3}],"children":[]},{"id":"ae351901-0480-6351-9093-cd5ccc066299","type":"RouterNavigate","x":243.2538104806565,"y":206.33126350236762,"parameters":{"router":"Main","target":"/Page/home"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-disasterId","displayName":"disasterId","type":"string","plug":"input","group":"Parameters","index":4},{"name":"pm-provinceId","displayName":"provinceId","type":"string","plug":"input","group":"Parameters","index":5},{"name":"pm-districtId","displayName":"districtId","type":"string","plug":"input","group":"Parameters","index":6},{"name":"pm-wardId","displayName":"wardId","type":"string","plug":"input","group":"Parameters","index":7}],"children":[]}],"visualRoots":["b72892dc-0fc1-fcb8-ffab-0034edd9f2d5"]},"metadata":{"canvasPos":{"x":1119,"y":0}}},{"name":"/Components/Header menu/Desktop Navigation","id":"9f930bd9-1301-2dc6-2e41-9ce6ba2a99c3","graph":{"connections":[{"fromId":"db13c24f-1f3e-2e3a-dc50-9aa58a8281a5","fromProperty":"Mounted","toId":"0497f42e-8cef-7fc3-3a96-cb6658963858","toProperty":"mounted"},{"fromId":"f3b39415-59c5-6776-070a-a4c60ff72811","fromProperty":"onClick","toId":"dad8cac8-b1d7-0ba3-3c6d-9aa9b794101a","toProperty":"LoginButton clicked"},{"fromId":"db13c24f-1f3e-2e3a-dc50-9aa58a8281a5","fromProperty":"menu Items","toId":"223820f1-398c-dbef-1398-233789ec7475","toProperty":"Items"},{"fromId":"a4148722-5dfa-7236-730c-227ea6548296","fromProperty":"onClick","toId":"dad8cac8-b1d7-0ba3-3c6d-9aa9b794101a","toProperty":"RegisterButton clicked"},{"fromId":"77676bcd-6bdd-f6a9-ab6e-6fb4998fa00a","fromProperty":"onClick","toId":"2344bfda-6149-d929-ee6d-f2a7e219e008","toProperty":"run"},{"fromId":"a27cbfc9-c205-1517-8591-d5a71115079f","fromProperty":"onClick","toId":"dad8cac8-b1d7-0ba3-3c6d-9aa9b794101a","toProperty":"OrganizationsRegister clicked"},{"fromId":"9f5a9593-f367-90ec-12cc-7251ac06e1c6","fromProperty":"isfalse","toId":"a4148722-5dfa-7236-730c-227ea6548296","toProperty":"mounted"},{"fromId":"9f5a9593-f367-90ec-12cc-7251ac06e1c6","fromProperty":"isfalse","toId":"f3b39415-59c5-6776-070a-a4c60ff72811","toProperty":"mounted"},{"fromId":"9f5a9593-f367-90ec-12cc-7251ac06e1c6","fromProperty":"result","toId":"77676bcd-6bdd-f6a9-ab6e-6fb4998fa00a","toProperty":"mounted"},{"fromId":"db13c24f-1f3e-2e3a-dc50-9aa58a8281a5","fromProperty":"Mounted","toId":"d765cb56-52d7-e6a4-e359-ccfa0af5dfd7","toProperty":"run"},{"fromId":"d765cb56-52d7-e6a4-e359-ccfa0af5dfd7","fromProperty":"out-isLoggedIn","toId":"9f5a9593-f367-90ec-12cc-7251ac06e1c6","toProperty":"condition"},{"fromId":"428a9e86-a213-b7ea-5992-52be6d4d9103","fromProperty":"hasOrganization","toId":"be29e3c0-f99b-036b-6fd5-d147421f86ad","toProperty":"condition"},{"fromId":"be29e3c0-f99b-036b-6fd5-d147421f86ad","fromProperty":"isfalse","toId":"a27cbfc9-c205-1517-8591-d5a71115079f","toProperty":"mounted"}],"roots":[{"id":"0497f42e-8cef-7fc3-3a96-cb6658963858","type":"Group","label":"On Desktop Menu","x":-163,"y":-244,"parameters":{"flexDirection":"row","alignItems":"center","justifyContent":"flex-end","sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"223820f1-398c-dbef-1398-233789ec7475","type":"/Components/Header menu/Navigation Menu","parameters":{"Layout":"row","Margin Right":{"value":40,"unit":"px"},"Items":"[\n    {\n        Icon:\"home\",\n        Label:\"Home\",\n        Url:\"/home\",\n        IsHome:true,\n    }\n]","Align X":"right"},"ports":[],"dynamicports":[],"children":[]},{"id":"dc7162c0-ebd0-f79d-4a0b-040073a82e71","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentSize","columnGap":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"77676bcd-6bdd-f6a9-ab6e-6fb4998fa00a","type":"net.noodl.controls.button","parameters":{"useIcon":true,"label":"Đăng xuất","iconIconSource":{"class":"material-icons","code":"arrow_outward","codeAsClass":false},"mounted":true},"ports":[],"dynamicports":[],"children":[]},{"id":"f3b39415-59c5-6776-070a-a4c60ff72811","type":"net.noodl.controls.button","label":"LoginButton","parameters":{"label":"Đăng nhập","useIcon":true,"iconIconSource":{"class":"material-icons","code":"login","codeAsClass":false}},"ports":[],"dynamicports":[],"children":[]},{"id":"a4148722-5dfa-7236-730c-227ea6548296","type":"net.noodl.controls.button","label":"RegisterButton","parameters":{"label":"Đăng ký","useIcon":true,"iconIconSource":{"class":"material-icons","code":"how_to_reg","codeAsClass":false}},"ports":[],"dynamicports":[],"children":[]},{"id":"a27cbfc9-c205-1517-8591-d5a71115079f","type":"net.noodl.controls.button","label":"OrganizationsRegister","parameters":{"useIcon":true,"iconIconSource":{"class":"material-icons","code":"diversity_1","codeAsClass":false},"label":"Đăng ký tổ chức","mounted":false},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"db13c24f-1f3e-2e3a-dc50-9aa58a8281a5","type":"Component Inputs","x":-355,"y":-45,"parameters":{},"ports":[{"name":"Mounted","plug":"output","type":{"name":"*"},"index":1},{"name":"menu Items","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"dad8cac8-b1d7-0ba3-3c6d-9aa9b794101a","type":"Component Outputs","x":78,"y":165.00000000000003,"parameters":{},"ports":[{"name":"LoginButton clicked","plug":"input","type":{"name":"*"},"index":1},{"name":"RegisterButton clicked","plug":"input","type":{"name":"*"},"index":2},{"name":"OrganizationsRegister clicked","plug":"input","type":{"name":"*"},"index":5}],"dynamicports":[],"children":[]},{"id":"2344bfda-6149-d929-ee6d-f2a7e219e008","type":"JavaScriptFunction","x":59.60833333333335,"y":-5.899999999999977,"parameters":{"functionScript":"localStorage.removeItem('authToken');\r\nlocalStorage.removeItem('user');\r\nlocalStorage.removeItem('organization');\r\nwindow.location.reload();"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"428a9e86-a213-b7ea-5992-52be6d4d9103","type":"/#Logic/CurrentOrganization","label":"CurrentOrganization","x":-570.1117386786319,"y":111.05732575504976,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9f5a9593-f367-90ec-12cc-7251ac06e1c6","type":"Condition","label":"isLogged?","x":-354.16666666666663,"y":48.00000000000003,"parameters":{"condition":true},"ports":[],"dynamicports":[],"children":[]},{"id":"d765cb56-52d7-e6a4-e359-ccfa0af5dfd7","type":"JavaScriptFunction","label":"isLogged?","x":-570.0636633749921,"y":4.511977247692613,"parameters":{"functionScript":"const tokenInfo = localStorage.getItem(\"authToken\");\r\n\r\nif (tokenInfo) {\r\n  Outputs.isLoggedIn = true;\r\n} else {\r\n  Outputs.isLoggedIn = false;\r\n}"},"ports":[],"dynamicports":[{"name":"out-isLoggedIn","displayName":"isLoggedIn","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"be29e3c0-f99b-036b-6fd5-d147421f86ad","type":"Condition","label":"hasOrganization?","x":-354.0899601299918,"y":155.1483497205644,"parameters":{"condition":true},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["0497f42e-8cef-7fc3-3a96-cb6658963858"]},"metadata":{"canvasPos":{"x":1354.9320993955603,"y":295.51190086387726},"canvasSize":{"width":"455px","height":"65px"}}},{"name":"/Components/Header menu/Mobile Navigation","id":"b55f6c82-ade7-e099-0a17-97a8c657ef1e","graph":{"connections":[{"fromId":"f48717a2-a7f7-d53a-f702-991e3fc864a2","fromProperty":"onClick","toId":"50cf4db8-e842-e47c-893b-eecbef284ae4","toProperty":"to-Mobile nav open"},{"fromId":"9646af2b-ce85-98eb-f923-468c40f524f9","fromProperty":"onClick","toId":"50cf4db8-e842-e47c-893b-eecbef284ae4","toProperty":"to-Mobile nav closed"},{"fromId":"50cf4db8-e842-e47c-893b-eecbef284ae4","fromProperty":"at-Mobile nav closed","toId":"f48717a2-a7f7-d53a-f702-991e3fc864a2","toProperty":"mounted"},{"fromId":"50cf4db8-e842-e47c-893b-eecbef284ae4","fromProperty":"at-Mobile nav open","toId":"9646af2b-ce85-98eb-f923-468c40f524f9","toProperty":"mounted"},{"fromId":"50cf4db8-e842-e47c-893b-eecbef284ae4","fromProperty":"at-Mobile nav open","toId":"e2abc801-3874-49fd-0b4c-7dd03b343bfc","toProperty":"mounted"},{"fromId":"e2abc801-3874-49fd-0b4c-7dd03b343bfc","fromProperty":"focusLost","toId":"50cf4db8-e842-e47c-893b-eecbef284ae4","toProperty":"to-Mobile nav closed"},{"fromId":"975155e6-28a6-ac68-3bd7-809d4ed2efc2","fromProperty":"focusLost","toId":"50cf4db8-e842-e47c-893b-eecbef284ae4","toProperty":"to-Mobile nav closed"},{"fromId":"d2df717a-b0f4-8806-618c-b12c72b19d44","fromProperty":"Mounted","toId":"5cbc1629-ef2e-6c5c-46eb-0b6e672ccb89","toProperty":"run"},{"fromId":"5cbc1629-ef2e-6c5c-46eb-0b6e672ccb89","fromProperty":"out-isLoggedIn","toId":"6a3ed840-2bf4-ed50-7b91-d91d69c270b7","toProperty":"condition"},{"fromId":"aec3561f-8e5a-2509-4fd6-98c20087c53a","fromProperty":"hasOrganization","toId":"0cfa16d4-aec6-5531-1ae1-248891f7a7b9","toProperty":"condition"},{"fromId":"d2df717a-b0f4-8806-618c-b12c72b19d44","fromProperty":"Mounted","toId":"975155e6-28a6-ac68-3bd7-809d4ed2efc2","toProperty":"mounted"},{"fromId":"6a3ed840-2bf4-ed50-7b91-d91d69c270b7","fromProperty":"result","toId":"0a8bcb06-2c8b-4e91-2312-959162720dbf","toProperty":"mounted"},{"fromId":"6a3ed840-2bf4-ed50-7b91-d91d69c270b7","fromProperty":"isfalse","toId":"6d19a9d4-8cad-af44-49ff-52fc76b42049","toProperty":"mounted"},{"fromId":"0cfa16d4-aec6-5531-1ae1-248891f7a7b9","fromProperty":"isfalse","toId":"bc7a1469-97f1-d0c6-5190-9701ab747ad7","toProperty":"mounted"},{"fromId":"6a3ed840-2bf4-ed50-7b91-d91d69c270b7","fromProperty":"isfalse","toId":"81a3bbb1-5e98-d7e8-8ef0-2c6687418fb1","toProperty":"mounted"},{"fromId":"0a8bcb06-2c8b-4e91-2312-959162720dbf","fromProperty":"onClick","toId":"742ea7e3-8dba-60a2-4986-9769390951cc","toProperty":"run"},{"fromId":"6d19a9d4-8cad-af44-49ff-52fc76b42049","fromProperty":"onClick","toId":"9747b5da-a92a-e849-f29f-ed9da05303ac","toProperty":"LoginButton clicked"},{"fromId":"81a3bbb1-5e98-d7e8-8ef0-2c6687418fb1","fromProperty":"onClick","toId":"9747b5da-a92a-e849-f29f-ed9da05303ac","toProperty":"RegisterButton clicked"},{"fromId":"bc7a1469-97f1-d0c6-5190-9701ab747ad7","fromProperty":"onClick","toId":"9747b5da-a92a-e849-f29f-ed9da05303ac","toProperty":"OrganizationsRegister clicked"},{"fromId":"d2df717a-b0f4-8806-618c-b12c72b19d44","fromProperty":"menu Items","toId":"fba18546-8404-fba7-fba4-69f62a1e45e2","toProperty":"Items"}],"roots":[{"id":"50cf4db8-e842-e47c-893b-eecbef284ae4","type":"States","label":"Open and close navigation drawer","x":170.9665285958286,"y":182.5953995055077,"parameters":{"states":"Mobile nav open,Mobile nav closed","currentState":"Mobile nav closed"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Mobile nav open","name":"to-Mobile nav open","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Mobile nav open","name":"at-Mobile nav open","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Mobile nav open","name":"reached-Mobile nav open","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Mobile nav closed","name":"to-Mobile nav closed","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Mobile nav closed","name":"at-Mobile nav closed","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Mobile nav closed","name":"reached-Mobile nav closed","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["Mobile nav open","Mobile nav closed"]},"group":"States","displayName":"State","name":"currentState","default":"Mobile nav open","index":12}],"children":[]},{"id":"975155e6-28a6-ac68-3bd7-809d4ed2efc2","type":"Group","label":"Mobile Navigation Wrapper","x":-133.88900394539428,"y":-113.117178953043,"parameters":{"sizeMode":"explicit","zIndex":3},"ports":[],"dynamicports":[],"children":[{"id":"f48717a2-a7f7-d53a-f702-991e3fc864a2","type":"net.noodl.controls.button","label":"Menu Icon","parameters":{"useIcon":true,"useLabel":false,"iconIconSource":{"class":"material-icons","code":"dehaze"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Grey - 700","backgroundColor":"transparent","paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"alignX":"right"},"ports":[],"dynamicports":[],"children":[]},{"id":"e2abc801-3874-49fd-0b4c-7dd03b343bfc","type":"Group","label":"Mobile Sidebar Navigation","parameters":{"sizeMode":"explicit","position":"absolute","width":{"value":50,"unit":"%"},"backgroundColor":"Grey - 200","alignX":"right","zIndex":1,"minWidth":{"value":200,"unit":"px"},"borderLeftStyle":"solid","borderLeftWidth":{"value":1,"unit":"px"},"borderLeftColor":"Grey - 400","marginRight":{"value":-24,"unit":"px"},"marginTop":{"value":-16,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"height":{"value":100,"unit":"vh"}},"ports":[],"dynamicports":[],"children":[{"id":"81c14a17-36e4-770a-ed1a-2d60f224737c","type":"Group","label":"Menu header","parameters":{"sizeMode":"contentHeight","flexDirection":"row","alignItems":"center"},"ports":[],"dynamicports":[],"children":[{"id":"82581c0f-3b2e-8651-d752-f934815fafb9","type":"Text","label":"Text","parameters":{"sizeMode":"contentHeight","textStyle":"Body Medium","color":"Grey - 700","text":"Menu"},"ports":[],"dynamicports":[],"children":[]},{"id":"9646af2b-ce85-98eb-f923-468c40f524f9","type":"net.noodl.controls.button","label":"Close Icon","parameters":{"useIcon":true,"useLabel":false,"iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Grey - 700","backgroundColor":"transparent","paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"alignX":"right","marginRight":{"value":24,"unit":"px"},"marginTop":{"value":16,"unit":"px"},"marginBottom":{"value":16,"unit":"px"},"iconPlacement":"right","color":"Grey - 700","textStyle":"Body Medium","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","label":"Menu","iconSpacing":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"fba18546-8404-fba7-fba4-69f62a1e45e2","type":"/Components/Header menu/Navigation Menu","parameters":{"Layout":"column","Align X":"left"},"ports":[],"dynamicports":[],"children":[]},{"id":"8087a58b-4552-d98c-1976-8d14b81bbc8f","type":"Group","parameters":{"rowGap":{"value":8,"unit":"px"},"alignY":"top"},"ports":[],"dynamicports":[],"children":[{"id":"0a8bcb06-2c8b-4e91-2312-959162720dbf","type":"net.noodl.controls.button","parameters":{"useIcon":true,"label":"Đăng xuất","iconIconSource":{"class":"material-icons","code":"arrow_outward","codeAsClass":false},"mounted":true,"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"6d19a9d4-8cad-af44-49ff-52fc76b42049","type":"net.noodl.controls.button","label":"LoginButton","parameters":{"label":"Đăng nhập","useIcon":true,"iconIconSource":{"class":"material-icons","code":"login","codeAsClass":false},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"81a3bbb1-5e98-d7e8-8ef0-2c6687418fb1","type":"net.noodl.controls.button","label":"RegisterButton","parameters":{"label":"Đăng ký","useIcon":true,"iconIconSource":{"class":"material-icons","code":"how_to_reg","codeAsClass":false},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"bc7a1469-97f1-d0c6-5190-9701ab747ad7","type":"net.noodl.controls.button","label":"OrganizationsRegister","parameters":{"useIcon":true,"iconIconSource":{"class":"material-icons","code":"diversity_1","codeAsClass":false},"label":"Đăng ký tổ chức","mounted":false,"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"d2df717a-b0f4-8806-618c-b12c72b19d44","type":"Component Inputs","x":-338.1536937848989,"y":301.95844816245767,"parameters":{},"ports":[{"name":"Mounted","plug":"output","type":{"name":"*"},"index":1},{"name":"menu Items","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"aec3561f-8e5a-2509-4fd6-98c20087c53a","type":"/#Logic/CurrentOrganization","label":"CurrentOrganization","x":-543.7394946722517,"y":452.94790045211244,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"6a3ed840-2bf4-ed50-7b91-d91d69c270b7","type":"Condition","label":"isLogged?","x":-337.1536937848989,"y":394.95844816245767,"parameters":{"condition":true},"ports":[],"dynamicports":[],"children":[]},{"id":"5cbc1629-ef2e-6c5c-46eb-0b6e672ccb89","type":"JavaScriptFunction","label":"isLogged?","x":-543.7394946722517,"y":345.94790045211244,"parameters":{"functionScript":"const tokenInfo = localStorage.getItem(\"authToken\");\r\n\r\nif (tokenInfo) {\r\n  Outputs.isLoggedIn = true;\r\n} else {\r\n  Outputs.isLoggedIn = false;\r\n}"},"ports":[],"dynamicports":[{"name":"out-isLoggedIn","displayName":"isLoggedIn","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"0cfa16d4-aec6-5531-1ae1-248891f7a7b9","type":"Condition","label":"hasOrganization?","x":-337.1536937848989,"y":502.95844816245767,"parameters":{"condition":true},"ports":[],"dynamicports":[],"children":[]},{"id":"9747b5da-a92a-e849-f29f-ed9da05303ac","type":"Component Outputs","x":137.52201930858678,"y":748.8596487069146,"parameters":{},"ports":[{"name":"LoginButton clicked","plug":"input","type":{"name":"*"},"index":1},{"name":"RegisterButton clicked","plug":"input","type":{"name":"*"},"index":2},{"name":"OrganizationsRegister clicked","plug":"input","type":{"name":"*"},"index":5}],"dynamicports":[],"children":[]},{"id":"742ea7e3-8dba-60a2-4986-9769390951cc","type":"JavaScriptFunction","x":138.52201930858678,"y":674.8596487069146,"parameters":{"functionScript":"localStorage.removeItem('authToken');\r\nlocalStorage.removeItem('user');\r\nlocalStorage.removeItem('organization');\r\nwindow.location.reload();"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["975155e6-28a6-ac68-3bd7-809d4ed2efc2"]},"metadata":{"canvasPos":{"x":1115.7081827366992,"y":297.52218206312006},"canvasSize":{"width":"204px","height":"405px"}}},{"name":"/Components/Header menu/Navigation Menu","id":"fdcfc7a5-71a0-092e-7b4d-76de795f86a4","graph":{"connections":[{"fromId":"57722507-b593-cf28-dbde-ea457d506d07","fromProperty":"out-Items","toId":"8474aab6-fe44-0bbd-875f-3d74a9776146","toProperty":"items"},{"fromId":"375fdeea-26e8-3807-15b0-565612e84cb5","fromProperty":"Items","toId":"57722507-b593-cf28-dbde-ea457d506d07","toProperty":"in-Items"},{"fromId":"8474aab6-fe44-0bbd-875f-3d74a9776146","fromProperty":"itemOutputSignal-Click","toId":"eab17f70-ec30-5e0b-1721-6c82dcbd67b1","toProperty":"Click"},{"fromId":"8474aab6-fe44-0bbd-875f-3d74a9776146","fromProperty":"itemOutput-Url","toId":"eab17f70-ec30-5e0b-1721-6c82dcbd67b1","toProperty":"Url"},{"fromId":"c8d37c1f-865e-09f4-c003-d673332d3897","fromProperty":"didMount","toId":"e6c29b0b-ac2d-d85a-c387-2bb3deb665b6","toProperty":"run"},{"fromId":"e6c29b0b-ac2d-d85a-c387-2bb3deb665b6","fromProperty":"out-PathName","toId":"57722507-b593-cf28-dbde-ea457d506d07","toProperty":"in-CurrentPathName"},{"fromId":"8474aab6-fe44-0bbd-875f-3d74a9776146","fromProperty":"itemOutputSignal-Click","toId":"37dec2ff-cfb2-c566-9cc4-0a7111e704d0","toProperty":"navigate"},{"fromId":"8474aab6-fe44-0bbd-875f-3d74a9776146","fromProperty":"itemOutput-Url","toId":"37dec2ff-cfb2-c566-9cc4-0a7111e704d0","toProperty":"path"},{"fromId":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","fromProperty":"Magin Top","toId":"c8d37c1f-865e-09f4-c003-d673332d3897","toProperty":"marginTop"},{"fromId":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","fromProperty":"Margin Bottom","toId":"c8d37c1f-865e-09f4-c003-d673332d3897","toProperty":"marginBottom"},{"fromId":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","fromProperty":"Margin Left","toId":"c8d37c1f-865e-09f4-c003-d673332d3897","toProperty":"marginLeft"},{"fromId":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","fromProperty":"Margin Right","toId":"c8d37c1f-865e-09f4-c003-d673332d3897","toProperty":"marginRight"},{"fromId":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","fromProperty":"Align X","toId":"c8d37c1f-865e-09f4-c003-d673332d3897","toProperty":"alignX"},{"fromId":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","fromProperty":"Align Y","toId":"c8d37c1f-865e-09f4-c003-d673332d3897","toProperty":"alignY"},{"fromId":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","fromProperty":"Position","toId":"c8d37c1f-865e-09f4-c003-d673332d3897","toProperty":"position"},{"fromId":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","fromProperty":"Layout","toId":"c8d37c1f-865e-09f4-c003-d673332d3897","toProperty":"flexDirection"},{"fromId":"d3cf9fa5-be19-e661-47d9-670884bb5acc","fromProperty":"hasOrganization","toId":"57722507-b593-cf28-dbde-ea457d506d07","toProperty":"in-HasOrganization"},{"fromId":"02c1433c-4c82-560c-b999-bb3c6607de2a","fromProperty":"isLogged","toId":"57722507-b593-cf28-dbde-ea457d506d07","toProperty":"in-IsLoggedIn"}],"roots":[{"id":"c8d37c1f-865e-09f4-c003-d673332d3897","type":"Group","x":-103,"y":-331,"parameters":{"marginLeft":{"value":0,"unit":"px"},"alignX":"center","sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"8474aab6-fe44-0bbd-875f-3d74a9776146","type":"For Each","parameters":{"template":"/Components/Header menu/Navigation Menu/Item"},"ports":[],"dynamicports":[{"name":"itemOutputSignal-Click","displayName":"Click","type":"signal","plug":"output","group":"Item Signals","index":6},{"name":"itemOutput-Url","displayName":"Url","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","group":"Item Outputs","index":7},{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":8}],"children":[]}]},{"id":"375fdeea-26e8-3807-15b0-565612e84cb5","type":"Component Inputs","x":-518.1417713506253,"y":4.563285129687529,"parameters":{},"ports":[{"name":"Items","plug":"output","type":{"name":"*"},"index":0,"group":"General"}],"dynamicports":[],"children":[]},{"id":"57722507-b593-cf28-dbde-ea457d506d07","type":"JavaScriptFunction","label":"Default value for items","x":-292.4240249358998,"y":-17.96881433814235,"parameters":{"scriptInputs":[{"id":"6slp","label":"Items"}],"intype-Items":"array","in-Items":"[\n    {\n        // Icons are references to material icons, \n        // see https://fonts.google.com/icons?selected=Material+Icons\n        Icon:\"home\",\n\n        // The label to be shown on the nav item\n        Label:\"Home\",\n\n        // The url to navigate to when clicked\n        Url:\"/home\",\n\n        // Setting this to true will indicate that this\n        // item should be selected if there is no path\n        // or if no other path matches\n        IsHome:true,\n    },\n    {\n        Icon:\"schedule\",\n        Label:\"Calendar\",\n        Url:\"/calendar\"\n    }\n]","functionScript":"Outputs.Items = Inputs.Items.map(i => ({\n    Label:i.Label,\n    Url:i.Url,\n    Icon:i.Icon,\n    Selected:Inputs.CurrentPathName !== undefined && (Inputs.CurrentPathName === '/' && i.IsHome) || (Inputs.CurrentPathName !== '/' && i.Url.startsWith(Inputs.CurrentPathName)),\n    Mounted:i.Protected && Inputs.IsLoggedIn && Inputs.HasOrganization\n}))"},"ports":[],"dynamicports":[{"name":"intype-Items","displayName":"Type","editorName":"Items | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"6slp","index":4},{"name":"in-Items","displayName":"Items","plug":"input","type":"array","group":"Inputs","index":5},{"name":"in-CurrentPathName","displayName":"CurrentPathName","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-IsLoggedIn","displayName":"IsLoggedIn","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-HasOrganization","displayName":"HasOrganization","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Items","displayName":"Items","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"eab17f70-ec30-5e0b-1721-6c82dcbd67b1","type":"Component Outputs","x":164,"y":-122,"parameters":{},"ports":[{"name":"Click","plug":"input","type":{"name":"*"},"index":0,"group":"Events"},{"name":"Url","plug":"input","type":{"name":"*"},"index":1,"group":"Events"}],"dynamicports":[],"children":[]},{"id":"e6c29b0b-ac2d-d85a-c387-2bb3deb665b6","type":"JavaScriptFunction","label":"Keep track of current url","x":-292,"y":-119,"parameters":{"functionScript":"const onUrlChange = () => {\n    // Send the current pathname as an output\n    Outputs.PathName = document.location.pathname\n}\n\n// Detect a change of the pathname\nif (window.history && window.history.pushState) {\n    window.addEventListener('popstate', onUrlChange)\n} else {\n    window.addEventListener('hashchange', onUrlChange)\n}\n\nonUrlChange()"},"ports":[],"dynamicports":[{"name":"out-PathName","displayName":"PathName","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"37dec2ff-cfb2-c566-9cc4-0a7111e704d0","type":"PageStackNavigateToPath","x":163.10226014845603,"y":-24.63616237529709,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d6ac6a1a-ebf2-74fc-818e-8186640fa097","type":"Component Inputs","x":-292.5645518872917,"y":-331.8430275581251,"parameters":{},"ports":[{"name":"Align X","plug":"output","type":{"name":"*"},"group":"Alignment","index":4},{"name":"Align Y","plug":"output","type":{"name":"*"},"group":"Alignment","index":5},{"name":"Layout","plug":"output","type":{"name":"*"},"group":"Layout","index":7},{"name":"Magin Top","plug":"output","type":{"name":"*"},"group":"Margins","index":0},{"name":"Margin Bottom","plug":"output","type":{"name":"*"},"group":"Margins","index":1},{"name":"Margin Left","plug":"output","type":{"name":"*"},"group":"Margins","index":2},{"name":"Margin Right","plug":"output","type":{"name":"*"},"group":"Margins","index":3},{"name":"Position","plug":"output","type":{"name":"*"},"group":"Layout","index":6}],"dynamicports":[],"children":[]},{"id":"d3cf9fa5-be19-e661-47d9-670884bb5acc","type":"/#Logic/CurrentOrganization","x":-515.3926410419378,"y":-86.35046174483753,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"02c1433c-4c82-560c-b999-bb3c6607de2a","type":"/#Logic/CurrentUser","x":-516.3926410419381,"y":-161.3504617448376,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["c8d37c1f-865e-09f4-c003-d673332d3897"]},"metadata":{"canvasPos":{"x":1119,"y":130.66852590610003}}},{"name":"/Components/Header menu/Navigation Menu/Item","id":"718c8657-78d5-41e9-efc6-c07529e2890f","graph":{"connections":[{"fromId":"eda618f7-60c5-e0aa-8d77-9257da924b2d","fromProperty":"prop-Icon","toId":"36db1d3c-1515-b2ce-f606-c0603b80debb","toProperty":"in-IconCode"},{"fromId":"eda618f7-60c5-e0aa-8d77-9257da924b2d","fromProperty":"prop-Url","toId":"bb6e0f7d-cadd-380b-d9cf-51b17006b6ba","toProperty":"Url"},{"fromId":"eda618f7-60c5-e0aa-8d77-9257da924b2d","fromProperty":"prop-Selected","toId":"97cb7bcb-f6a2-7c0d-8988-e6a86cb62843","toProperty":"condition"},{"fromId":"97cb7bcb-f6a2-7c0d-8988-e6a86cb62843","fromProperty":"ontrue","toId":"a2cf1e6d-f45a-a3b1-bd3f-5a6e853a13a7","toProperty":"to-selected"},{"fromId":"97cb7bcb-f6a2-7c0d-8988-e6a86cb62843","fromProperty":"onfalse","toId":"a2cf1e6d-f45a-a3b1-bd3f-5a6e853a13a7","toProperty":"to-not selected"},{"fromId":"9e6460fe-6685-778f-2b8b-a7b330b73f1f","fromProperty":"onClick","toId":"bb6e0f7d-cadd-380b-d9cf-51b17006b6ba","toProperty":"Click"},{"fromId":"36db1d3c-1515-b2ce-f606-c0603b80debb","fromProperty":"out-IconSource","toId":"9ca441bf-615c-3951-8293-3e2b7e995496","toProperty":"iconIconSource"},{"fromId":"36db1d3c-1515-b2ce-f606-c0603b80debb","fromProperty":"out-HaveIcon","toId":"9ca441bf-615c-3951-8293-3e2b7e995496","toProperty":"mounted"},{"fromId":"a2cf1e6d-f45a-a3b1-bd3f-5a6e853a13a7","fromProperty":"color","toId":"9ca441bf-615c-3951-8293-3e2b7e995496","toProperty":"iconColor"},{"fromId":"a2cf1e6d-f45a-a3b1-bd3f-5a6e853a13a7","fromProperty":"color","toId":"51c2f089-b928-d7c0-14ae-e3984adbbc22","toProperty":"color"},{"fromId":"eda618f7-60c5-e0aa-8d77-9257da924b2d","fromProperty":"prop-Label","toId":"51c2f089-b928-d7c0-14ae-e3984adbbc22","toProperty":"text"},{"fromId":"eda618f7-60c5-e0aa-8d77-9257da924b2d","fromProperty":"prop-Mounted","toId":"9e6460fe-6685-778f-2b8b-a7b330b73f1f","toProperty":"mounted"}],"roots":[{"id":"eda618f7-60c5-e0aa-8d77-9257da924b2d","type":"Model2","x":-377.0443422987182,"y":-5.62864222318899,"parameters":{"idSource":"foreach","properties":"Icon,Label,Url,Selected,Mounted"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Icon","displayName":"Icon","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Icon Changed","name":"changed-Icon","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Label","displayName":"Label","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Label Changed","name":"changed-Label","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Url","displayName":"Url","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Url Changed","name":"changed-Url","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Selected","displayName":"Selected","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Selected Changed","name":"changed-Selected","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Mounted","displayName":"Mounted","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Mounted Changed","name":"changed-Mounted","index":16}],"children":[]},{"id":"36db1d3c-1515-b2ce-f606-c0603b80debb","type":"JavaScriptFunction","x":-189.17329481891244,"y":11.002672949127998,"parameters":{"functionScript":"Outputs.IconSource = {\n    \"class\": \"material-icons\",\n    \"code\": Inputs.IconCode\n}\nOutputs.HaveIcon = Inputs.IconCode !== undefined && Inputs.IconCode !== \"\""},"ports":[],"dynamicports":[{"name":"in-IconCode","displayName":"IconCode","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-IconSource","displayName":"IconSource","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-HaveIcon","displayName":"HaveIcon","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"bb6e0f7d-cadd-380b-d9cf-51b17006b6ba","type":"Component Outputs","x":-375.9557087682184,"y":-170.41376789951767,"parameters":{},"ports":[{"name":"Click","plug":"input","type":{"name":"*"},"index":1},{"name":"Url","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"a2cf1e6d-f45a-a3b1-bd3f-5a6e853a13a7","type":"States","x":-188.4917996021515,"y":-101.50303303126327,"parameters":{"states":"selected,not selected","values":"color","type-color":"color","value-selected-color":"Primary","value-not selected-color":"Grey - 700","currentState":"not selected"},"ports":[],"dynamicports":[{"type":{"name":"color","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"color","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"color","name":"type-color","index":7},{"plug":"input","type":"color","group":"selected Values","name":"value-selected-color","displayName":"color","editorName":"selected|color","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"selected Transitions","name":"transitiondef-selected","index":9},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"selected Transitions","name":"transition-selected-color","displayName":"color","editorName":"Transition selected|color","index":10},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To selected","name":"to-selected","group":"Go to state","index":11},{"plug":"output","type":"boolean","displayName":"At selected","name":"at-selected","group":"Current state","index":12},{"plug":"output","type":"signal","displayName":"Has Reached selected","name":"reached-selected","group":"Current state","index":13},{"plug":"input","type":"color","group":"not selected Values","name":"value-not selected-color","displayName":"color","editorName":"not selected|color","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"not selected Transitions","name":"transitiondef-not selected","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"not selected Transitions","name":"transition-not selected-color","displayName":"color","editorName":"Transition not selected|color","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To not selected","name":"to-not selected","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At not selected","name":"at-not selected","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached not selected","name":"reached-not selected","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["selected","not selected"]},"group":"States","displayName":"State","name":"currentState","default":"selected","index":20}],"children":[]},{"id":"97cb7bcb-f6a2-7c0d-8988-e6a86cb62843","type":"Condition","x":-376.4392271503068,"y":-97.75915525102965,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9e6460fe-6685-778f-2b8b-a7b330b73f1f","type":"Group","label":"Menu item","x":-14.171422153458707,"y":-192.09436082254828,"parameters":{"sizeMode":"contentWidth","flexDirection":"row","alignItems":"center","borderRadius":{"value":4,"unit":"px"},"styleCss":"cursor:pointer;","height":{"value":40,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"marginRight":{"value":8,"unit":"px"}},"stateParameters":{"hover":{"backgroundColor":"Grey - 300"}},"ports":[],"dynamicports":[],"children":[{"id":"9ca441bf-615c-3951-8293-3e2b7e995496","type":"net.noodl.visual.icon","label":"Menu Icon","parameters":{"iconIconSource":{"class":"material-icons","code":"account_circle"},"iconColor":"Grey - 900","iconSize":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"51c2f089-b928-d7c0-14ae-e3984adbbc22","type":"Text","label":"Menu Label","parameters":{"sizeMode":"contentSize","color":"Grey - 900","marginLeft":{"value":8,"unit":"px"},"textStyle":"Body Medium"},"ports":[],"dynamicports":[],"children":[]}]}],"visualRoots":["9e6460fe-6685-778f-2b8b-a7b330b73f1f"]},"metadata":{"canvasPos":{"x":1527.7634446793804,"y":0}}},{"name":"/Components/Loading Spinner","id":"5bbe129b-968d-a5ff-3784-c9544c4fc344","graph":{"connections":[{"fromId":"cff35fb5-434f-c522-3fcb-1f5ee1e71341","fromProperty":"Closed","toId":"13d4c918-fb47-123f-5a6a-82749976dfde","toProperty":"Done"},{"fromId":"9dd62601-d679-3ca3-b24f-ee4ae4a77d67","fromProperty":"Hide","toId":"4d4ba229-b6e7-5dfd-7bb7-e716fc83c24d","toProperty":"run"},{"fromId":"9dd62601-d679-3ca3-b24f-ee4ae4a77d67","fromProperty":"Show","toId":"3e2aa193-ca61-19a4-33fc-bdd92d6069be","toProperty":"run"},{"fromId":"3e2aa193-ca61-19a4-33fc-bdd92d6069be","fromProperty":"out-ShowPopup","toId":"cff35fb5-434f-c522-3fcb-1f5ee1e71341","toProperty":"show"}],"roots":[{"id":"9dd62601-d679-3ca3-b24f-ee4ae4a77d67","type":"Component Inputs","x":-182,"y":261,"parameters":{},"ports":[{"name":"Show","plug":"output","type":{"name":"*"},"index":1},{"name":"Hide","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"cff35fb5-434f-c522-3fcb-1f5ee1e71341","type":"NavigationShowPopup","x":301.9709826726816,"y":260.2677808484063,"parameters":{"target":"/Loading Spinner/Loader Component"},"ports":[],"dynamicports":[],"children":[]},{"id":"13d4c918-fb47-123f-5a6a-82749976dfde","type":"Component Outputs","x":527.6450866365918,"y":296.5526177477978,"parameters":{},"ports":[{"name":"Done","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"4d4ba229-b6e7-5dfd-7bb7-e716fc83c24d","type":"JavaScriptFunction","label":"Send Hide Signal","x":159.96516310060855,"y":429.6337696246332,"parameters":{"functionScript":"// Decrease loading spinner running counter\nNoodl.Variables.NumLoadingSpinnerRunning--\n\n// When we reach zero, hide the loading spinner\nif(Noodl.Variables.NumLoadingSpinnerRunning < 1)\n    Noodl.Events.emit(\"Hide loader\");"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"3e2aa193-ca61-19a4-33fc-bdd92d6069be","type":"JavaScriptFunction","label":"Function","x":39.895308102470494,"y":191.86354205520934,"parameters":{"functionScript":"// If we have multiple show signals sent, only update the\n// running count\nif(Noodl.Variables.NumLoadingSpinnerRunning > 0)\n    Noodl.Variables.NumLoadingSpinnerRunning++\nelse {\n    // If this is the first show signal, show the popup\n    Noodl.Variables.NumLoadingSpinnerRunning = 1\n    Outputs.ShowPopup()\n}"},"ports":[],"dynamicports":[{"name":"out-ShowPopup","displayName":"ShowPopup","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/Components/Media Query","id":"ec9a83d4-3209-99b1-8ad7-58e07b7eff65","graph":{"connections":[{"fromId":"6a884589-5129-fca3-9ac5-838f6d6430df","fromProperty":"mediaQuery","toId":"2ff647b9-6624-0424-0dc2-105b6ce83b37","toProperty":"mediaQuery"},{"fromId":"2ff647b9-6624-0424-0dc2-105b6ce83b37","fromProperty":"match","toId":"08f7423f-5c2e-ce98-4447-99dfb319bc9c","toProperty":"Match"},{"fromId":"2ff647b9-6624-0424-0dc2-105b6ce83b37","fromProperty":"noMatch","toId":"08f7423f-5c2e-ce98-4447-99dfb319bc9c","toProperty":"No Match"}],"roots":[{"id":"6a884589-5129-fca3-9ac5-838f6d6430df","type":"Component Inputs","x":-191.5137301958379,"y":37.42393265732524,"parameters":{},"ports":[{"name":"mediaQuery","plug":"output","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"08f7423f-5c2e-ce98-4447-99dfb319bc9c","type":"Component Outputs","x":225.60974141961697,"y":38.96632592305775,"parameters":{},"ports":[{"name":"Match","plug":"input","type":"*","index":2},{"name":"No Match","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"2ff647b9-6624-0424-0dc2-105b6ce83b37","type":"Javascript2","x":11,"y":38.5,"parameters":{"code":"Node.Setters.mediaQuery = function(value) {\n    \n    if(this.query) {\n        this.query.removeListener(this.listener);\n    }\n    \n    this.listener = query => {\n      if (query.matches) {\n        Node.setOutputs({match: true, noMatch: false});\n      } else {\n        Node.setOutputs({match: false, noMatch: true});\n      }\n    }\n    \n    this.query = window.matchMedia(value);\n    this.listener(this.query);\n    this.query.addListener(this.listener);\n    \n}\n\nNode.OnDestoy = function() {\n    if(this.query) {\n        this.query.removeListener(this.listener);\n        this.query = undefined;\n        this.listener = undefined;\n    }\n}","scriptInputs":[{"id":"icv7","label":"mediaQuery"}],"scriptOutputs":[{"id":"z4bx","label":"match"},{"id":"5hag","label":"noMatch"}],"outtype-match":"boolean","outtype-noMatch":"boolean"},"ports":[],"dynamicports":[{"name":"outtype-match","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"z4bx","index":4},{"name":"match","plug":"output","type":"boolean","group":"Outputs","index":5},{"name":"outtype-noMatch","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"5hag","index":6},{"name":"noMatch","plug":"output","type":"boolean","group":"Outputs","index":7},{"name":"intype-mediaQuery","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"icv7","index":8},{"name":"mediaQuery","plug":"input","type":"string","group":"Inputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}}],"visualRoots":[]},"metadata":{"canvasPos":{"x":40,"y":40}}},{"name":"/Components/PagesAndRows","id":"2d15995d-b76a-4ff8-eace-410963611602","graph":{"connections":[{"fromId":"4bb01d35-5d2c-d8b0-dca0-61a114209d64","fromProperty":"out-Pages","toId":"5d4144d9-5487-dfe9-8105-89f7e56224a3","toProperty":"items"},{"fromId":"3f6a9246-013c-64cd-afec-6f1cd30cfc9d","fromProperty":"RowsPerPage","toId":"452e882f-2543-9763-0a7b-8efe1a6fb986","toProperty":"value"},{"fromId":"5d4144d9-5487-dfe9-8105-89f7e56224a3","fromProperty":"onChange","toId":"dbb572bc-ac2d-37cc-814c-c2c9f03febd3","toProperty":"run"},{"fromId":"452e882f-2543-9763-0a7b-8efe1a6fb986","fromProperty":"savedValue","toId":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","toProperty":"value-RowsPerPage"},{"fromId":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","fromProperty":"value-RowsPerPage","toId":"5d4144d9-5487-dfe9-8105-89f7e56224a3","toProperty":"value"},{"fromId":"5d4144d9-5487-dfe9-8105-89f7e56224a3","fromProperty":"value","toId":"dbb572bc-ac2d-37cc-814c-c2c9f03febd3","toProperty":"in-Value"},{"fromId":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","fromProperty":"value-RowsPerPage","toId":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","toProperty":"Limit"},{"fromId":"dbb572bc-ac2d-37cc-814c-c2c9f03febd3","fromProperty":"out-Changed","toId":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","toProperty":"Changed"},{"fromId":"3f6a9246-013c-64cd-afec-6f1cd30cfc9d","fromProperty":"SelectedPage","toId":"0941cfe7-6499-485f-0816-c6c34ad93c49","toProperty":"value"},{"fromId":"0941cfe7-6499-485f-0816-c6c34ad93c49","fromProperty":"savedValue","toId":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","toProperty":"value-Selected Page"},{"fromId":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","fromProperty":"value-RowsPerPage","toId":"7bde969f-4457-f8cc-06c0-533dca9d6343","toProperty":"in-RowsPerPage"},{"fromId":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","fromProperty":"value-Selected Page","toId":"7bde969f-4457-f8cc-06c0-533dca9d6343","toProperty":"in-SelectedPage"},{"fromId":"7bde969f-4457-f8cc-06c0-533dca9d6343","fromProperty":"out-Text","toId":"7b606120-0cb1-eb6b-70a1-a87006b0227a","toProperty":"text"},{"fromId":"3f6a9246-013c-64cd-afec-6f1cd30cfc9d","fromProperty":"TotalCount","toId":"7bde969f-4457-f8cc-06c0-533dca9d6343","toProperty":"in-TotalCount"},{"fromId":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","fromProperty":"value-Selected Page","toId":"34cd820b-2163-a354-c2b7-d988b89afe16","toProperty":"SelectedPage"},{"fromId":"34cd820b-2163-a354-c2b7-d988b89afe16","fromProperty":"result","toId":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","toProperty":"Skip"},{"fromId":"2692e13b-f3ea-8055-a6ab-0d4a5df0c99a","fromProperty":"onClick","toId":"f385e6bb-3a6b-d901-1998-5a831f7edd39","toProperty":"run"},{"fromId":"d2b8c96e-5bac-4579-5018-cd5a7b8ae682","fromProperty":"onClick","toId":"f12cfed9-a432-a8e7-ee6c-4397e8197e34","toProperty":"run"},{"fromId":"f385e6bb-3a6b-d901-1998-5a831f7edd39","fromProperty":"out-Changed","toId":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","toProperty":"Changed"},{"fromId":"f12cfed9-a432-a8e7-ee6c-4397e8197e34","fromProperty":"out-Changed","toId":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","toProperty":"Changed"},{"fromId":"bd848db6-2921-f4be-904d-711447c6252d","fromProperty":"onClick","toId":"34c65053-dffb-f556-c290-e7f15154823f","toProperty":"run"},{"fromId":"9a018368-0a68-7de7-e212-b7e6640e6069","fromProperty":"onClick","toId":"f7de9e2e-f3d7-940e-1191-28c6c71f1ac3","toProperty":"run"},{"fromId":"34c65053-dffb-f556-c290-e7f15154823f","fromProperty":"out-Changed","toId":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","toProperty":"Changed"},{"fromId":"f7de9e2e-f3d7-940e-1191-28c6c71f1ac3","fromProperty":"out-Changed","toId":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","toProperty":"Changed"},{"fromId":"7bde969f-4457-f8cc-06c0-533dca9d6343","fromProperty":"out-BackEnabled","toId":"2692e13b-f3ea-8055-a6ab-0d4a5df0c99a","toProperty":"enabled"},{"fromId":"7bde969f-4457-f8cc-06c0-533dca9d6343","fromProperty":"out-BackEnabled","toId":"bd848db6-2921-f4be-904d-711447c6252d","toProperty":"enabled"},{"fromId":"7bde969f-4457-f8cc-06c0-533dca9d6343","fromProperty":"out-NextEnabled","toId":"9a018368-0a68-7de7-e212-b7e6640e6069","toProperty":"enabled"},{"fromId":"7bde969f-4457-f8cc-06c0-533dca9d6343","fromProperty":"out-NextEnabled","toId":"d2b8c96e-5bac-4579-5018-cd5a7b8ae682","toProperty":"enabled"},{"fromId":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","fromProperty":"value-Selected Page","toId":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","toProperty":"Selected Page"},{"fromId":"0a7133bf-2d41-8a92-ac3c-b4080d850344","fromProperty":"Align Y","toId":"6255e067-588d-b3e0-829c-74c4a75e0a9b","toProperty":"alignY"},{"fromId":"0a7133bf-2d41-8a92-ac3c-b4080d850344","fromProperty":"Align X","toId":"6255e067-588d-b3e0-829c-74c4a75e0a9b","toProperty":"alignX"},{"fromId":"0a7133bf-2d41-8a92-ac3c-b4080d850344","fromProperty":"Margin Top","toId":"6255e067-588d-b3e0-829c-74c4a75e0a9b","toProperty":"marginTop"},{"fromId":"0a7133bf-2d41-8a92-ac3c-b4080d850344","fromProperty":"Margin Bottom","toId":"6255e067-588d-b3e0-829c-74c4a75e0a9b","toProperty":"marginBottom"},{"fromId":"0a7133bf-2d41-8a92-ac3c-b4080d850344","fromProperty":"Margin Left","toId":"6255e067-588d-b3e0-829c-74c4a75e0a9b","toProperty":"marginLeft"},{"fromId":"0a7133bf-2d41-8a92-ac3c-b4080d850344","fromProperty":"Margin Right","toId":"6255e067-588d-b3e0-829c-74c4a75e0a9b","toProperty":"marginRight"},{"fromId":"0a7133bf-2d41-8a92-ac3c-b4080d850344","fromProperty":"Position","toId":"6255e067-588d-b3e0-829c-74c4a75e0a9b","toProperty":"position"},{"fromId":"0a7133bf-2d41-8a92-ac3c-b4080d850344","fromProperty":"Width","toId":"6255e067-588d-b3e0-829c-74c4a75e0a9b","toProperty":"width"},{"fromId":"3f6a9246-013c-64cd-afec-6f1cd30cfc9d","fromProperty":"Options","toId":"4bb01d35-5d2c-d8b0-dca0-61a114209d64","toProperty":"in-RowPerPageOptions"}],"roots":[{"id":"6255e067-588d-b3e0-829c-74c4a75e0a9b","type":"Group","x":9.046488044298712,"y":-54.278928265792274,"parameters":{"flexDirection":"row","justifyContent":"center","alignItems":"center","sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"5d4144d9-5487-dfe9-8105-89f7e56224a3","type":"net.noodl.controls.options","parameters":{"useLabel":false,"width":{"value":80,"unit":"px"},"placeholder":"","color":"Grey - 900","iconSize":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"7b606120-0cb1-eb6b-70a1-a87006b0227a","type":"Text","label":"Text","parameters":{"text":"Rows per page","sizeMode":"contentSize","alignY":"center","marginRight":{"value":40,"unit":"px"},"marginLeft":{"value":32,"unit":"px"},"color":"Grey - 900"},"ports":[],"dynamicports":[],"children":[]},{"id":"2692e13b-f3ea-8055-a6ab-0d4a5df0c99a","type":"net.noodl.controls.button","parameters":{"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"skip_previous"},"minWidth":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"sizeMode":"explicit","width":{"value":32,"unit":"px"},"height":{"value":32,"unit":"px"},"marginRight":{"value":16,"unit":"px"},"borderRadius":{"value":50,"unit":"px"},"backgroundColor":"transparent","iconColor":"Grey - 800","iconSize":{"value":24,"unit":"px"}},"stateParameters":{"disabled":{"iconColor":"Grey - 500"},"hover":{"iconColor":"Grey - 700"}},"ports":[],"dynamicports":[],"children":[]},{"id":"bd848db6-2921-f4be-904d-711447c6252d","type":"net.noodl.controls.button","parameters":{"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"chevron_left"},"backgroundColor":"transparent","paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"explicit","width":{"value":32,"unit":"px"},"height":{"value":32,"unit":"px"},"marginRight":{"value":16,"unit":"px"},"borderRadius":{"value":50,"unit":"px"},"iconColor":"Grey - 800","iconSize":{"value":24,"unit":"px"}},"stateParameters":{"disabled":{"iconColor":"Grey - 500"},"hover":{"iconColor":"Grey - 700"}},"ports":[],"dynamicports":[],"children":[]},{"id":"9a018368-0a68-7de7-e212-b7e6640e6069","type":"net.noodl.controls.button","parameters":{"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"chevron_right"},"backgroundColor":"transparent","paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"explicit","width":{"value":32,"unit":"px"},"height":{"value":32,"unit":"px"},"marginRight":{"value":16,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"iconColor":"Grey - 800","iconSize":{"value":24,"unit":"px"}},"stateParameters":{"disabled":{"iconColor":"Grey - 500"},"hover":{"iconColor":"Grey - 700"}},"ports":[],"dynamicports":[],"children":[]},{"id":"d2b8c96e-5bac-4579-5018-cd5a7b8ae682","type":"net.noodl.controls.button","parameters":{"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"skip_next"},"backgroundColor":"transparent","paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"iconColor":"Grey - 800","iconSize":{"value":24,"unit":"px"},"sizeMode":"explicit","width":{"value":32,"unit":"px"},"height":{"value":32,"unit":"px"}},"stateParameters":{"disabled":{"iconColor":"Grey - 500"},"hover":{"iconColor":"Grey - 700"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"4bb01d35-5d2c-d8b0-dca0-61a114209d64","type":"JavaScriptFunction","x":-467.00411151705737,"y":17,"parameters":{"functionScript":"const pages = Inputs.RowPerPageOptions;\n\nOutputs.Pages = pages.map(p => ({\n    Label:\"\"+p,\n    Value:\"\"+p\n}))","scriptInputs":[{"id":"8g7v","label":"RowPerPageOptions"}],"intype-RowPerPageOptions":"array","in-RowPerPageOptions":"[5,10,15,20,30,40,50]"},"ports":[],"dynamicports":[{"name":"intype-RowPerPageOptions","displayName":"Type","editorName":"RowPerPageOptions | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"8g7v","index":4},{"name":"in-RowPerPageOptions","displayName":"RowPerPageOptions","plug":"input","type":"array","group":"Inputs","index":5},{"name":"out-Pages","displayName":"Pages","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"3f6a9246-013c-64cd-afec-6f1cd30cfc9d","type":"Component Inputs","x":-750,"y":127,"parameters":{},"ports":[{"name":"TotalCount","plug":"output","type":{"name":"*"},"index":1},{"name":"SelectedPage","plug":"output","type":{"name":"*"},"index":2},{"name":"RowsPerPage","plug":"output","type":{"name":"*"},"index":3},{"name":"Options","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"452e882f-2543-9763-0a7b-8efe1a6fb986","type":"Number","x":-471,"y":136,"parameters":{"value":5},"ports":[],"dynamicports":[],"children":[]},{"id":"dbb572bc-ac2d-37cc-814c-c2c9f03febd3","type":"JavaScriptFunction","x":307,"y":-30,"parameters":{"functionScript":"const rowsPerPage = parseInt(Inputs.Value);\n\nComponent.Object.RowsPerPage = isNaN(rowsPerPage)?5:rowsPerPage;\n\nOutputs.Changed();"},"ports":[],"dynamicports":[{"name":"in-Value","displayName":"Value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"f2311e4c-0684-9588-74d8-1c8bb9e807a6","type":"net.noodl.ComponentObject","x":-237,"y":185,"parameters":{"properties":"RowsPerPage,Selected Page"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-RowsPerPage","displayName":"RowsPerPage","index":4},{"type":"signal","plug":"output","group":"Changed Events","displayName":"RowsPerPage Changed","name":"changed-RowsPerPage","index":5},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-Selected Page","displayName":"Selected Page","index":6},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Selected Page Changed","name":"changed-Selected Page","index":7}],"children":[]},{"id":"9c1acf49-218a-8aab-fe5d-d66b7a359d0d","type":"Component Outputs","x":608,"y":181,"parameters":{},"ports":[{"name":"Skip","plug":"input","type":{"name":"*"},"index":1},{"name":"Limit","plug":"input","type":{"name":"*"},"index":2},{"name":"Changed","plug":"input","type":{"name":"*"},"index":3},{"name":"Selected Page","plug":"input","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"0941cfe7-6499-485f-0816-c6c34ad93c49","type":"Number","x":-482,"y":260,"parameters":{"value":0},"ports":[],"dynamicports":[],"children":[]},{"id":"7bde969f-4457-f8cc-06c0-533dca9d6343","type":"JavaScriptFunction","x":-235.07142857142856,"y":308.7142857142857,"parameters":{"functionScript":"const startRow = Inputs.RowsPerPage*Inputs.SelectedPage;\nlet endRow = startRow + Inputs.RowsPerPage;\n\nif(endRow > Inputs.TotalCount)\n    endRow = Inputs.TotalCount;\n\nconst numPages = Math.ceil(Inputs.TotalCount / Inputs.RowsPerPage);\nComponent.Object.NumPages = numPages;\n\nif(Component.Object['Selected Page'] > numPages-1) {\n    Component.Object['Selected Page'] = numPages-1;\n}\n\nOutputs.NextEnabled = Component.Object['Selected Page'] < numPages-1;\nOutputs.BackEnabled = Component.Object['Selected Page'] > 0;\n\nOutputs.Text = (startRow+1) + \"-\" + endRow + \" of \" + (Inputs.TotalCount!==undefined?Inputs.TotalCount:\"?\");"},"ports":[],"dynamicports":[{"name":"in-RowsPerPage","displayName":"RowsPerPage","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-SelectedPage","displayName":"SelectedPage","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-TotalCount","displayName":"TotalCount","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-NextEnabled","displayName":"NextEnabled","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-BackEnabled","displayName":"BackEnabled","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-Text","displayName":"Text","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"34cd820b-2163-a354-c2b7-d988b89afe16","type":"Expression","x":293.5857142857143,"y":126.64285714285717,"parameters":{"expression":"RowsPerPage*SelectedPage"},"ports":[],"dynamicports":[{"group":"Parameters","name":"RowsPerPage","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"SelectedPage","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"f385e6bb-3a6b-d901-1998-5a831f7edd39","type":"JavaScriptFunction","label":"To start","x":282.5857142857144,"y":279.64285714285717,"parameters":{"functionScript":"Component.Object['Selected Page'] = 0;\n\nOutputs.Changed();"},"ports":[],"dynamicports":[{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"f12cfed9-a432-a8e7-ee6c-4397e8197e34","type":"JavaScriptFunction","label":"To start","x":293,"y":581,"parameters":{"functionScript":"Component.Object['Selected Page'] = Component.Object.NumPages-1;\n\nOutputs.Changed();"},"ports":[],"dynamicports":[{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"34c65053-dffb-f556-c290-e7f15154823f","type":"JavaScriptFunction","label":"Back","x":289,"y":377,"parameters":{"functionScript":"if(Component.Object['Selected Page'] > 0)\n    Component.Object['Selected Page']--;\n\nOutputs.Changed();"},"ports":[],"dynamicports":[{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"f7de9e2e-f3d7-940e-1191-28c6c71f1ac3","type":"JavaScriptFunction","label":"Next","x":286,"y":479,"parameters":{"functionScript":"if(Component.Object['Selected Page'] < Component.Object.NumPages-1)\n    Component.Object['Selected Page']++;\n\nOutputs.Changed();"},"ports":[],"dynamicports":[{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"0a7133bf-2d41-8a92-ac3c-b4080d850344","type":"Component Inputs","x":-317,"y":-239,"parameters":{},"ports":[{"name":"Align X","plug":"output","type":{"name":"*"},"group":"Alignment","index":1},{"name":"Align Y","plug":"output","type":{"name":"*"},"group":"Alignment","index":0},{"name":"Position","plug":"output","type":{"name":"*"},"group":"Layout","index":6},{"name":"Margin Top","plug":"output","type":{"name":"*"},"group":"Margins","index":2},{"name":"Margin Bottom","plug":"output","type":{"name":"*"},"group":"Margins","index":3},{"name":"Margin Left","plug":"output","type":{"name":"*"},"group":"Margins","index":4},{"name":"Margin Right","plug":"output","type":{"name":"*"},"group":"Margins","index":5},{"name":"Width","plug":"output","type":{"name":"*"},"group":"Dimensions","index":7}],"dynamicports":[],"children":[]}],"visualRoots":["6255e067-588d-b3e0-829c-74c4a75e0a9b"]}},{"name":"/Components/Popup","id":"14df20c2-6f58-015c-b179-33a408498b9d","graph":{"connections":[{"fromId":"649d3113-db2a-e6e9-719b-a6aba0fbf7fd","fromProperty":"Closed","toId":"f50be4c0-0663-a2d2-ad75-405c4a98b941","toProperty":"Closed"},{"fromId":"649d3113-db2a-e6e9-719b-a6aba0fbf7fd","fromProperty":"closeAction-Confirmed","toId":"f50be4c0-0663-a2d2-ad75-405c4a98b941","toProperty":"Confirm Clicked"},{"fromId":"1fbf5d82-c879-2165-4739-90520bf06578","fromProperty":"Component to show","toId":"649d3113-db2a-e6e9-719b-a6aba0fbf7fd","toProperty":"target"},{"fromId":"1fbf5d82-c879-2165-4739-90520bf06578","fromProperty":"Show popup","toId":"649d3113-db2a-e6e9-719b-a6aba0fbf7fd","toProperty":"show"}],"roots":[{"id":"649d3113-db2a-e6e9-719b-a6aba0fbf7fd","type":"NavigationShowPopup","x":91.96418347009899,"y":135.4363398491261,"parameters":{"target":"/Components/Popup/Login Modal"},"ports":[],"dynamicports":[{"name":"closeAction-Confirmed","displayName":"Confirmed","type":"signal","plug":"output","group":"Close Actions","index":3}],"children":[]},{"id":"f50be4c0-0663-a2d2-ad75-405c4a98b941","type":"Component Outputs","x":268.2378145694978,"y":135.59043267494678,"parameters":{},"ports":[{"name":"Closed","plug":"input","type":{"name":"*"},"index":1},{"name":"Confirm Clicked","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"1fbf5d82-c879-2165-4739-90520bf06578","type":"Component Inputs","x":-98.59477451700423,"y":136,"parameters":{},"ports":[{"name":"Show popup","plug":"output","type":{"name":"*"},"index":4,"group":"Action"},{"name":"Title","plug":"output","type":{"name":"*"},"group":"Text","index":0},{"name":"Description","plug":"output","type":{"name":"*"},"group":"Text","index":1},{"name":"Primary Button Label","plug":"output","type":{"name":"*"},"group":"Text","index":2},{"name":"Secondary Button Label","plug":"output","type":{"name":"*"},"group":"Text","index":3},{"name":"Component to show","plug":"output","type":{"name":"*"},"group":"General","index":5}],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/Components/Popup/About Location Modal","id":"5c3838aa-db27-0471-edb2-f70350e82995","graph":{"connections":[{"fromId":"248841b0-23b7-7c31-5215-da35fab93474","fromProperty":"onClick","toId":"53300fb7-79a9-6a0d-43b3-188019b31f81","toProperty":"close"},{"fromId":"350c3e2c-731e-5f97-a80a-72dcd243bb80","fromProperty":"onClick","toId":"53300fb7-79a9-6a0d-43b3-188019b31f81","toProperty":"close"},{"fromId":"572e7f34-8efd-89d1-7e5d-548224b68acd","fromProperty":"onClick","toId":"53300fb7-79a9-6a0d-43b3-188019b31f81","toProperty":"close"},{"fromId":"5b548e78-1ecc-efaf-af17-703700c2c683","fromProperty":"onClick","toId":"53300fb7-79a9-6a0d-43b3-188019b31f81","toProperty":"closeAction-Confirmed"},{"fromId":"21b31811-5523-d715-9c20-6fd4d803dba7","fromProperty":"didMount","toId":"e6cc8ca0-52cf-c574-3cda-ab8b2dfb4e28","toProperty":"to-show"},{"fromId":"e6cc8ca0-52cf-c574-3cda-ab8b2dfb4e28","fromProperty":"size","toId":"2b07bf83-9071-d9dc-9eec-6b19e8660260","toProperty":"transformScale"},{"fromId":"e6cc8ca0-52cf-c574-3cda-ab8b2dfb4e28","fromProperty":"opacity","toId":"2b07bf83-9071-d9dc-9eec-6b19e8660260","toProperty":"opacity"},{"fromId":"9e021e7e-5044-c46c-1dbb-6cbc35ad115c","fromProperty":"Title","toId":"cbb74e0c-0e71-a04a-5dbe-acb914a589a1","toProperty":"text"},{"fromId":"9e021e7e-5044-c46c-1dbb-6cbc35ad115c","fromProperty":"Description","toId":"20aa6f47-6593-2382-72b3-1335075a720d","toProperty":"text"},{"fromId":"9e021e7e-5044-c46c-1dbb-6cbc35ad115c","fromProperty":"Secondary Button Label","toId":"572e7f34-8efd-89d1-7e5d-548224b68acd","toProperty":"label"},{"fromId":"9e021e7e-5044-c46c-1dbb-6cbc35ad115c","fromProperty":"Primary Button Label","toId":"5b548e78-1ecc-efaf-af17-703700c2c683","toProperty":"label"},{"fromId":"e6cc8ca0-52cf-c574-3cda-ab8b2dfb4e28","fromProperty":"opacity","toId":"248841b0-23b7-7c31-5215-da35fab93474","toProperty":"opacity"}],"roots":[{"id":"53300fb7-79a9-6a0d-43b3-188019b31f81","type":"NavigationClosePopup","x":295.09777395814945,"y":350.5424176502106,"parameters":{"closeActions":"Confirmed"},"ports":[],"dynamicports":[{"type":"signal","plug":"input","group":"Close Actions","name":"closeAction-Confirmed","displayName":"Confirmed","index":3}],"children":[]},{"id":"21b31811-5523-d715-9c20-6fd4d803dba7","type":"Group","x":-16,"y":-78,"parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"248841b0-23b7-7c31-5215-da35fab93474","type":"Group","label":"Dark BG Fullscreen","parameters":{"backgroundColor":"#000000A5"},"ports":[],"dynamicports":[],"children":[]},{"id":"2b07bf83-9071-d9dc-9eec-6b19e8660260","type":"Group","label":"Modal","parameters":{"position":"absolute","alignY":"center","alignX":"center","width":{"value":420,"unit":"px"},"sizeMode":"contentHeight","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026"},"ports":[],"dynamicports":[],"children":[{"id":"350c3e2c-731e-5f97-a80a-72dcd243bb80","type":"net.noodl.controls.button","label":"Close icon","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"cbb74e0c-0e71-a04a-5dbe-acb914a589a1","type":"Text","label":"Title","parameters":{"textStyle":"Title Medium","text":"Modal Title","marginRight":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"20aa6f47-6593-2382-72b3-1335075a720d","type":"Text","label":"Description","parameters":{"marginTop":{"value":16,"unit":"px"},"text":"Modal description that tells you something you shoul react to."},"ports":[],"dynamicports":[],"children":[]},{"id":"ef04598e-c13a-1fc1-f707-9b232372eda3","type":"Group","label":"Button section","parameters":{"flexDirection":"row","justifyContent":"flex-end","marginTop":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"572e7f34-8efd-89d1-7e5d-548224b68acd","type":"net.noodl.controls.button","label":"Secondary Button","parameters":{"marginRight":{"value":16,"unit":"px"},"label":"Cancel","borderStyle":"solid","borderColor":"Primary","borderWidth":{"value":1,"unit":"px"},"backgroundColor":"transparent","color":"Primary Dark"},"stateParameters":{"hover":{"borderColor":"Primary Dark"}},"ports":[],"dynamicports":[],"children":[]},{"id":"5b548e78-1ecc-efaf-af17-703700c2c683","type":"net.noodl.controls.button","label":"Primary Button","parameters":{"label":"Confirm"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"e6cc8ca0-52cf-c574-3cda-ab8b2dfb4e28","type":"States","label":"Show animation","x":272.0528411823445,"y":15.771172431771049,"parameters":{"states":"hide,show","values":"size,opacity","value-hide-size":0,"value-show-size":1,"value-hide-opacity":0,"value-show-opacity":1,"currentState":"hide","transitiondef-hide":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"transitiondef-show":{"curve":[0,0,0.58,1],"dur":150,"delay":0}},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"size","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"size","name":"type-size","index":7},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"opacity","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"opacity","name":"type-opacity","index":9},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-size","displayName":"size","editorName":"hide|size","index":10},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-opacity","displayName":"opacity","editorName":"hide|opacity","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hide Transitions","name":"transitiondef-hide","index":12},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-size","displayName":"size","editorName":"Transition hide|size","index":13},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-opacity","displayName":"opacity","editorName":"Transition hide|opacity","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To hide","name":"to-hide","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At hide","name":"at-hide","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached hide","name":"reached-hide","group":"Current state","index":17},{"plug":"input","type":"number","group":"show Values","name":"value-show-size","displayName":"size","editorName":"show|size","index":18},{"plug":"input","type":"number","group":"show Values","name":"value-show-opacity","displayName":"opacity","editorName":"show|opacity","index":19},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"show Transitions","name":"transitiondef-show","index":20},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-size","displayName":"size","editorName":"Transition show|size","index":21},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-opacity","displayName":"opacity","editorName":"Transition show|opacity","index":22},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To show","name":"to-show","group":"Go to state","index":23},{"plug":"output","type":"boolean","displayName":"At show","name":"at-show","group":"Current state","index":24},{"plug":"output","type":"signal","displayName":"Has Reached show","name":"reached-show","group":"Current state","index":25},{"plug":"input","type":{"name":"enum","enums":["hide","show"]},"group":"States","displayName":"State","name":"currentState","default":"hide","index":26}],"children":[]},{"id":"9e021e7e-5044-c46c-1dbb-6cbc35ad115c","type":"Component Inputs","x":-243.9173345541265,"y":499.9249020052328,"parameters":{},"ports":[{"name":"Title","plug":"output","type":{"name":"*"},"index":1},{"name":"Description","plug":"output","type":{"name":"*"},"index":2},{"name":"Primary Button Label","plug":"output","type":{"name":"*"},"index":3},{"name":"Secondary Button Label","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]}],"visualRoots":["21b31811-5523-d715-9c20-6fd4d803dba7"]}},{"name":"/Components/Popup/Login Modal","id":"e22090b5-a696-dfdd-6c57-23f2ca4c89ad","graph":{"connections":[{"fromId":"a3689d94-1e83-ab8c-334d-1c6fcc18e816","fromProperty":"onClick","toId":"0a52f6a8-e3fa-3aa4-983c-bef1fcbaab25","toProperty":"close"},{"fromId":"b0f8625b-c6ab-0ebb-ed07-564d3d4b8626","fromProperty":"onClick","toId":"0a52f6a8-e3fa-3aa4-983c-bef1fcbaab25","toProperty":"close"},{"fromId":"8f74bc33-2e55-5270-146d-80aebdce9261","fromProperty":"didMount","toId":"a6fbd955-1207-090f-9bf4-41f5033e9a34","toProperty":"to-show"},{"fromId":"a6fbd955-1207-090f-9bf4-41f5033e9a34","fromProperty":"size","toId":"64fa1fcd-5298-4bc0-eaec-4159816b092f","toProperty":"transformScale"},{"fromId":"a6fbd955-1207-090f-9bf4-41f5033e9a34","fromProperty":"opacity","toId":"64fa1fcd-5298-4bc0-eaec-4159816b092f","toProperty":"opacity"},{"fromId":"a6fbd955-1207-090f-9bf4-41f5033e9a34","fromProperty":"opacity","toId":"a3689d94-1e83-ab8c-334d-1c6fcc18e816","toProperty":"opacity"},{"fromId":"a57569ec-2bd8-ef2f-8c08-57e6a70dce68","fromProperty":"Object Id","toId":"1e48617c-8607-fdba-49e0-d7bca57c87b2","toProperty":"modelId"},{"fromId":"a57569ec-2bd8-ef2f-8c08-57e6a70dce68","fromProperty":"Object Id","toId":"1c1373b4-2313-5397-afae-78f26ebcec23","toProperty":"modelId"},{"fromId":"d96cd1b7-a4eb-7703-27d0-f4a950b70931","fromProperty":"out-Errors","toId":"a57569ec-2bd8-ef2f-8c08-57e6a70dce68","toProperty":"Errors"},{"fromId":"1e48617c-8607-fdba-49e0-d7bca57c87b2","fromProperty":"prop-acceptTerms","toId":"bd669dd3-b94f-837b-a820-5ab5132455cf","toProperty":"input 1"},{"fromId":"d96cd1b7-a4eb-7703-27d0-f4a950b70931","fromProperty":"out-IsError","toId":"bd669dd3-b94f-837b-a820-5ab5132455cf","toProperty":"input 0"},{"fromId":"bd669dd3-b94f-837b-a820-5ab5132455cf","fromProperty":"result","toId":"03f31752-1585-9810-83a7-89a7026e2d56","toProperty":"enabled"},{"fromId":"03f31752-1585-9810-83a7-89a7026e2d56","fromProperty":"onClick","toId":"97f5d505-0b51-5506-2870-10f97c232cf6","toProperty":"Fetch"},{"fromId":"1e48617c-8607-fdba-49e0-d7bca57c87b2","fromProperty":"prop-Identifier","toId":"97f5d505-0b51-5506-2870-10f97c232cf6","toProperty":"Identifier"},{"fromId":"1e48617c-8607-fdba-49e0-d7bca57c87b2","fromProperty":"prop-Password","toId":"97f5d505-0b51-5506-2870-10f97c232cf6","toProperty":"Password"},{"fromId":"97f5d505-0b51-5506-2870-10f97c232cf6","fromProperty":"Success","toId":"0a52f6a8-e3fa-3aa4-983c-bef1fcbaab25","toProperty":"closeAction-Confirmed"},{"fromId":"1c1373b4-2313-5397-afae-78f26ebcec23","fromProperty":"prop-Identifier","toId":"d96cd1b7-a4eb-7703-27d0-f4a950b70931","toProperty":"in-Identifier"},{"fromId":"97f5d505-0b51-5506-2870-10f97c232cf6","fromProperty":"Failure","toId":"0a52f6a8-e3fa-3aa4-983c-bef1fcbaab25","toProperty":"close"}],"roots":[{"id":"0a52f6a8-e3fa-3aa4-983c-bef1fcbaab25","type":"NavigationClosePopup","x":261.8510830948197,"y":296.4533683028299,"parameters":{"closeActions":"Confirmed"},"ports":[],"dynamicports":[{"type":"signal","plug":"input","group":"Close Actions","name":"closeAction-Confirmed","displayName":"Confirmed","index":3}],"children":[]},{"id":"8f74bc33-2e55-5270-146d-80aebdce9261","type":"Group","x":-16,"y":-78,"parameters":{"zIndex":2,"scrollEnabled":true},"ports":[],"dynamicports":[],"children":[{"id":"a3689d94-1e83-ab8c-334d-1c6fcc18e816","type":"Group","label":"Dark BG Fullscreen","parameters":{"backgroundColor":"#000000A5"},"ports":[],"dynamicports":[],"children":[]},{"id":"64fa1fcd-5298-4bc0-eaec-4159816b092f","type":"Group","label":"Modal","parameters":{"position":"absolute","alignY":"center","alignX":"center","width":{"value":420,"unit":"px"},"sizeMode":"contentHeight","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":48,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","clip":false},"ports":[],"dynamicports":[],"children":[{"id":"b0f8625b-c6ab-0ebb-ed07-564d3d4b8626","type":"net.noodl.controls.button","label":"Close icon","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"8f37a88e-3ade-ffbf-905a-3449f555f505","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"center","alignY":"center","flexDirection":"column","width":{"value":100,"unit":"%","isFixed":false},"marginBottom":{"value":32,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"82f4324a-edf2-6a41-959d-64edfbdb0cba","type":"Image","parameters":{"src":"https://raw.githubusercontent.com/TVU-OPS/UniHand/refs/heads/main/public/logo%20(64x64).png","alignX":"center","alignY":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"7d7edc83-70b3-a782-471f-e5a8fcc76b35","type":"Text","parameters":{"text":"UniHand","alignX":"center","alignY":"center","sizeMode":"contentSize","width":{"value":100,"unit":"%","isFixed":false},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"a57569ec-2bd8-ef2f-8c08-57e6a70dce68","type":"/Components/Form","parameters":{"Controls":"[\n    {\n        Type:\"Text Input\",\n        Label:\"Email\",\n        Property:\"Identifier\",\n        InputType:'email',\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Mật khẩu\",\n        Property:\"Password\",\n        InputType:\"password\"\n    },    \n    {\n        Type:\"Checkbox\",\n        Label:\"\",\n        Text:\"Đồng ý với các điều khoản của UniHand.\",\n        Property:\"acceptTerms\"\n    }\n]"},"ports":[],"dynamicports":[],"children":[]},{"id":"6e2f2d96-4626-d809-ca41-88802357e52c","type":"Group","label":"Button section","parameters":{"flexDirection":"row","justifyContent":"flex-end","marginTop":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"03f31752-1585-9810-83a7-89a7026e2d56","type":"net.noodl.controls.button","label":"Primary Button","parameters":{"label":"Đăng nhập","sizeMode":"explicit","enabled":true},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"a6fbd955-1207-090f-9bf4-41f5033e9a34","type":"States","label":"Show animation","x":262.25139705591806,"y":172.4324242637859,"parameters":{"states":"hide,show","values":"size,opacity","value-hide-size":0,"value-show-size":1,"value-hide-opacity":0,"value-show-opacity":1,"currentState":"hide","transitiondef-hide":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"transitiondef-show":{"curve":[0,0,0.58,1],"dur":150,"delay":0}},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"size","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"size","name":"type-size","index":7},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"opacity","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"opacity","name":"type-opacity","index":9},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-size","displayName":"size","editorName":"hide|size","index":10},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-opacity","displayName":"opacity","editorName":"hide|opacity","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hide Transitions","name":"transitiondef-hide","index":12},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-size","displayName":"size","editorName":"Transition hide|size","index":13},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-opacity","displayName":"opacity","editorName":"Transition hide|opacity","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To hide","name":"to-hide","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At hide","name":"at-hide","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached hide","name":"reached-hide","group":"Current state","index":17},{"plug":"input","type":"number","group":"show Values","name":"value-show-size","displayName":"size","editorName":"show|size","index":18},{"plug":"input","type":"number","group":"show Values","name":"value-show-opacity","displayName":"opacity","editorName":"show|opacity","index":19},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"show Transitions","name":"transitiondef-show","index":20},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-size","displayName":"size","editorName":"Transition show|size","index":21},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-opacity","displayName":"opacity","editorName":"Transition show|opacity","index":22},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To show","name":"to-show","group":"Go to state","index":23},{"plug":"output","type":"boolean","displayName":"At show","name":"at-show","group":"Current state","index":24},{"plug":"output","type":"signal","displayName":"Has Reached show","name":"reached-show","group":"Current state","index":25},{"plug":"input","type":{"name":"enum","enums":["hide","show"]},"group":"States","displayName":"State","name":"currentState","default":"hide","index":26}],"children":[]},{"id":"1e48617c-8607-fdba-49e0-d7bca57c87b2","type":"Model2","x":261.509233877333,"y":539.8764499810459,"parameters":{"properties":"Identifier,Password,acceptTerms"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Identifier","displayName":"Identifier","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Identifier Changed","name":"changed-Identifier","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Password","displayName":"Password","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Password Changed","name":"changed-Password","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-acceptTerms","displayName":"acceptTerms","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"acceptTerms Changed","name":"changed-acceptTerms","index":12}],"children":[]},{"id":"1c1373b4-2313-5397-afae-78f26ebcec23","type":"Model2","x":-202.6627877447679,"y":569.0463053865011,"parameters":{"properties":"Identifier"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Identifier","displayName":"Identifier","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Identifier Changed","name":"changed-Identifier","index":8}],"children":[]},{"id":"d96cd1b7-a4eb-7703-27d0-f4a950b70931","type":"JavaScriptFunction","x":-202.65224003442268,"y":641.5132430508745,"parameters":{"functionScript":"const errors = [];\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\nif (!emailRegex.test(Inputs.Identifier)) {\r\n  errors.push({\r\n    Property: 'Identifier',\r\n    Error: 'Email không hợp lệ.',\r\n  });\r\n}\r\n\r\nOutputs.IsError = errors.length === 0;\r\nOutputs.Errors = errors;\r\n"},"ports":[],"dynamicports":[{"name":"in-Identifier","displayName":"Identifier","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-IsError","displayName":"IsError","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Errors","displayName":"Errors","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"bd669dd3-b94f-837b-a820-5ab5132455cf","type":"And","x":43.59570978135969,"y":731.554415195367,"parameters":{"input 0":true,"input 1":true},"ports":[],"dynamicports":[{"name":"input 0","displayName":"Input 0","type":"boolean","plug":"input","index":1},{"name":"input 1","displayName":"Input 1","type":"boolean","plug":"input","index":2},{"name":"input 2","displayName":"Input 2","type":"boolean","plug":"input","index":3}],"children":[]},{"id":"97f5d505-0b51-5506-2870-10f97c232cf6","type":"/#Logic/Login","x":261.9893652514593,"y":388.0435686049527,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["8f74bc33-2e55-5270-146d-80aebdce9261"]}},{"name":"/Components/Popup/Modal Component","id":"70a0465c-2bde-b95b-7b83-3799c8588516","graph":{"connections":[{"fromId":"9e7b0b26-236a-aa63-0897-b1ea944adc6a","fromProperty":"onClick","toId":"ac844999-fb3d-bf7f-4edc-7c8712d823b2","toProperty":"close"},{"fromId":"b5053044-8631-6043-2656-94badbaad33c","fromProperty":"onClick","toId":"ac844999-fb3d-bf7f-4edc-7c8712d823b2","toProperty":"close"},{"fromId":"5f52b57e-0641-b99c-e6f9-1e9e1e8ec98b","fromProperty":"onClick","toId":"ac844999-fb3d-bf7f-4edc-7c8712d823b2","toProperty":"close"},{"fromId":"d71e1861-a20a-0a36-5b48-f63ec2f3e6d0","fromProperty":"onClick","toId":"ac844999-fb3d-bf7f-4edc-7c8712d823b2","toProperty":"closeAction-Confirmed"},{"fromId":"5af603b0-4a88-c3ba-6f38-a84d076045b5","fromProperty":"didMount","toId":"79a2eae2-da1b-1dcd-b96b-b266332ec0f3","toProperty":"to-show"},{"fromId":"79a2eae2-da1b-1dcd-b96b-b266332ec0f3","fromProperty":"size","toId":"612d6f3a-0fd3-2055-4337-43ad17cd65f4","toProperty":"transformScale"},{"fromId":"79a2eae2-da1b-1dcd-b96b-b266332ec0f3","fromProperty":"opacity","toId":"612d6f3a-0fd3-2055-4337-43ad17cd65f4","toProperty":"opacity"},{"fromId":"6334b428-f1e7-c9c2-9951-b0f7eef7a568","fromProperty":"Title","toId":"540aac73-740b-e663-dd89-a8cf7c315220","toProperty":"text"},{"fromId":"6334b428-f1e7-c9c2-9951-b0f7eef7a568","fromProperty":"Description","toId":"4d67d507-1c19-e535-75ac-a57326f49796","toProperty":"text"},{"fromId":"6334b428-f1e7-c9c2-9951-b0f7eef7a568","fromProperty":"Secondary Button Label","toId":"5f52b57e-0641-b99c-e6f9-1e9e1e8ec98b","toProperty":"label"},{"fromId":"6334b428-f1e7-c9c2-9951-b0f7eef7a568","fromProperty":"Primary Button Label","toId":"d71e1861-a20a-0a36-5b48-f63ec2f3e6d0","toProperty":"label"},{"fromId":"79a2eae2-da1b-1dcd-b96b-b266332ec0f3","fromProperty":"opacity","toId":"9e7b0b26-236a-aa63-0897-b1ea944adc6a","toProperty":"opacity"}],"roots":[{"id":"ac844999-fb3d-bf7f-4edc-7c8712d823b2","type":"NavigationClosePopup","x":276,"y":407.3146799870558,"parameters":{"closeActions":"Confirmed"},"ports":[],"dynamicports":[{"type":"signal","plug":"input","group":"Close Actions","name":"closeAction-Confirmed","displayName":"Confirmed","index":3}],"children":[]},{"id":"5af603b0-4a88-c3ba-6f38-a84d076045b5","type":"Group","x":-16,"y":-78,"parameters":{"styleCss":"/* background-color: red; */\r\nz-index: 9"},"ports":[],"dynamicports":[],"children":[{"id":"9e7b0b26-236a-aa63-0897-b1ea944adc6a","type":"Group","label":"Dark BG Fullscreen","parameters":{"backgroundColor":"#000000A5"},"ports":[],"dynamicports":[],"children":[]},{"id":"612d6f3a-0fd3-2055-4337-43ad17cd65f4","type":"Group","label":"Modal","parameters":{"position":"absolute","alignY":"center","alignX":"center","width":{"value":420,"unit":"px"},"sizeMode":"contentHeight","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026"},"ports":[],"dynamicports":[],"children":[{"id":"b5053044-8631-6043-2656-94badbaad33c","type":"net.noodl.controls.button","label":"Close icon","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"540aac73-740b-e663-dd89-a8cf7c315220","type":"Text","label":"Title","parameters":{"textStyle":"Title Medium","text":"Modal Title","marginRight":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"4d67d507-1c19-e535-75ac-a57326f49796","type":"Text","label":"Description","parameters":{"text":"Modal description that tells you something you shoul react to.","fontSize":{"value":16,"unit":"px"},"color":"Grey - 700","marginTop":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"dd39784b-14ae-107d-0945-1f4ffc0a4385","type":"Group","label":"Button section","parameters":{"flexDirection":"row","justifyContent":"flex-end","marginTop":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"5f52b57e-0641-b99c-e6f9-1e9e1e8ec98b","type":"net.noodl.controls.button","label":"Secondary Button","parameters":{"marginRight":{"value":16,"unit":"px"},"label":"Cancel","borderStyle":"solid","borderColor":"Primary","borderWidth":{"value":1,"unit":"px"},"backgroundColor":"transparent","color":"Primary Dark"},"stateParameters":{"hover":{"borderColor":"Primary Dark"}},"ports":[],"dynamicports":[],"children":[]},{"id":"d71e1861-a20a-0a36-5b48-f63ec2f3e6d0","type":"net.noodl.controls.button","label":"Primary Button","parameters":{"label":"Confirm"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"79a2eae2-da1b-1dcd-b96b-b266332ec0f3","type":"States","label":"Show animation","x":266.7161034347825,"y":-0.3378429993566954,"parameters":{"states":"hide,show","values":"size,opacity","value-hide-size":0,"value-show-size":1,"value-hide-opacity":0,"value-show-opacity":1,"currentState":"hide","transitiondef-hide":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"transitiondef-show":{"curve":[0,0,0.58,1],"dur":150,"delay":0}},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"size","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"size","name":"type-size","index":7},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"opacity","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"opacity","name":"type-opacity","index":9},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-size","displayName":"size","editorName":"hide|size","index":10},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-opacity","displayName":"opacity","editorName":"hide|opacity","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hide Transitions","name":"transitiondef-hide","index":12},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-size","displayName":"size","editorName":"Transition hide|size","index":13},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-opacity","displayName":"opacity","editorName":"Transition hide|opacity","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To hide","name":"to-hide","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At hide","name":"at-hide","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached hide","name":"reached-hide","group":"Current state","index":17},{"plug":"input","type":"number","group":"show Values","name":"value-show-size","displayName":"size","editorName":"show|size","index":18},{"plug":"input","type":"number","group":"show Values","name":"value-show-opacity","displayName":"opacity","editorName":"show|opacity","index":19},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"show Transitions","name":"transitiondef-show","index":20},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-size","displayName":"size","editorName":"Transition show|size","index":21},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-opacity","displayName":"opacity","editorName":"Transition show|opacity","index":22},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To show","name":"to-show","group":"Go to state","index":23},{"plug":"output","type":"boolean","displayName":"At show","name":"at-show","group":"Current state","index":24},{"plug":"output","type":"signal","displayName":"Has Reached show","name":"reached-show","group":"Current state","index":25},{"plug":"input","type":{"name":"enum","enums":["hide","show"]},"group":"States","displayName":"State","name":"currentState","default":"hide","index":26}],"children":[]},{"id":"6334b428-f1e7-c9c2-9951-b0f7eef7a568","type":"Component Inputs","x":-203.43267743823577,"y":486.2708708053495,"parameters":{},"ports":[{"name":"Title","plug":"output","type":{"name":"*"},"index":1},{"name":"Description","plug":"output","type":{"name":"*"},"index":2},{"name":"Primary Button Label","plug":"output","type":{"name":"*"},"index":3},{"name":"Secondary Button Label","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]}],"visualRoots":["5af603b0-4a88-c3ba-6f38-a84d076045b5"]}},{"name":"/Components/Popup/OrganizationsRegister Modal","id":"7b7ce71c-05a6-ad54-bbe9-c1224b41b882","graph":{"connections":[{"fromId":"c2fce0c4-89e3-f1a7-1856-1d78e7bff2fa","fromProperty":"onClick","toId":"9799e4b4-a830-2f3d-f8e0-d66e5932e620","toProperty":"close"},{"fromId":"1731ad36-9247-3b39-469d-a96b2f69af19","fromProperty":"onClick","toId":"9799e4b4-a830-2f3d-f8e0-d66e5932e620","toProperty":"close"},{"fromId":"696bd2a3-2a2c-679d-cf41-5b1bdf8d124e","fromProperty":"didMount","toId":"260c1e06-d992-b810-2ea2-1daa3dc722db","toProperty":"to-show"},{"fromId":"260c1e06-d992-b810-2ea2-1daa3dc722db","fromProperty":"size","toId":"3ce234d0-4dbb-11d3-1856-ac8ad9f43ab0","toProperty":"transformScale"},{"fromId":"260c1e06-d992-b810-2ea2-1daa3dc722db","fromProperty":"opacity","toId":"3ce234d0-4dbb-11d3-1856-ac8ad9f43ab0","toProperty":"opacity"},{"fromId":"260c1e06-d992-b810-2ea2-1daa3dc722db","fromProperty":"opacity","toId":"c2fce0c4-89e3-f1a7-1856-1d78e7bff2fa","toProperty":"opacity"},{"fromId":"2cb24d33-a974-1eb5-fcb7-8c20e63bb595","fromProperty":"user","toId":"a1c97ce9-10a5-b941-52a8-62ccb7849a34","toProperty":"in-CurrenUser"},{"fromId":"07416a9c-c30c-5d24-eb63-16e0ac139283","fromProperty":"file","toId":"f59c15da-6de3-7871-e80e-c9b61868ab03","toProperty":"in-file"},{"fromId":"69aa3fec-ec0c-027b-99ba-15b91aa4f0c0","fromProperty":"onClick","toId":"f59c15da-6de3-7871-e80e-c9b61868ab03","toProperty":"run"},{"fromId":"f59c15da-6de3-7871-e80e-c9b61868ab03","fromProperty":"out-Ids","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"Image"},{"fromId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","fromProperty":"Success","toId":"dadb55cf-4582-3e16-15d2-d703af4ee42e","toProperty":"Do"},{"fromId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","fromProperty":"Failure","toId":"9e1a9d19-9c18-95f0-fe13-d6b955e8fe4e","toProperty":"Do"},{"fromId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","fromProperty":"Success","toId":"9799e4b4-a830-2f3d-f8e0-d66e5932e620","toProperty":"closeAction-Confirmed"},{"fromId":"a1c97ce9-10a5-b941-52a8-62ccb7849a34","fromProperty":"out-Representative","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"Representative"},{"fromId":"a1c97ce9-10a5-b941-52a8-62ccb7849a34","fromProperty":"out-UserId","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"UserId"},{"fromId":"c1e88550-1fd4-7a34-85eb-faee6b3f3317","fromProperty":"Object Id","toId":"9630d5fa-1e88-7d78-7da8-b2a18d8e2b43","toProperty":"modelId"},{"fromId":"9630d5fa-1e88-7d78-7da8-b2a18d8e2b43","fromProperty":"prop-Name","toId":"4a4cd569-bf41-0417-11a5-02ab55969e24","toProperty":"in-Name"},{"fromId":"9630d5fa-1e88-7d78-7da8-b2a18d8e2b43","fromProperty":"prop-NotificationEmail","toId":"4a4cd569-bf41-0417-11a5-02ab55969e24","toProperty":"in-NotificationEmail"},{"fromId":"4a4cd569-bf41-0417-11a5-02ab55969e24","fromProperty":"out-Errors","toId":"c1e88550-1fd4-7a34-85eb-faee6b3f3317","toProperty":"Errors"},{"fromId":"c1e88550-1fd4-7a34-85eb-faee6b3f3317","fromProperty":"Object Id","toId":"4690ba43-ab37-c7de-bfce-56eef19cf3cb","toProperty":"modelId"},{"fromId":"4690ba43-ab37-c7de-bfce-56eef19cf3cb","fromProperty":"prop-NotificationEmail","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"NotificationEmail"},{"fromId":"4690ba43-ab37-c7de-bfce-56eef19cf3cb","fromProperty":"prop-Name","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"Name"},{"fromId":"f59c15da-6de3-7871-e80e-c9b61868ab03","fromProperty":"out-Success","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"Fetch"},{"fromId":"a1c97ce9-10a5-b941-52a8-62ccb7849a34","fromProperty":"out-Representative","toId":"2feec839-1245-010e-ecea-2c7db6144c71","toProperty":"startValue"},{"fromId":"4a4cd569-bf41-0417-11a5-02ab55969e24","fromProperty":"out-IsError","toId":"69aa3fec-ec0c-027b-99ba-15b91aa4f0c0","toProperty":"enabled"},{"fromId":"07416a9c-c30c-5d24-eb63-16e0ac139283","fromProperty":"file","toId":"f5678cfc-b540-1277-fcf5-bde11266f9d2","toProperty":"in-file"},{"fromId":"73de9f3c-1e8e-06cf-8f79-8344e35b495e","fromProperty":"prop-lat","toId":"8ff36ccc-7538-bad8-27f0-4bf779e18446","toProperty":"lat"},{"fromId":"73de9f3c-1e8e-06cf-8f79-8344e35b495e","fromProperty":"prop-lng","toId":"8ff36ccc-7538-bad8-27f0-4bf779e18446","toProperty":"lng"},{"fromId":"8ff36ccc-7538-bad8-27f0-4bf779e18446","fromProperty":"Response","toId":"f441057c-9e04-8899-4633-5a0d3e7c4e8e","toProperty":"in-Response"},{"fromId":"696bd2a3-2a2c-679d-cf41-5b1bdf8d124e","fromProperty":"didMount","toId":"8ff36ccc-7538-bad8-27f0-4bf779e18446","toProperty":"Fetch"},{"fromId":"f441057c-9e04-8899-4633-5a0d3e7c4e8e","fromProperty":"out-ProvinceId","toId":"e11d0dfc-e28b-dc24-5a72-96c81bd6a521","toProperty":"value"},{"fromId":"f441057c-9e04-8899-4633-5a0d3e7c4e8e","fromProperty":"out-DistrictId","toId":"6e792c99-4ba3-107b-89b3-2ef89244afaa","toProperty":"value"},{"fromId":"f441057c-9e04-8899-4633-5a0d3e7c4e8e","fromProperty":"out-WardId","toId":"6f970356-6fdd-760e-ca08-3225e2f1b352","toProperty":"value"},{"fromId":"7b4ee386-b318-33c0-b438-41ce0b7a5f71","fromProperty":"Response","toId":"d9f86aed-6f44-df63-8e28-ccbeaa503fc2","toProperty":"in-Response"},{"fromId":"14c11c74-7917-1bee-7427-c369bfb47cf7","fromProperty":"Response","toId":"401c399d-01f4-889e-fdb6-6c032fd2049b","toProperty":"in-Response"},{"fromId":"17af377f-112a-9235-6732-e2462855de25","fromProperty":"Response","toId":"87eb006f-bf4b-29cd-d54f-de16f73e8036","toProperty":"in-Response"},{"fromId":"696bd2a3-2a2c-679d-cf41-5b1bdf8d124e","fromProperty":"didMount","toId":"7b4ee386-b318-33c0-b438-41ce0b7a5f71","toProperty":"Fetch"},{"fromId":"d9f86aed-6f44-df63-8e28-ccbeaa503fc2","fromProperty":"out-Options","toId":"e11d0dfc-e28b-dc24-5a72-96c81bd6a521","toProperty":"items"},{"fromId":"401c399d-01f4-889e-fdb6-6c032fd2049b","fromProperty":"out-Options","toId":"6e792c99-4ba3-107b-89b3-2ef89244afaa","toProperty":"items"},{"fromId":"f441057c-9e04-8899-4633-5a0d3e7c4e8e","fromProperty":"out-ProvinceId","toId":"14c11c74-7917-1bee-7427-c369bfb47cf7","toProperty":"Fetch"},{"fromId":"f441057c-9e04-8899-4633-5a0d3e7c4e8e","fromProperty":"out-DistrictId","toId":"17af377f-112a-9235-6732-e2462855de25","toProperty":"Fetch"},{"fromId":"e11d0dfc-e28b-dc24-5a72-96c81bd6a521","fromProperty":"value","toId":"14c11c74-7917-1bee-7427-c369bfb47cf7","toProperty":"ProvinceId"},{"fromId":"6e792c99-4ba3-107b-89b3-2ef89244afaa","fromProperty":"value","toId":"17af377f-112a-9235-6732-e2462855de25","toProperty":"DistrictsId"},{"fromId":"87eb006f-bf4b-29cd-d54f-de16f73e8036","fromProperty":"out-Options","toId":"6f970356-6fdd-760e-ca08-3225e2f1b352","toProperty":"items"},{"fromId":"e2fb1a27-63c5-0e1e-903c-2984fd5657fd","fromProperty":"isFalseEv","toId":"77f0332d-9d75-9845-06d9-0209620b1382","toProperty":"to-Is Single Column"},{"fromId":"e2fb1a27-63c5-0e1e-903c-2984fd5657fd","fromProperty":"isTrueEv","toId":"77f0332d-9d75-9845-06d9-0209620b1382","toProperty":"to-Is Tripble Column"},{"fromId":"77f0332d-9d75-9845-06d9-0209620b1382","fromProperty":"Layout String","toId":"a5e92786-1036-7ac6-9a34-d0d2c44979b1","toProperty":"layoutString"},{"fromId":"035e938b-622a-a4d0-a116-1fd8def5e454","fromProperty":"boundingWidth","toId":"e2fb1a27-63c5-0e1e-903c-2984fd5657fd","toProperty":"width"},{"fromId":"e11d0dfc-e28b-dc24-5a72-96c81bd6a521","fromProperty":"value","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"Province"},{"fromId":"6e792c99-4ba3-107b-89b3-2ef89244afaa","fromProperty":"value","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"District"},{"fromId":"6f970356-6fdd-760e-ca08-3225e2f1b352","fromProperty":"value","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"Ward"},{"fromId":"e11d0dfc-e28b-dc24-5a72-96c81bd6a521","fromProperty":"value","toId":"9c4b3221-7d2f-891b-372d-69c2bbbef086","toProperty":"Value"},{"fromId":"6e792c99-4ba3-107b-89b3-2ef89244afaa","fromProperty":"value","toId":"e0a8c1b2-470a-a258-3c6a-2543f2b82ca2","toProperty":"Value"},{"fromId":"9c4b3221-7d2f-891b-372d-69c2bbbef086","fromProperty":"Done","toId":"14c11c74-7917-1bee-7427-c369bfb47cf7","toProperty":"Fetch"},{"fromId":"e0a8c1b2-470a-a258-3c6a-2543f2b82ca2","fromProperty":"Done","toId":"17af377f-112a-9235-6732-e2462855de25","toProperty":"Fetch"},{"fromId":"9c4b3221-7d2f-891b-372d-69c2bbbef086","fromProperty":"NullValue","toId":"6e792c99-4ba3-107b-89b3-2ef89244afaa","toProperty":"value"},{"fromId":"9c4b3221-7d2f-891b-372d-69c2bbbef086","fromProperty":"EmptyArr","toId":"6e792c99-4ba3-107b-89b3-2ef89244afaa","toProperty":"items"},{"fromId":"e0a8c1b2-470a-a258-3c6a-2543f2b82ca2","fromProperty":"NullValue","toId":"6f970356-6fdd-760e-ca08-3225e2f1b352","toProperty":"value"},{"fromId":"e0a8c1b2-470a-a258-3c6a-2543f2b82ca2","fromProperty":"EmptyArr","toId":"6f970356-6fdd-760e-ca08-3225e2f1b352","toProperty":"items"},{"fromId":"9c4b3221-7d2f-891b-372d-69c2bbbef086","fromProperty":"NullValue","toId":"6f970356-6fdd-760e-ca08-3225e2f1b352","toProperty":"value"},{"fromId":"9c4b3221-7d2f-891b-372d-69c2bbbef086","fromProperty":"EmptyArr","toId":"6f970356-6fdd-760e-ca08-3225e2f1b352","toProperty":"items"},{"fromId":"f59c15da-6de3-7871-e80e-c9b61868ab03","fromProperty":"out-Failute","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"Fetch"},{"fromId":"7b4096cf-50ec-7000-88ec-618092a5def7","fromProperty":"API_URL","toId":"f59c15da-6de3-7871-e80e-c9b61868ab03","toProperty":"in-API_URL"},{"fromId":"2c12ded9-e3a5-e7a9-95fd-f138b4d65e4c","fromProperty":"out-file","toId":"8a2568cd-af55-4ba2-b85d-21869e51a08f","toProperty":"in-file"},{"fromId":"8a2568cd-af55-4ba2-b85d-21869e51a08f","fromProperty":"out-image","toId":"9a8e95a8-cc2f-8904-5eee-4e35ce2a20ae","toProperty":"src"},{"fromId":"2c12ded9-e3a5-e7a9-95fd-f138b4d65e4c","fromProperty":"out-image","toId":"9a8e95a8-cc2f-8904-5eee-4e35ce2a20ae","toProperty":"src"},{"fromId":"a6ebc58a-f415-b3a7-805f-079a76fb4b9c","fromProperty":"onClick","toId":"2c12ded9-e3a5-e7a9-95fd-f138b4d65e4c","toProperty":"run"},{"fromId":"fa3741d1-21bd-7a8c-049d-ea884953d854","fromProperty":"boundingWidth","toId":"f224dd3d-a463-e32f-e4f4-daecc2213066","toProperty":"height"},{"fromId":"fa3741d1-21bd-7a8c-049d-ea884953d854","fromProperty":"hoverEnd","toId":"75c8be22-905f-336d-309d-0243a7fa7126","toProperty":"to-close"},{"fromId":"fa3741d1-21bd-7a8c-049d-ea884953d854","fromProperty":"hoverStart","toId":"75c8be22-905f-336d-309d-0243a7fa7126","toProperty":"to-open"},{"fromId":"75c8be22-905f-336d-309d-0243a7fa7126","fromProperty":"at-open","toId":"cc205905-3c77-41d2-8750-be2f48eb4d2e","toProperty":"visible"},{"fromId":"0dd8c0b3-e8fb-db4f-cdc1-d588b80d8582","fromProperty":"onClick","toId":"07416a9c-c30c-5d24-eb63-16e0ac139283","toProperty":"open"},{"fromId":"f5678cfc-b540-1277-fcf5-bde11266f9d2","fromProperty":"out-ImageUrl","toId":"9a8e95a8-cc2f-8904-5eee-4e35ce2a20ae","toProperty":"src"},{"fromId":"9630d5fa-1e88-7d78-7da8-b2a18d8e2b43","fromProperty":"prop-PhoneNumber","toId":"4a4cd569-bf41-0417-11a5-02ab55969e24","toProperty":"in-PhoneNumber"},{"fromId":"4690ba43-ab37-c7de-bfce-56eef19cf3cb","fromProperty":"prop-PhoneNumber","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"PhoneNumber"},{"fromId":"f224dd3d-a463-e32f-e4f4-daecc2213066","fromProperty":"onTextChanged","toId":"da3b17f3-66f5-fc45-dc38-c17293de13a5","toProperty":"Description"}],"roots":[{"id":"9799e4b4-a830-2f3d-f8e0-d66e5932e620","type":"NavigationClosePopup","x":497.83073495849726,"y":357.99137271974985,"parameters":{"closeActions":"Confirmed"},"ports":[],"dynamicports":[{"type":"signal","plug":"input","group":"Close Actions","name":"closeAction-Confirmed","displayName":"Confirmed","index":3}],"children":[]},{"id":"696bd2a3-2a2c-679d-cf41-5b1bdf8d124e","type":"Group","x":260,"y":-52,"parameters":{"zIndex":2,"scrollEnabled":true},"ports":[],"dynamicports":[],"children":[{"id":"c2fce0c4-89e3-f1a7-1856-1d78e7bff2fa","type":"Group","label":"Dark BG Fullscreen","parameters":{"backgroundColor":"#000000A5"},"ports":[],"dynamicports":[],"children":[]},{"id":"3ce234d0-4dbb-11d3-1856-ac8ad9f43ab0","type":"Group","label":"Modal","parameters":{"position":"absolute","alignY":"center","alignX":"center","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":48,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","clip":false,"minWidth":{"value":320,"unit":"px"},"sizeMode":"contentHeight","maxWidth":{"value":600,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"1731ad36-9247-3b39-469d-a96b2f69af19","type":"net.noodl.controls.button","label":"Close icon","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"11db1319-4446-f360-2af7-567862d3b2d7","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"center","alignY":"center","flexDirection":"column","width":{"value":100,"unit":"%","isFixed":false},"marginBottom":{"value":32,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"c2fef992-fc53-9c1d-9a25-654835aa8622","type":"Image","parameters":{"src":"https://raw.githubusercontent.com/TVU-OPS/UniHand/refs/heads/main/public/logo%20(64x64).png","alignX":"center","alignY":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"d2f94f79-23e9-7a62-2655-5dabb78d82d7","type":"Text","parameters":{"text":"UniHand","alignX":"center","alignY":"center","sizeMode":"contentSize","width":{"value":100,"unit":"%","isFixed":false},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"2b54580a-6d42-4192-9377-89562540c2c7","type":"Group","parameters":{"flexDirection":"column","rowGap":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"2feec839-1245-010e-ecea-2c7db6144c71","type":"net.noodl.controls.textinput","parameters":{"enabled":false,"placeholder":"","label":"Người đại diện"},"ports":[],"dynamicports":[],"children":[]},{"id":"c1e88550-1fd4-7a34-85eb-faee6b3f3317","type":"/Components/Form","parameters":{"Controls":"[\n    {\n        Type:\"Text Input\",\n        Label:\"Tên tổ chức*\",\n        Property:\"Name\",\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Email nhận thông báo*\",\n        Property:\"NotificationEmail\",\n        InputType:\"email\"\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Số điện thoại*\",\n        Property:\"PhoneNumber\"\n    }\n]"},"ports":[],"dynamicports":[],"children":[]},{"id":"035e938b-622a-a4d0-a116-1fd8def5e454","type":"Group","label":"Địa chỉ","parameters":{"flexDirection":"row","columnGap":{"value":16,"unit":"px"},"width":{"value":100,"unit":"%","isFixed":true}},"ports":[],"dynamicports":[],"children":[{"id":"a5e92786-1036-7ac6-9a34-d0d2c44979b1","type":"net.noodl.visual.columns","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"e11d0dfc-e28b-dc24-5a72-96c81bd6a521","type":"net.noodl.controls.options","label":"Tỉnh","parameters":{"value":"1","items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]","placeholder":"Chọn","label":"Tỉnh","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"6e792c99-4ba3-107b-89b3-2ef89244afaa","type":"net.noodl.controls.options","label":"Huyện","parameters":{"placeholder":"Chọn","label":"Huyện","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"6f970356-6fdd-760e-ca08-3225e2f1b352","type":"net.noodl.controls.options","label":"Xã","parameters":{"label":"Xã","placeholder":"Chọn","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"0a6ef974-7b5c-ffd0-4ac4-0135144c46d2","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 2","mounted":true},"ports":[],"dynamicports":[],"children":[{"id":"fa3741d1-21bd-7a8c-049d-ea884953d854","type":"Group","parameters":{"alignItems":"center","sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[{"id":"9a8e95a8-cc2f-8904-5eee-4e35ce2a20ae","type":"Image","parameters":{"styleCss":"background-color: #CECECE;\r\nobject-fit: cover","borderRadius":{"value":8,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderColor":"transparent","marginTop":{"value":16,"unit":"px"},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"cc205905-3c77-41d2-8750-be2f48eb4d2e","type":"Group","parameters":{"position":"absolute","marginTop":{"value":17,"unit":"px"},"visible":false},"ports":[],"dynamicports":[],"children":[{"id":"0dd8c0b3-e8fb-db4f-cdc1-d588b80d8582","type":"net.noodl.controls.button","parameters":{"sizeMode":"explicit","height":{"value":100,"unit":"%"},"backgroundColor":"#1F1F1FB2","label":"Chọn logo"},"ports":[],"dynamicports":[],"children":[]},{"id":"a6ebc58a-f415-b3a7-805f-079a76fb4b9c","type":"net.noodl.controls.button","label":"Delete","parameters":{"label":"","backgroundColor":"#FFFFFF7F","mounted":true,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"delete_outline","codeAsClass":false},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"iconColor":"White","borderStyle":"none","borderColor":"Grey - 400","color":"#1666FF","borderWidth":{"value":1.3,"unit":"px"},"height":{"value":36,"unit":"px"},"useLabel":false,"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"iconSize":{"value":22,"unit":"px"},"position":"absolute","marginTop":{"value":12,"unit":"px"},"marginLeft":{"value":12,"unit":"px"},"styleCss":"/* background-color: red; */\r\n\r\nright: 12px;\r\ntop: 0;","sizeMode":"contentSize","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"alignX":"right","marginRight":{"value":12,"unit":"px"},"zIndex":3,"opacity":0.8},"stateParameters":{"disabled":{"opacity":0},"hover":{}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"f224dd3d-a463-e32f-e4f4-daecc2213066","type":"net.noodl.controls.textinput","label":"Mo ta","parameters":{"label":"Mô tả","type":"textArea","paddingTop":{"value":8,"unit":"px"},"sizeMode":"explicit","height":{"value":100,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"67f04758-4c4f-d317-0037-f76f573e9de9","type":"Group","label":"Button section","parameters":{"flexDirection":"row","justifyContent":"flex-end","marginTop":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"69aa3fec-ec0c-027b-99ba-15b91aa4f0c0","type":"net.noodl.controls.button","label":"Primary Button","parameters":{"label":"Đăng ký","sizeMode":"explicit","enabled":true},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"260c1e06-d992-b810-2ea2-1daa3dc722db","type":"States","label":"Show animation","x":497.83073495849726,"y":231.99137271975013,"parameters":{"states":"hide,show","values":"size,opacity","value-hide-size":0,"value-show-size":1,"value-hide-opacity":0,"value-show-opacity":1,"currentState":"hide","transitiondef-hide":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"transitiondef-show":{"curve":[0,0,0.58,1],"dur":150,"delay":0}},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"size","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"size","name":"type-size","index":7},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"opacity","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"opacity","name":"type-opacity","index":9},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-size","displayName":"size","editorName":"hide|size","index":10},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-opacity","displayName":"opacity","editorName":"hide|opacity","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hide Transitions","name":"transitiondef-hide","index":12},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-size","displayName":"size","editorName":"Transition hide|size","index":13},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-opacity","displayName":"opacity","editorName":"Transition hide|opacity","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To hide","name":"to-hide","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At hide","name":"at-hide","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached hide","name":"reached-hide","group":"Current state","index":17},{"plug":"input","type":"number","group":"show Values","name":"value-show-size","displayName":"size","editorName":"show|size","index":18},{"plug":"input","type":"number","group":"show Values","name":"value-show-opacity","displayName":"opacity","editorName":"show|opacity","index":19},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"show Transitions","name":"transitiondef-show","index":20},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-size","displayName":"size","editorName":"Transition show|size","index":21},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-opacity","displayName":"opacity","editorName":"Transition show|opacity","index":22},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To show","name":"to-show","group":"Go to state","index":23},{"plug":"output","type":"boolean","displayName":"At show","name":"at-show","group":"Current state","index":24},{"plug":"output","type":"signal","displayName":"Has Reached show","name":"reached-show","group":"Current state","index":25},{"plug":"input","type":{"name":"enum","enums":["hide","show"]},"group":"States","displayName":"State","name":"currentState","default":"hide","index":26}],"children":[]},{"id":"2cb24d33-a974-1eb5-fcb7-8c20e63bb595","type":"/#Logic/CurrentUser","x":665.8274749919127,"y":527.1076445651001,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"a1c97ce9-10a5-b941-52a8-62ccb7849a34","type":"JavaScriptFunction","x":665.2608083252461,"y":599.4009778984336,"parameters":{"functionScript":"const currenUser = JSON.parse(Inputs.CurrenUser);\r\nOutputs.Representative = currenUser.username;\r\nOutputs.UserId = currenUser.id;"},"ports":[],"dynamicports":[{"name":"in-CurrenUser","displayName":"CurrenUser","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Representative","displayName":"Representative","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-UserId","displayName":"UserId","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"da3b17f3-66f5-fc45-dc38-c17293de13a5","type":"/#Logic/OrganizationsRegister","x":665.2608083252461,"y":712.4009778984336,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f59c15da-6de3-7871-e80e-c9b61868ab03","type":"JavaScriptFunction","x":83.09456623499293,"y":1035.6190389559342,"parameters":{"functionScript":"const file = Inputs.file\r\nconst API_URL = Inputs.API_URL;\r\nconst url = API_URL + '/upload'\r\n\r\nif (file) {\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"files\", file);\r\n\r\n    fetch(url, {\r\n        method: \"POST\",\r\n        body: formData,\r\n    })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n        if (Array.isArray(data)) {\r\n            const ids = data.map(item => item.id);\r\n            Outputs.Ids = ids;\r\n        } else {\r\n            Outputs.Ids = [];\r\n        }\r\n        Outputs.Success()\r\n    })\r\n    .catch((error) => {\r\n        Outputs.Failute()\r\n    });\r\n}"},"ports":[],"dynamicports":[{"name":"in-file","displayName":"file","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failute","displayName":"Failute","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Ids","displayName":"Ids","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"07416a9c-c30c-5d24-eb63-16e0ac139283","type":"Open File Picker","x":-97.81523321829562,"y":1101.557438218195,"parameters":{"acceptedFileTypes":"image/*"},"ports":[],"dynamicports":[],"children":[]},{"id":"dadb55cf-4582-3e16-15d2-d703af4ee42e","type":"/Components/Show Toast","label":"Đăng ký thành công","x":834.6453321347698,"y":680.2447874222431,"parameters":{"Type":"Success","Message":"Đăng ký thành công"},"ports":[],"dynamicports":[],"children":[]},{"id":"9e1a9d19-9c18-95f0-fe13-d6b955e8fe4e","type":"/Components/Show Toast","label":"Đăng ký không thành công","x":834.8274749919127,"y":780.7076445651002,"parameters":{"Type":"Error","Message":"Đăng ký không thành công"},"ports":[],"dynamicports":[],"children":[]},{"id":"9630d5fa-1e88-7d78-7da8-b2a18d8e2b43","type":"Model2","x":67.00833376541658,"y":738.7564129714871,"parameters":{"properties":"NotificationEmail,Name,PhoneNumber"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-NotificationEmail","displayName":"NotificationEmail","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"NotificationEmail Changed","name":"changed-NotificationEmail","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Name","displayName":"Name","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Name Changed","name":"changed-Name","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-PhoneNumber","displayName":"PhoneNumber","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"PhoneNumber Changed","name":"changed-PhoneNumber","index":12}],"children":[]},{"id":"4a4cd569-bf41-0417-11a5-02ab55969e24","type":"JavaScriptFunction","x":67.23607142857145,"y":874.0834285714287,"parameters":{"functionScript":"const errors = [];\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\nconst phoneRegex = /^\\d+$/;\r\n\r\nif (!Inputs.Name || Inputs.Name.trim() === '') {\r\n    errors.push({\r\n        Property: 'Name',\r\n        Error: 'Tên tổ chức không được để trống.',\r\n    });\r\n}\r\n\r\nif (!emailRegex.test(Inputs.NotificationEmail)) {\r\n    errors.push({\r\n        Property: 'NotificationEmail',\r\n        Error: 'Email không hợp lệ.',\r\n    });\r\n}\r\n\r\nif (!Inputs.PhoneNumber || Inputs.PhoneNumber.trim() === '' || !phoneRegex.test(Inputs.PhoneNumber)) {\r\n    errors.push({\r\n        Property: 'PhoneNumber',\r\n        Error: 'Số điện thoại không hợp lệ.',\r\n    });\r\n}\r\n\r\nOutputs.IsError = errors.length === 0;\r\nOutputs.Errors = errors;"},"ports":[],"dynamicports":[{"name":"in-Name","displayName":"Name","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-NotificationEmail","displayName":"NotificationEmail","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-PhoneNumber","displayName":"PhoneNumber","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-IsError","displayName":"IsError","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Errors","displayName":"Errors","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"4690ba43-ab37-c7de-bfce-56eef19cf3cb","type":"Model2","x":487,"y":664,"parameters":{"properties":"NotificationEmail,Name,PhoneNumber"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-NotificationEmail","displayName":"NotificationEmail","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"NotificationEmail Changed","name":"changed-NotificationEmail","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Name","displayName":"Name","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Name Changed","name":"changed-Name","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-PhoneNumber","displayName":"PhoneNumber","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"PhoneNumber Changed","name":"changed-PhoneNumber","index":12}],"children":[]},{"id":"f5678cfc-b540-1277-fcf5-bde11266f9d2","type":"JavaScriptFunction","x":82.50618905491396,"y":1169.6849466763035,"parameters":{"functionScript":"const file = Inputs.file\r\n\r\nif(file) {\r\n    const imageUrl = URL.createObjectURL(file);\r\n    Outputs.ImageUrl = imageUrl;\r\n}"},"ports":[],"dynamicports":[{"name":"in-file","displayName":"file","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ImageUrl","displayName":"ImageUrl","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"73de9f3c-1e8e-06cf-8f79-8344e35b495e","type":"Model2","x":64.4563899540284,"y":387.45355154484713,"parameters":{"modelId":"Location","properties":"lat,lng"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-lat","displayName":"lat","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"lat Changed","name":"changed-lat","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-lng","displayName":"lng","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"lng Changed","name":"changed-lng","index":10}],"children":[]},{"id":"8ff36ccc-7538-bad8-27f0-4bf779e18446","type":"/#Logic/ConvertLocation","x":64.4563899540284,"y":495.45355154484713,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f441057c-9e04-8899-4633-5a0d3e7c4e8e","type":"JavaScriptFunction","x":65.4563899540284,"y":609.4535515448472,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (response && response.Province && response.District && response.Ward) {\r\n    Outputs.ProvinceId = response.Province.id;\r\n    Outputs.DistrictId = response.District.id;\r\n    Outputs.WardId = response.Ward.id;\r\n} else {\r\n    Outputs.ProvinceId = null;\r\n    Outputs.DistrictId = null;\r\n    Outputs.WardId = null;\r\n}"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ProvinceId","displayName":"ProvinceId","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-DistrictId","displayName":"DistrictId","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-WardId","displayName":"WardId","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"7b4ee386-b318-33c0-b438-41ce0b7a5f71","type":"/#Logic/GetProvinces","x":876.8848765964315,"y":167.65615243951444,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d9f86aed-6f44-df63-8e28-ccbeaa503fc2","type":"JavaScriptFunction","x":686.8848765964312,"y":249.65615243951447,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString()\r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"14c11c74-7917-1bee-7427-c369bfb47cf7","type":"/#Logic/GetDistricts","x":876.8848765964315,"y":261.65615243951447,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"401c399d-01f4-889e-fdb6-6c032fd2049b","type":"JavaScriptFunction","x":686.8848765964312,"y":326.65615243951447,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"17af377f-112a-9235-6732-e2462855de25","type":"/#Logic/GetWards","x":877.8848765964315,"y":374.65615243951436,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"87eb006f-bf4b-29cd-d54f-de16f73e8036","type":"JavaScriptFunction","x":685.8848765964315,"y":401.65615243951424,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"e2fb1a27-63c5-0e1e-903c-2984fd5657fd","type":"Expression","label":"width > 400","x":718.7418404307657,"y":1043.6800921469098,"parameters":{"expression":"width > 400\r\n"},"ports":[],"dynamicports":[{"group":"Parameters","name":"width","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"77f0332d-9d75-9845-06d9-0209620b1382","type":"States","x":717.7418404307657,"y":1170.6800921469105,"parameters":{"values":"Layout String","states":"Is Single Column,Is Tripble Column","useTransitions":false,"type-Layout String":"string","value-Is Single Column-Layout String":"1","value-Is Tripble Column-Layout String":"1 1 1"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Layout String","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Layout String","name":"type-Layout String","index":7},{"plug":"input","type":"string","group":"Is Single Column Values","name":"value-Is Single Column-Layout String","displayName":"Layout String","editorName":"Is Single Column|Layout String","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Single Column","name":"to-Is Single Column","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Is Single Column","name":"at-Is Single Column","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Is Single Column","name":"reached-Is Single Column","group":"Current state","index":11},{"plug":"input","type":"string","group":"Is Tripble Column Values","name":"value-Is Tripble Column-Layout String","displayName":"Layout String","editorName":"Is Tripble Column|Layout String","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Tripble Column","name":"to-Is Tripble Column","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At Is Tripble Column","name":"at-Is Tripble Column","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached Is Tripble Column","name":"reached-Is Tripble Column","group":"Current state","index":15},{"plug":"input","type":{"name":"enum","enums":["Is Single Column","Is Tripble Column"]},"group":"States","displayName":"State","name":"currentState","default":"Is Single Column","index":16}],"children":[]},{"id":"9c4b3221-7d2f-891b-372d-69c2bbbef086","type":"Javascript2","x":533.7867036011079,"y":1028.171599358507,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  Done: \"signal\",\r\n  Value: \"string\",\r\n  NullValue: 'number',\r\n  EmptyArr: 'array',\r\n};\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":6},{"name":"Value","type":{"name":"string"},"plug":"output","group":"Outputs","index":7},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"e0a8c1b2-470a-a258-3c6a-2543f2b82ca2","type":"Javascript2","x":533.8393351800553,"y":1140.4873888321908,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  Done: \"signal\",\r\n  Value: \"string\",\r\n  NullValue: 'number',\r\n  EmptyArr: 'array',\r\n};\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":6},{"name":"Value","type":{"name":"string"},"plug":"output","group":"Outputs","index":7},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"7b4096cf-50ec-7000-88ec-618092a5def7","type":"/#Logic/Environment","x":-98,"y":1029,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8a2568cd-af55-4ba2-b85d-21869e51a08f","type":"JavaScriptFunction","label":"Review Image","x":572.4741128984281,"y":1478.5327921056466,"parameters":{"functionScript":"const file = Inputs.file;\r\n\r\nconst placeholderImage = 'https://placehold.co/100x100/38BCF8/FFF?text=UniHand';\r\nconst validImageTypes = ['image/gif', 'image/jpeg', 'image/png'];\r\n\r\nif (file && validImageTypes.includes(file.type)) {\r\n  const imageUrl = URL.createObjectURL(file);\r\n  Outputs.image = imageUrl;\r\n  Outputs.file = file;\r\n} else {\r\n  Outputs.image = placeholderImage;\r\n  Outputs.file = null;\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-file","displayName":"file","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-image","displayName":"image","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-file","displayName":"file","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"2c12ded9-e3a5-e7a9-95fd-f138b4d65e4c","type":"JavaScriptFunction","label":"Function Clear","x":570.3108680013879,"y":1580.6619026435064,"parameters":{"functionScript":"function clearOutputs() {\r\n  Outputs.file = {};\r\n  Outputs.image = 'https://placehold.co/100x100/38BCF8/FFF?text=UniHand'\r\n}\r\n\r\nclearOutputs();"},"ports":[],"dynamicports":[{"name":"out-file","displayName":"file","plug":"output","type":"*","group":"Outputs","index":4},{"name":"out-image","displayName":"image","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"75c8be22-905f-336d-309d-0243a7fa7126","type":"States","x":570.538855675803,"y":1361.6829332837876,"parameters":{"states":"open,close","currentState":"close"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To open","name":"to-open","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At open","name":"at-open","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached open","name":"reached-open","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To close","name":"to-close","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At close","name":"at-close","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached close","name":"reached-close","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["open","close"]},"group":"States","displayName":"State","name":"currentState","default":"open","index":12}],"children":[]}],"visualRoots":["696bd2a3-2a2c-679d-cf41-5b1bdf8d124e"],"comments":[{"text":"Lấy vị trí, chuyển thành object địa chỉ","width":181,"height":399,"fill":"fill","x":49,"y":332,"id":"d558e4c8-2913-c9e1-2f67-dacb5baed9ec","color":"notice"},{"text":"Tự động lấy địa chỉ theo vị trí","width":373,"height":355,"fill":"fill","x":669,"y":150,"id":"cd0cc5f1-5477-36cc-0593-2da4627ea365","largeFont":false,"color":"notice"},{"text":"GirdLayout","width":177,"height":301,"fill":"fill","x":704,"y":999,"id":"9a490c5c-2b46-0526-dc00-94a6c9983118","color":"component"}]}},{"name":"/Components/Popup/Register Modal","id":"964b095e-621d-458c-b507-55f6f087fb57","graph":{"connections":[{"fromId":"30bf7c83-5035-4f91-9853-e5aab6c7cdd6","fromProperty":"onClick","toId":"1cdca0be-d8b2-865c-2461-3651c38eb6a8","toProperty":"close"},{"fromId":"41f5e6d0-4601-d92d-c0b8-9976a8b04218","fromProperty":"onClick","toId":"1cdca0be-d8b2-865c-2461-3651c38eb6a8","toProperty":"close"},{"fromId":"2bb89312-4406-ffab-5b76-0d188cad73b3","fromProperty":"didMount","toId":"7c5222d8-7bd6-fa2a-6eb0-9468f19d544f","toProperty":"to-show"},{"fromId":"7c5222d8-7bd6-fa2a-6eb0-9468f19d544f","fromProperty":"size","toId":"aef4d8ec-2257-5180-e930-a8b799e5cb53","toProperty":"transformScale"},{"fromId":"7c5222d8-7bd6-fa2a-6eb0-9468f19d544f","fromProperty":"opacity","toId":"aef4d8ec-2257-5180-e930-a8b799e5cb53","toProperty":"opacity"},{"fromId":"7c5222d8-7bd6-fa2a-6eb0-9468f19d544f","fromProperty":"opacity","toId":"30bf7c83-5035-4f91-9853-e5aab6c7cdd6","toProperty":"opacity"},{"fromId":"33fc8b86-8261-f6db-ae0d-cfee27163ded","fromProperty":"Object Id","toId":"d8957214-b6e5-1e25-c88b-3e2571f4e4b0","toProperty":"modelId"},{"fromId":"d8957214-b6e5-1e25-c88b-3e2571f4e4b0","fromProperty":"prop-Password","toId":"4ae3264f-6d85-dfdf-4345-70a0b34d7285","toProperty":"in-Password"},{"fromId":"4ae3264f-6d85-dfdf-4345-70a0b34d7285","fromProperty":"out-Errors","toId":"33fc8b86-8261-f6db-ae0d-cfee27163ded","toProperty":"Errors"},{"fromId":"d8957214-b6e5-1e25-c88b-3e2571f4e4b0","fromProperty":"prop-ConfirmPassword","toId":"4ae3264f-6d85-dfdf-4345-70a0b34d7285","toProperty":"in-ConfirmPassword"},{"fromId":"d8957214-b6e5-1e25-c88b-3e2571f4e4b0","fromProperty":"prop-Email","toId":"4ae3264f-6d85-dfdf-4345-70a0b34d7285","toProperty":"in-Email"},{"fromId":"33fc8b86-8261-f6db-ae0d-cfee27163ded","fromProperty":"Object Id","toId":"84b5a9d2-480a-949d-2298-2a13d33cdf45","toProperty":"modelId"},{"fromId":"84b5a9d2-480a-949d-2298-2a13d33cdf45","fromProperty":"prop-Email","toId":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","toProperty":"Email"},{"fromId":"84b5a9d2-480a-949d-2298-2a13d33cdf45","fromProperty":"prop-Username","toId":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","toProperty":"Username"},{"fromId":"84b5a9d2-480a-949d-2298-2a13d33cdf45","fromProperty":"prop-Password","toId":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","toProperty":"Password"},{"fromId":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","fromProperty":"Success","toId":"1cdca0be-d8b2-865c-2461-3651c38eb6a8","toProperty":"closeAction-Confirmed"},{"fromId":"e322938b-e29d-e5ce-c3ce-c36aa8fb0343","fromProperty":"onClick","toId":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","toProperty":"Fetch"},{"fromId":"d8957214-b6e5-1e25-c88b-3e2571f4e4b0","fromProperty":"prop-Username","toId":"4ae3264f-6d85-dfdf-4345-70a0b34d7285","toProperty":"in-Username"},{"fromId":"0c8c5001-3649-d613-1e1b-7c7ae625f3d8","fromProperty":"out-Errors","toId":"33fc8b86-8261-f6db-ae0d-cfee27163ded","toProperty":"Errors"},{"fromId":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","fromProperty":"ErrorMessages","toId":"0c8c5001-3649-d613-1e1b-7c7ae625f3d8","toProperty":"in-ErrorMessages"},{"fromId":"4ae3264f-6d85-dfdf-4345-70a0b34d7285","fromProperty":"out-IsError","toId":"e322938b-e29d-e5ce-c3ce-c36aa8fb0343","toProperty":"enabled"},{"fromId":"0c8c5001-3649-d613-1e1b-7c7ae625f3d8","fromProperty":"out-IsError","toId":"e322938b-e29d-e5ce-c3ce-c36aa8fb0343","toProperty":"enabled"},{"fromId":"e322938b-e29d-e5ce-c3ce-c36aa8fb0343","fromProperty":"onClick","toId":"8bf34017-e5fc-b6b2-a17a-99fb9d3b3cb5","toProperty":"to-onLoadding"},{"fromId":"8bf34017-e5fc-b6b2-a17a-99fb9d3b3cb5","fromProperty":"Label","toId":"e322938b-e29d-e5ce-c3ce-c36aa8fb0343","toProperty":"label"},{"fromId":"8bf34017-e5fc-b6b2-a17a-99fb9d3b3cb5","fromProperty":"Enabaled","toId":"e322938b-e29d-e5ce-c3ce-c36aa8fb0343","toProperty":"enabled"},{"fromId":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","fromProperty":"Failure","toId":"8bf34017-e5fc-b6b2-a17a-99fb9d3b3cb5","toProperty":"to-Default"},{"fromId":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","fromProperty":"Success","toId":"8bf34017-e5fc-b6b2-a17a-99fb9d3b3cb5","toProperty":"to-Default"}],"roots":[{"id":"1cdca0be-d8b2-865c-2461-3651c38eb6a8","type":"NavigationClosePopup","x":307.64908714942453,"y":96.7844560606105,"parameters":{"closeActions":"Confirmed"},"ports":[],"dynamicports":[{"type":"signal","plug":"input","group":"Close Actions","name":"closeAction-Confirmed","displayName":"Confirmed","index":3}],"children":[]},{"id":"2bb89312-4406-ffab-5b76-0d188cad73b3","type":"Group","x":-16,"y":-78,"parameters":{"zIndex":2},"ports":[],"dynamicports":[],"children":[{"id":"30bf7c83-5035-4f91-9853-e5aab6c7cdd6","type":"Group","label":"Dark BG Fullscreen","parameters":{"backgroundColor":"#000000A5"},"ports":[],"dynamicports":[],"children":[]},{"id":"aef4d8ec-2257-5180-e930-a8b799e5cb53","type":"Group","label":"Modal","parameters":{"position":"absolute","alignY":"center","alignX":"center","width":{"value":420,"unit":"px"},"sizeMode":"contentHeight","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":48,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","clip":false},"ports":[],"dynamicports":[],"children":[{"id":"41f5e6d0-4601-d92d-c0b8-9976a8b04218","type":"net.noodl.controls.button","label":"Close icon","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"22fee41e-f51c-d7b9-d34a-1beaecdfd88e","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"center","alignY":"center","flexDirection":"column","width":{"value":100,"unit":"%","isFixed":false},"marginBottom":{"value":32,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"d734617e-1c95-6c06-0be7-fc08f6df836b","type":"Image","parameters":{"src":"https://raw.githubusercontent.com/TVU-OPS/UniHand/refs/heads/main/public/logo%20(64x64).png","alignX":"center","alignY":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"55de1b8e-1099-9093-5898-aee6010f42e4","type":"Text","parameters":{"text":"UniHand","alignX":"center","alignY":"center","sizeMode":"contentSize","width":{"value":100,"unit":"%","isFixed":false},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"33fc8b86-8261-f6db-ae0d-cfee27163ded","type":"/Components/Form","parameters":{"Controls":"[\n    {\n        Type:\"Text Input\",\n        Label:\"Họ và tên\",\n        Property:\"Username\",\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Email\",\n        Property:\"Email\",\n        InputType: \"email\",\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Mật khẩu\",\n        Property:\"Password\",\n        InputType:\"password\"\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Nhập lại mật khẩu\",\n        Property:\"ConfirmPassword\",\n        InputType:\"password\"\n    },     \n]"},"ports":[],"dynamicports":[],"children":[]},{"id":"d400f2a1-57e9-943d-4d34-42f335761ad0","type":"Group","label":"Button section","parameters":{"flexDirection":"row","justifyContent":"flex-end","marginTop":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"e322938b-e29d-e5ce-c3ce-c36aa8fb0343","type":"net.noodl.controls.button","label":"Primary Button","parameters":{"label":"Đăng ký","sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"7c5222d8-7bd6-fa2a-6eb0-9468f19d544f","type":"States","label":"Show animation","x":309.04940111052287,"y":-34.23648797843347,"parameters":{"states":"hide,show","values":"size,opacity","value-hide-size":0,"value-show-size":1,"value-hide-opacity":0,"value-show-opacity":1,"currentState":"hide","transitiondef-hide":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"transitiondef-show":{"curve":[0,0,0.58,1],"dur":150,"delay":0}},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"size","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"size","name":"type-size","index":7},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"opacity","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"opacity","name":"type-opacity","index":9},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-size","displayName":"size","editorName":"hide|size","index":10},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-opacity","displayName":"opacity","editorName":"hide|opacity","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hide Transitions","name":"transitiondef-hide","index":12},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-size","displayName":"size","editorName":"Transition hide|size","index":13},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-opacity","displayName":"opacity","editorName":"Transition hide|opacity","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To hide","name":"to-hide","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At hide","name":"at-hide","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached hide","name":"reached-hide","group":"Current state","index":17},{"plug":"input","type":"number","group":"show Values","name":"value-show-size","displayName":"size","editorName":"show|size","index":18},{"plug":"input","type":"number","group":"show Values","name":"value-show-opacity","displayName":"opacity","editorName":"show|opacity","index":19},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"show Transitions","name":"transitiondef-show","index":20},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-size","displayName":"size","editorName":"Transition show|size","index":21},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-opacity","displayName":"opacity","editorName":"Transition show|opacity","index":22},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To show","name":"to-show","group":"Go to state","index":23},{"plug":"output","type":"boolean","displayName":"At show","name":"at-show","group":"Current state","index":24},{"plug":"output","type":"signal","displayName":"Has Reached show","name":"reached-show","group":"Current state","index":25},{"plug":"input","type":{"name":"enum","enums":["hide","show"]},"group":"States","displayName":"State","name":"currentState","default":"hide","index":26}],"children":[]},{"id":"4ae3264f-6d85-dfdf-4345-70a0b34d7285","type":"JavaScriptFunction","x":-177.71581043632324,"y":481.1453101417261,"parameters":{"functionScript":"const errors = [];\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\nif (!Inputs.Username || Inputs.Username.trim() === '') {\r\n  errors.push({\r\n    Property: 'Username',\r\n    Error: 'Tên người dùng không được để trống.',\r\n  });\r\n}\r\n\r\nif (!emailRegex.test(Inputs.Email)) {\r\n  errors.push({\r\n    Property: 'Email',\r\n    Error: 'Email không hợp lệ.',\r\n  });\r\n}\r\n\r\nif (!Inputs.Password || Inputs.Password.length < 5) {\r\n  errors.push({\r\n    Property: 'Password',\r\n    Error: 'Mật khẩu phải có ít nhất 6 ký tự.',\r\n  });\r\n}\r\n\r\nif (Inputs.Password !== Inputs.ConfirmPassword) {\r\n  errors.push({\r\n    Property: 'ConfirmPassword',\r\n    Error: 'Mật khẩu không trùng khớp.',\r\n  });\r\n}\r\n\r\nOutputs.IsError = errors.length === 0\r\nOutputs.Errors = errors;"},"ports":[],"dynamicports":[{"name":"in-Username","displayName":"Username","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Password","displayName":"Password","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-ConfirmPassword","displayName":"ConfirmPassword","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-IsError","displayName":"IsError","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-Errors","displayName":"Errors","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d8957214-b6e5-1e25-c88b-3e2571f4e4b0","type":"Model2","x":-176.6742591897858,"y":347.015116235909,"parameters":{"properties":"Password,ConfirmPassword,Email,Username"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Password","displayName":"Password","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Password Changed","name":"changed-Password","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-ConfirmPassword","displayName":"ConfirmPassword","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"ConfirmPassword Changed","name":"changed-ConfirmPassword","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Email","displayName":"Email","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Email Changed","name":"changed-Email","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Username","displayName":"Username","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Username Changed","name":"changed-Username","index":14}],"children":[]},{"id":"84b5a9d2-480a-949d-2298-2a13d33cdf45","type":"Model2","x":386.7847757909781,"y":420.4216651977364,"parameters":{"idSource":"explicit","properties":"Username,Email,Password"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Username","displayName":"Username","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Username Changed","name":"changed-Username","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Email","displayName":"Email","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Email Changed","name":"changed-Email","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Password","displayName":"Password","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Password Changed","name":"changed-Password","index":12}],"children":[]},{"id":"bf3e58f7-0992-1d15-31f3-d2e55bcbcb17","type":"/#Logic/Register","x":386.2209802342377,"y":226.44042083858494,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"0c8c5001-3649-d613-1e1b-7c7ae625f3d8","type":"JavaScriptFunction","label":"handleErrors","x":384.6877392370077,"y":554.0814972137333,"parameters":{"functionScript":"const errors = [];\r\nconst errorMessage = Inputs.ErrorMessages;\r\n\r\nif (errorMessage) {\r\n  errors.push({\r\n    Property: 'Email',\r\n    Error: 'Email đã được sử dụng',\r\n  });\r\n}\r\n\r\nOutputs.IsError = errors.length === 0\r\nOutputs.Errors = errors;"},"ports":[],"dynamicports":[{"name":"in-ErrorMessages","displayName":"ErrorMessages","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-IsError","displayName":"IsError","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Errors","displayName":"Errors","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"8bf34017-e5fc-b6b2-a17a-99fb9d3b3cb5","type":"States","x":344.1883656509696,"y":700.6731301939056,"parameters":{"states":"onLoadding,Default","values":"Label,Enabaled","type-Enabaled":"boolean","type-Label":"string","currentState":"Default","value-Default-Label":"Đăng ký","value-Default-Enabaled":true,"value-onLoadding-Label":"Đang tải ..."},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Label","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Label","name":"type-Label","index":7},{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Enabaled","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Enabaled","name":"type-Enabaled","index":9},{"plug":"input","type":"string","group":"onLoadding Values","name":"value-onLoadding-Label","displayName":"Label","editorName":"onLoadding|Label","index":10},{"plug":"input","type":"boolean","group":"onLoadding Values","name":"value-onLoadding-Enabaled","displayName":"Enabaled","editorName":"onLoadding|Enabaled","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"onLoadding Transitions","name":"transitiondef-onLoadding","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To onLoadding","name":"to-onLoadding","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At onLoadding","name":"at-onLoadding","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached onLoadding","name":"reached-onLoadding","group":"Current state","index":15},{"plug":"input","type":"string","group":"Default Values","name":"value-Default-Label","displayName":"Label","editorName":"Default|Label","index":16},{"plug":"input","type":"boolean","group":"Default Values","name":"value-Default-Enabaled","displayName":"Enabaled","editorName":"Default|Enabaled","index":17},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Default Transitions","name":"transitiondef-Default","index":18},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Default","name":"to-Default","group":"Go to state","index":19},{"plug":"output","type":"boolean","displayName":"At Default","name":"at-Default","group":"Current state","index":20},{"plug":"output","type":"signal","displayName":"Has Reached Default","name":"reached-Default","group":"Current state","index":21},{"plug":"input","type":{"name":"enum","enums":["onLoadding","Default"]},"group":"States","displayName":"State","name":"currentState","default":"onLoadding","index":22}],"children":[]}],"visualRoots":["2bb89312-4406-ffab-5b76-0d188cad73b3"]}},{"name":"/Components/Popup/Request Modal","id":"37964bbb-89fe-dd8e-3410-b7e820021d91","graph":{"connections":[{"fromId":"6415b6d3-80af-3683-1334-91a272960a00","fromProperty":"didMount","toId":"d0611b56-b3ca-637b-5efe-154ef7767c1c","toProperty":"to-show"},{"fromId":"d0611b56-b3ca-637b-5efe-154ef7767c1c","fromProperty":"size","toId":"b244469c-0e1d-ef52-6c6c-f4fe4e6c3611","toProperty":"transformScale"},{"fromId":"d0611b56-b3ca-637b-5efe-154ef7767c1c","fromProperty":"opacity","toId":"b244469c-0e1d-ef52-6c6c-f4fe4e6c3611","toProperty":"opacity"},{"fromId":"31d77b1f-e18d-43f9-ba3f-45c2951320a2","fromProperty":"out-DropdownOptions","toId":"c7f01474-36d0-a80e-b972-8853637c35f1","toProperty":"items"},{"fromId":"c7f01474-36d0-a80e-b972-8853637c35f1","fromProperty":"value","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Disaster"},{"fromId":"98beac46-0577-6fd9-bca5-385a3f3c73de","fromProperty":"onTextChanged","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"RequestDescription"},{"fromId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","fromProperty":"Success","toId":"9aa98ad2-e2dc-f426-f0a5-6d36f09022c7","toProperty":"Do"},{"fromId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","fromProperty":"Failure","toId":"b0d07aa4-5adc-5fb5-c2a8-4d3746c5b931","toProperty":"Do"},{"fromId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","fromProperty":"Success","toId":"39c647c6-36e1-4270-fe95-3427c0050513","toProperty":"closeAction-Confirmed"},{"fromId":"92b11fa8-85f5-daeb-bdfb-8a82f6fb1f6f","fromProperty":"Object Id","toId":"ecad2343-e5bb-64ce-8eff-e886172a2613","toProperty":"modelId"},{"fromId":"ecad2343-e5bb-64ce-8eff-e886172a2613","fromProperty":"prop-PhoneNumber","toId":"472c54b2-433e-f84f-c7d4-61de87f938cd","toProperty":"in-PhoneNumber"},{"fromId":"472c54b2-433e-f84f-c7d4-61de87f938cd","fromProperty":"out-Errors","toId":"92b11fa8-85f5-daeb-bdfb-8a82f6fb1f6f","toProperty":"Errors"},{"fromId":"92b11fa8-85f5-daeb-bdfb-8a82f6fb1f6f","fromProperty":"Object Id","toId":"b16b0ceb-5007-4e3e-a8e7-51ceb6770c9d","toProperty":"modelId"},{"fromId":"b16b0ceb-5007-4e3e-a8e7-51ceb6770c9d","fromProperty":"prop-FullName","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"FullName"},{"fromId":"b16b0ceb-5007-4e3e-a8e7-51ceb6770c9d","fromProperty":"prop-PhoneNumber","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"PhoneNumber"},{"fromId":"ecad2343-e5bb-64ce-8eff-e886172a2613","fromProperty":"prop-FullName","toId":"472c54b2-433e-f84f-c7d4-61de87f938cd","toProperty":"in-FullName"},{"fromId":"ecad2343-e5bb-64ce-8eff-e886172a2613","fromProperty":"prop-Email","toId":"472c54b2-433e-f84f-c7d4-61de87f938cd","toProperty":"in-Email"},{"fromId":"b16b0ceb-5007-4e3e-a8e7-51ceb6770c9d","fromProperty":"prop-Email","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Email"},{"fromId":"b16b0ceb-5007-4e3e-a8e7-51ceb6770c9d","fromProperty":"prop-PeopleCount","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"PeopleCount"},{"fromId":"e6b4c1bc-1c21-2584-59a1-d42e8497310b","fromProperty":"Response","toId":"fc72403a-a0a7-e767-0733-177c2b025940","toProperty":"in-Response"},{"fromId":"fc72403a-a0a7-e767-0733-177c2b025940","fromProperty":"out-Options","toId":"2cb9c5d5-e661-975d-c66f-f2ea44ce475d","toProperty":"items"},{"fromId":"6415b6d3-80af-3683-1334-91a272960a00","fromProperty":"didMount","toId":"e6b4c1bc-1c21-2584-59a1-d42e8497310b","toProperty":"Fetch"},{"fromId":"292046a0-6a17-f5bd-d553-2e56b0f1d935","fromProperty":"prop-lat","toId":"36164f65-29c7-8436-27fc-1ad789a38b2b","toProperty":"lat"},{"fromId":"292046a0-6a17-f5bd-d553-2e56b0f1d935","fromProperty":"prop-lng","toId":"36164f65-29c7-8436-27fc-1ad789a38b2b","toProperty":"lng"},{"fromId":"36164f65-29c7-8436-27fc-1ad789a38b2b","fromProperty":"Response","toId":"6f01cd44-0d29-14a5-334d-1ad77cdaf93d","toProperty":"in-Response"},{"fromId":"6f01cd44-0d29-14a5-334d-1ad77cdaf93d","fromProperty":"out-ProvinceId","toId":"2cb9c5d5-e661-975d-c66f-f2ea44ce475d","toProperty":"value"},{"fromId":"6f01cd44-0d29-14a5-334d-1ad77cdaf93d","fromProperty":"out-DistrictId","toId":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","toProperty":"value"},{"fromId":"6f01cd44-0d29-14a5-334d-1ad77cdaf93d","fromProperty":"out-WardId","toId":"bf3fe88c-3df6-02b6-890c-b37abda91b77","toProperty":"value"},{"fromId":"2cb9c5d5-e661-975d-c66f-f2ea44ce475d","fromProperty":"value","toId":"81a453ef-0ad4-9561-0d69-d1d59533cf54","toProperty":"ProvinceId"},{"fromId":"81a453ef-0ad4-9561-0d69-d1d59533cf54","fromProperty":"Response","toId":"41fba4c8-cf9e-8c45-5851-8261d8da563a","toProperty":"in-Response"},{"fromId":"41fba4c8-cf9e-8c45-5851-8261d8da563a","fromProperty":"out-Options","toId":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","toProperty":"items"},{"fromId":"6415b6d3-80af-3683-1334-91a272960a00","fromProperty":"didMount","toId":"36164f65-29c7-8436-27fc-1ad789a38b2b","toProperty":"Fetch"},{"fromId":"6f01cd44-0d29-14a5-334d-1ad77cdaf93d","fromProperty":"out-ProvinceId","toId":"81a453ef-0ad4-9561-0d69-d1d59533cf54","toProperty":"Fetch"},{"fromId":"dbc14437-ad2a-d73c-f99d-276bf6e2cc20","fromProperty":"Response","toId":"d7e369f3-6f04-3a82-6334-206f4d15acc2","toProperty":"in-Response"},{"fromId":"d7e369f3-6f04-3a82-6334-206f4d15acc2","fromProperty":"out-Options","toId":"bf3fe88c-3df6-02b6-890c-b37abda91b77","toProperty":"items"},{"fromId":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","fromProperty":"value","toId":"dbc14437-ad2a-d73c-f99d-276bf6e2cc20","toProperty":"DistrictsId"},{"fromId":"6f01cd44-0d29-14a5-334d-1ad77cdaf93d","fromProperty":"out-DistrictId","toId":"dbc14437-ad2a-d73c-f99d-276bf6e2cc20","toProperty":"Fetch"},{"fromId":"af0e669b-a210-91a1-1c57-e4d5523a8e21","fromProperty":"onClick","toId":"39c647c6-36e1-4270-fe95-3427c0050513","toProperty":"close"},{"fromId":"de5c7e80-01d6-4d89-9d7c-bcd780427144","fromProperty":"checked","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"NeedMedical"},{"fromId":"066360ac-0bf4-84bc-f2ee-f6a316942a8c","fromProperty":"checked","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"NeedFood"},{"fromId":"253b5ca3-b957-3ea1-ecde-8d313ba1ae05","fromProperty":"checked","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"NeedWater"},{"fromId":"841556ac-0007-5b30-1139-4cecb0ad63d2","fromProperty":"isTrueEv","toId":"98122e7f-dfd2-d7b0-df5a-e5e33eb2fc0c","toProperty":"to-Is Double Column"},{"fromId":"841556ac-0007-5b30-1139-4cecb0ad63d2","fromProperty":"isFalseEv","toId":"98122e7f-dfd2-d7b0-df5a-e5e33eb2fc0c","toProperty":"to-Is Single Column"},{"fromId":"1a89caf9-ce3e-a73c-84ae-04be5b6ae81c","fromProperty":"boundingWidth","toId":"841556ac-0007-5b30-1139-4cecb0ad63d2","toProperty":"width"},{"fromId":"98122e7f-dfd2-d7b0-df5a-e5e33eb2fc0c","fromProperty":"Layout String","toId":"02c64d63-9c06-d39d-6ece-3f9a13812cfe","toProperty":"layoutString"},{"fromId":"516b5985-63ae-6b96-8ac0-e94aace3e5ea","fromProperty":"boundingWidth","toId":"e9197062-55d0-49da-b3f1-d87de892c236","toProperty":"width"},{"fromId":"9d680b28-5648-c85b-9b60-79719a0e3251","fromProperty":"Layout String","toId":"64d93c97-3261-7565-9efc-fe1b96bd534c","toProperty":"layoutString"},{"fromId":"e9197062-55d0-49da-b3f1-d87de892c236","fromProperty":"isFalseEv","toId":"9d680b28-5648-c85b-9b60-79719a0e3251","toProperty":"to-Is Single Column"},{"fromId":"e9197062-55d0-49da-b3f1-d87de892c236","fromProperty":"isTrueEv","toId":"9d680b28-5648-c85b-9b60-79719a0e3251","toProperty":"to-Is Tripble Column"},{"fromId":"292046a0-6a17-f5bd-d553-2e56b0f1d935","fromProperty":"prop-lat","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Latitude"},{"fromId":"292046a0-6a17-f5bd-d553-2e56b0f1d935","fromProperty":"prop-lng","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Longitude"},{"fromId":"9c3896e5-fbf3-6ac1-1569-ba3e71f73951","fromProperty":"isTrue","toId":"124d8875-3048-a16c-c1a1-f06abedfc125","toProperty":"to-Is Double Column"},{"fromId":"9c3896e5-fbf3-6ac1-1569-ba3e71f73951","fromProperty":"isFalseEv","toId":"124d8875-3048-a16c-c1a1-f06abedfc125","toProperty":"to-Is Single Column"},{"fromId":"124d8875-3048-a16c-c1a1-f06abedfc125","fromProperty":"Layout String","toId":"fe384eeb-6c36-eaf6-7a85-102cfd1a2146","toProperty":"layoutString"},{"fromId":"6415b6d3-80af-3683-1334-91a272960a00","fromProperty":"boundingWidth","toId":"9c3896e5-fbf3-6ac1-1569-ba3e71f73951","toProperty":"width"},{"fromId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","fromProperty":"Failure","toId":"39c647c6-36e1-4270-fe95-3427c0050513","toProperty":"close"},{"fromId":"2cb9c5d5-e661-975d-c66f-f2ea44ce475d","fromProperty":"value","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Province"},{"fromId":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","fromProperty":"value","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"District"},{"fromId":"bf3fe88c-3df6-02b6-890c-b37abda91b77","fromProperty":"value","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Ward"},{"fromId":"6ef3f7c0-751c-cfcb-1c66-9f494aab2dec","fromProperty":"onClick","toId":"c31361df-88e8-9109-a4eb-5752ad78abca","toProperty":"run"},{"fromId":"c31361df-88e8-9109-a4eb-5752ad78abca","fromProperty":"out-Success","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Fetch"},{"fromId":"c31361df-88e8-9109-a4eb-5752ad78abca","fromProperty":"out-Failute","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Fetch"},{"fromId":"c31361df-88e8-9109-a4eb-5752ad78abca","fromProperty":"out-Ids","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"DamageImage"},{"fromId":"545dd7c8-1e23-8b49-e671-eed0d282a465","fromProperty":"file","toId":"c31361df-88e8-9109-a4eb-5752ad78abca","toProperty":"in-file"},{"fromId":"545dd7c8-1e23-8b49-e671-eed0d282a465","fromProperty":"file","toId":"951da391-a2a2-822f-61bf-1386e9533f03","toProperty":"in-file"},{"fromId":"def0dce8-d480-65fe-2c93-00d906cddd21","fromProperty":"out-DefautValue","toId":"c7f01474-36d0-a80e-b972-8853637c35f1","toProperty":"value"},{"fromId":"c31361df-88e8-9109-a4eb-5752ad78abca","fromProperty":"out-Cancel","toId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","toProperty":"Fetch"},{"fromId":"41fba4c8-cf9e-8c45-5851-8261d8da563a","fromProperty":"out-Options","toId":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","toProperty":"enabled"},{"fromId":"d7e369f3-6f04-3a82-6334-206f4d15acc2","fromProperty":"out-Options","toId":"bf3fe88c-3df6-02b6-890c-b37abda91b77","toProperty":"enabled"},{"fromId":"2cb9c5d5-e661-975d-c66f-f2ea44ce475d","fromProperty":"value","toId":"24d977e1-5351-413a-4b4a-616010709e27","toProperty":"Value"},{"fromId":"24d977e1-5351-413a-4b4a-616010709e27","fromProperty":"NullValue","toId":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","toProperty":"value"},{"fromId":"24d977e1-5351-413a-4b4a-616010709e27","fromProperty":"NullValue","toId":"bf3fe88c-3df6-02b6-890c-b37abda91b77","toProperty":"value"},{"fromId":"24d977e1-5351-413a-4b4a-616010709e27","fromProperty":"EmptyArr","toId":"bf3fe88c-3df6-02b6-890c-b37abda91b77","toProperty":"items"},{"fromId":"24d977e1-5351-413a-4b4a-616010709e27","fromProperty":"EmptyArr","toId":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","toProperty":"items"},{"fromId":"24d977e1-5351-413a-4b4a-616010709e27","fromProperty":"Done","toId":"81a453ef-0ad4-9561-0d69-d1d59533cf54","toProperty":"Fetch"},{"fromId":"65be63b7-3188-5fb3-d069-48f1f77c1b11","fromProperty":"Done","toId":"dbc14437-ad2a-d73c-f99d-276bf6e2cc20","toProperty":"Fetch"},{"fromId":"65be63b7-3188-5fb3-d069-48f1f77c1b11","fromProperty":"EmptyArr","toId":"bf3fe88c-3df6-02b6-890c-b37abda91b77","toProperty":"items"},{"fromId":"65be63b7-3188-5fb3-d069-48f1f77c1b11","fromProperty":"NullValue","toId":"bf3fe88c-3df6-02b6-890c-b37abda91b77","toProperty":"value"},{"fromId":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","fromProperty":"value","toId":"65be63b7-3188-5fb3-d069-48f1f77c1b11","toProperty":"Value"},{"fromId":"6ef3f7c0-751c-cfcb-1c66-9f494aab2dec","fromProperty":"onClick","toId":"fc5e74ed-a969-aab7-bd6c-d735186dd28d","toProperty":"to-onLoadding"},{"fromId":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","fromProperty":"Success","toId":"fc5e74ed-a969-aab7-bd6c-d735186dd28d","toProperty":"to-Default"},{"fromId":"326366e8-bc7a-86cf-cd11-57ed393f250e","fromProperty":"out-Dang","toId":"f7690a33-00b3-e769-e6b0-71f9f0c7d4f0","toProperty":"status"},{"fromId":"6415b6d3-80af-3683-1334-91a272960a00","fromProperty":"didMount","toId":"f7690a33-00b3-e769-e6b0-71f9f0c7d4f0","toProperty":"Do"},{"fromId":"f7690a33-00b3-e769-e6b0-71f9f0c7d4f0","fromProperty":"Data","toId":"31d77b1f-e18d-43f9-ba3f-45c2951320a2","toProperty":"in-ResponseArray"},{"fromId":"f7690a33-00b3-e769-e6b0-71f9f0c7d4f0","fromProperty":"Data","toId":"def0dce8-d480-65fe-2c93-00d906cddd21","toProperty":"in-ResponseArray"},{"fromId":"5f39b2d0-5156-a835-4058-6477fc375468","fromProperty":"API_URL","toId":"c31361df-88e8-9109-a4eb-5752ad78abca","toProperty":"in-API_URL"},{"fromId":"472c54b2-433e-f84f-c7d4-61de87f938cd","fromProperty":"out-IsError","toId":"6ef3f7c0-751c-cfcb-1c66-9f494aab2dec","toProperty":"enabled"},{"fromId":"fc5e74ed-a969-aab7-bd6c-d735186dd28d","fromProperty":"Label","toId":"6ef3f7c0-751c-cfcb-1c66-9f494aab2dec","toProperty":"label"},{"fromId":"951da391-a2a2-822f-61bf-1386e9533f03","fromProperty":"out-ImageUrl","toId":"937b049a-6c54-073c-757b-f9278962407c","toProperty":"in-file"},{"fromId":"14604613-214f-4748-80f2-3b69c234c95f","fromProperty":"out-file","toId":"937b049a-6c54-073c-757b-f9278962407c","toProperty":"in-file"},{"fromId":"1d481d57-5c7d-5593-0b7e-5e6fc07fa924","fromProperty":"onClick","toId":"14604613-214f-4748-80f2-3b69c234c95f","toProperty":"run"},{"fromId":"748f4904-69a7-2512-7562-f769e4e86e08","fromProperty":"onClick","toId":"545dd7c8-1e23-8b49-e671-eed0d282a465","toProperty":"open"},{"fromId":"cb909cc1-e63a-7e45-033f-0eefdd551cf7","fromProperty":"at-open","toId":"f359b4b9-c112-2929-937a-c63d655fe794","toProperty":"visible"},{"fromId":"951da391-a2a2-822f-61bf-1386e9533f03","fromProperty":"out-ImageUrl","toId":"bbf05d05-1485-e073-c238-82290fb9f52b","toProperty":"src"},{"fromId":"14604613-214f-4748-80f2-3b69c234c95f","fromProperty":"out-image","toId":"bbf05d05-1485-e073-c238-82290fb9f52b","toProperty":"src"},{"fromId":"937b049a-6c54-073c-757b-f9278962407c","fromProperty":"out-image","toId":"bbf05d05-1485-e073-c238-82290fb9f52b","toProperty":"src"},{"fromId":"d76150a7-9956-ac1b-ee47-71b1f455b1bf","fromProperty":"hoverEnd","toId":"cb909cc1-e63a-7e45-033f-0eefdd551cf7","toProperty":"to-close"},{"fromId":"d76150a7-9956-ac1b-ee47-71b1f455b1bf","fromProperty":"hoverStart","toId":"cb909cc1-e63a-7e45-033f-0eefdd551cf7","toProperty":"to-open"}],"roots":[{"id":"39c647c6-36e1-4270-fe95-3427c0050513","type":"NavigationClosePopup","x":182.4585265367117,"y":107.88953308159444,"parameters":{"closeActions":"Confirmed"},"ports":[],"dynamicports":[{"type":"signal","plug":"input","group":"Close Actions","name":"closeAction-Confirmed","displayName":"Confirmed","index":3}],"children":[]},{"id":"6415b6d3-80af-3683-1334-91a272960a00","type":"Group","x":-99,"y":-23,"parameters":{"visible":true,"scrollEnabled":true,"sizeMode":"explicit","width":{"value":100,"unit":"%","isFixed":false},"height":{"value":100,"unit":"%","isFixed":false},"position":"relative"},"ports":[],"dynamicports":[],"children":[{"id":"b244469c-0e1d-ef52-6c6c-f4fe4e6c3611","type":"Group","label":"Modal","parameters":{"backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":12,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","zIndex":3,"visible":true,"clip":false,"position":"absolute","sizeMode":"contentHeight","width":{"value":100,"unit":"%"},"minWidth":{"value":320,"unit":"px"},"maxWidth":{"value":700,"unit":"px"},"alignX":"center","alignY":"top","paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"marginTop":{"value":32,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"af0e669b-a210-91a1-1c57-e4d5523a8e21","type":"net.noodl.controls.button","label":"Close icon","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"06149b48-f0c1-7518-122c-945cb291e396","type":"Text","label":"Title","parameters":{"textStyle":"Title Medium","text":"Gửi yêu cầu","marginRight":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"fe384eeb-6c36-eaf6-7a85-102cfd1a2146","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1"},"ports":[],"dynamicports":[],"children":[{"id":"9e5f66a5-9deb-67af-8a40-8beb36699c5a","type":"Group","label":"Form","parameters":{"flexDirection":"column","rowGap":{"value":12,"unit":"px"},"paddingTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"c7f01474-36d0-a80e-b972-8853637c35f1","type":"net.noodl.controls.options","label":"Loai thien tai","parameters":{"items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]","label":"Yêu cầu hỗ trợ cho*","placeholder":"Chọn thiên tai đang diễn ra"},"ports":[],"dynamicports":[],"children":[]},{"id":"92b11fa8-85f5-daeb-bdfb-8a82f6fb1f6f","type":"/Components/Form","parameters":{"Controls":"[\n    {\n        Type:\"Text Input\",\n        Label:\"Họ và tên*\",\n        Property:\"FullName\",\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Số điện thoại*\",\n        Property:\"PhoneNumber\",\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Email (nếu có)\",\n        Property:\"Email\",\n        InputType: \"Email\",\n    },\n    {\n        Type:\"Text Input\",\n        Label:\"Số người cần hỗ trợ (nếu có)\",\n        Property:\"PeopleCount\",\n    },\n]"},"ports":[],"dynamicports":[],"children":[]},{"id":"02306700-a947-f2ca-b1e8-ce87b7d9ff73","type":"Group","label":"Nhu cau","parameters":{"flexDirection":"column","columnGap":{"value":8,"unit":"px"},"width":{"value":100,"unit":"%","isFixed":true}},"ports":[],"dynamicports":[],"children":[{"id":"9365fa12-b9d2-9c04-2a36-05fba51de8d0","type":"Text","parameters":{"text":"Nhu cầu","sizeMode":"contentHeight","fontSize":{"value":14,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"1a89caf9-ce3e-a73c-84ae-04be5b6ae81c","type":"Group","label":"Grid container","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"02c64d63-9c06-d39d-6ece-3f9a13812cfe","type":"net.noodl.visual.columns","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"253b5ca3-b957-3ea1-ecde-8d313ba1ae05","type":"net.noodl.controls.checkbox","parameters":{"label":"Nước"},"ports":[],"dynamicports":[],"children":[]},{"id":"066360ac-0bf4-84bc-f2ee-f6a316942a8c","type":"net.noodl.controls.checkbox","parameters":{"label":"Đồ ăn"},"ports":[],"dynamicports":[],"children":[]},{"id":"de5c7e80-01d6-4d89-9d7c-bcd780427144","type":"net.noodl.controls.checkbox","parameters":{"label":"Y tế"},"ports":[],"dynamicports":[],"children":[]},{"id":"e7a71da5-a73e-1ee0-0986-1e36aa6af5dd","type":"net.noodl.controls.checkbox","parameters":{"label":"Khác"},"ports":[],"dynamicports":[],"children":[]}]}]}]}]},{"id":"c9c7f4ee-b717-ba54-61da-97f2487281fa","type":"Group","label":"Form","parameters":{"flexDirection":"column","rowGap":{"value":12,"unit":"px"},"paddingTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"516b5985-63ae-6b96-8ac0-e94aace3e5ea","type":"Group","label":"Địa chỉ","parameters":{"flexDirection":"row","columnGap":{"value":16,"unit":"px"},"width":{"value":100,"unit":"%","isFixed":true}},"ports":[],"dynamicports":[],"children":[{"id":"64d93c97-3261-7565-9efc-fe1b96bd534c","type":"net.noodl.visual.columns","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"2cb9c5d5-e661-975d-c66f-f2ea44ce475d","type":"net.noodl.controls.options","label":"Tỉnh","parameters":{"value":"1","items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]","placeholder":"Chọn","label":"Tỉnh","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"8be6ec96-836a-60cb-bce0-9bda02af7f1a","type":"net.noodl.controls.options","label":"Huyện","parameters":{"placeholder":"Chọn","label":"Huyện","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","enabled":false},"ports":[],"dynamicports":[],"children":[]},{"id":"bf3fe88c-3df6-02b6-890c-b37abda91b77","type":"net.noodl.controls.options","label":"Xã","parameters":{"label":"Xã","placeholder":"Chọn","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","enabled":false},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"d76150a7-9956-ac1b-ee47-71b1f455b1bf","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"bbf05d05-1485-e073-c238-82290fb9f52b","type":"Image","parameters":{"minWidth":{"value":100,"unit":"%"},"minHeight":{"value":200,"unit":"px"},"maxWidth":{"value":100,"unit":"%"},"maxHeight":{"value":200,"unit":"px"},"styleCss":"background-color: #CECECE;\r\nobject-fit: cover","borderRadius":{"value":8,"unit":"px"},"src":"https://placehold.co/100x100/38BCF8/FFF?text=UniHand","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border"},"ports":[],"dynamicports":[],"children":[]},{"id":"f359b4b9-c112-2929-937a-c63d655fe794","type":"Group","parameters":{"position":"absolute","visible":false,"zIndex":2},"ports":[],"dynamicports":[],"children":[{"id":"748f4904-69a7-2512-7562-f769e4e86e08","type":"net.noodl.controls.button","parameters":{"label":"Chọn ảnh","borderStyle":"solid","backgroundColor":"#00000000","borderWidth":{"value":1,"unit":"px"},"color":"#000000","sizeMode":"explicit","useIcon":true,"iconIconSource":{"class":"material-icons","code":"image","codeAsClass":false},"iconColor":"#000000","height":{"value":100,"unit":"%"}},"stateParameters":{"hover":{"backgroundColor":"#00000035"}},"ports":[],"dynamicports":[],"children":[]},{"id":"1d481d57-5c7d-5593-0b7e-5e6fc07fa924","type":"net.noodl.controls.button","label":"Delete","parameters":{"label":"","backgroundColor":"#FFFFFF7F","mounted":true,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"delete_outline","codeAsClass":false},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"iconColor":"White","borderStyle":"none","borderColor":"Grey - 400","color":"#1666FF","borderWidth":{"value":1.3,"unit":"px"},"height":{"value":36,"unit":"px"},"useLabel":false,"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"iconSize":{"value":22,"unit":"px"},"position":"absolute","marginTop":{"value":12,"unit":"px"},"marginLeft":{"value":12,"unit":"px"},"styleCss":"/* background-color: red; */\r\n\r\nright: 12px;\r\ntop: 0;","sizeMode":"contentSize","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"alignX":"right","marginRight":{"value":12,"unit":"px"},"zIndex":3},"stateParameters":{"disabled":{"opacity":0},"hover":{"opacity":0.8,"backgroundColor":"#FFFFFF7F"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"98beac46-0577-6fd9-bca5-385a3f3c73de","type":"net.noodl.controls.textinput","label":"Mo ta","parameters":{"label":"Mô tả","type":"textArea","height":{"value":100,"unit":"px"},"paddingTop":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"6ef3f7c0-751c-cfcb-1c66-9f494aab2dec","type":"net.noodl.controls.button","label":"Gửi yêu cầu","parameters":{"label":"Gửi yêu cầu","sizeMode":"contentWidth","alignX":"center","minWidth":{"value":100,"unit":"%"},"enabled":false},"ports":[],"dynamicports":[],"children":[]}]}]}]}]},{"id":"d0611b56-b3ca-637b-5efe-154ef7767c1c","type":"States","label":"Show animation","x":182.74691123073626,"y":-18.825615248384366,"parameters":{"states":"hide,show","values":"size,opacity,visible","value-hide-size":0,"value-show-size":1,"value-hide-opacity":0,"value-show-opacity":1,"currentState":"hide","transitiondef-hide":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"transitiondef-show":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"value-hide-z-index":-1,"value-show-z-index":3,"type-mount":"boolean","value-hide-mount":false,"value-show-mount":true,"type-visible":"boolean","value-hide-visible":false,"value-show-visible":2},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"size","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"size","name":"type-size","index":7},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"opacity","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"opacity","name":"type-opacity","index":9},{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"visible","index":10},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"visible","name":"type-visible","index":11},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-size","displayName":"size","editorName":"hide|size","index":12},{"plug":"input","type":"number","group":"hide Values","name":"value-hide-opacity","displayName":"opacity","editorName":"hide|opacity","index":13},{"plug":"input","type":"boolean","group":"hide Values","name":"value-hide-visible","displayName":"visible","editorName":"hide|visible","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hide Transitions","name":"transitiondef-hide","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-size","displayName":"size","editorName":"Transition hide|size","index":16},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"hide Transitions","name":"transition-hide-opacity","displayName":"opacity","editorName":"Transition hide|opacity","index":17},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To hide","name":"to-hide","group":"Go to state","index":18},{"plug":"output","type":"boolean","displayName":"At hide","name":"at-hide","group":"Current state","index":19},{"plug":"output","type":"signal","displayName":"Has Reached hide","name":"reached-hide","group":"Current state","index":20},{"plug":"input","type":"number","group":"show Values","name":"value-show-size","displayName":"size","editorName":"show|size","index":21},{"plug":"input","type":"number","group":"show Values","name":"value-show-opacity","displayName":"opacity","editorName":"show|opacity","index":22},{"plug":"input","type":"boolean","group":"show Values","name":"value-show-visible","displayName":"visible","editorName":"show|visible","index":23},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"show Transitions","name":"transitiondef-show","index":24},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-size","displayName":"size","editorName":"Transition show|size","index":25},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"group":"show Transitions","name":"transition-show-opacity","displayName":"opacity","editorName":"Transition show|opacity","index":26},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To show","name":"to-show","group":"Go to state","index":27},{"plug":"output","type":"boolean","displayName":"At show","name":"at-show","group":"Current state","index":28},{"plug":"output","type":"signal","displayName":"Has Reached show","name":"reached-show","group":"Current state","index":29},{"plug":"input","type":{"name":"enum","enums":["hide","show"]},"group":"States","displayName":"State","name":"currentState","default":"hide","index":30}],"children":[]},{"id":"9aa98ad2-e2dc-f426-f0a5-6d36f09022c7","type":"/Components/Show Toast","label":"Gửi yêu cầu thành công","x":503.0116638115949,"y":1377.1042170293554,"parameters":{"Message":"Gửi yêu cầu thành công","Type":"Success"},"ports":[],"dynamicports":[],"children":[]},{"id":"b0d07aa4-5adc-5fb5-c2a8-4d3746c5b931","type":"/Components/Show Toast","label":"Gửi yêu cầu không thành , vui lòng thử lại","x":502.0116638115949,"y":1481.1042170293558,"parameters":{"Message":"Gửi yêu cầu không thành công, vui lòng thử lại","Type":"Error"},"ports":[],"dynamicports":[],"children":[]},{"id":"05be62e5-3fb5-6c37-407a-f0b3ac6e69e4","type":"/#Logic/SOS","x":320.68393448535335,"y":1404.9896827718665,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f7690a33-00b3-e769-e6b0-71f9f0c7d4f0","type":"/#Logic/GetDisasters","x":-324.7719796218785,"y":-66.19985981153698,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"31d77b1f-e18d-43f9-ba3f-45c2951320a2","type":"JavaScriptFunction","x":-324.3922563628537,"y":28.29881567382145,"parameters":{"functionScript":"const inputArray = Inputs.ResponseArray;\r\nif(inputArray) {\r\n    Outputs.DropdownOptions = inputArray.map((item, index) => ({\r\n    Label: item.Name,\r\n    Value: item.id.toString()\r\n    }));\r\n}"},"ports":[],"dynamicports":[{"name":"in-ResponseArray","displayName":"ResponseArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DropdownOptions","displayName":"DropdownOptions","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"ecad2343-e5bb-64ce-8eff-e886172a2613","type":"Model2","x":-314.1341811766682,"y":723.1915297926384,"parameters":{"properties":"FullName,PhoneNumber,Email"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-FullName","displayName":"FullName","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"FullName Changed","name":"changed-FullName","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-PhoneNumber","displayName":"PhoneNumber","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"PhoneNumber Changed","name":"changed-PhoneNumber","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Email","displayName":"Email","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Email Changed","name":"changed-Email","index":12}],"children":[]},{"id":"472c54b2-433e-f84f-c7d4-61de87f938cd","type":"JavaScriptFunction","x":-312.5806749799782,"y":836.2258913330113,"parameters":{"functionScript":"const errors = [];\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\nif (!Inputs.FullName || Inputs.FullName.trim() === '') {\r\n  errors.push({\r\n    Property: 'FullName',\r\n    Error: 'Vui lòng nhập tên của bạn',\r\n  });\r\n}\r\n\r\nif (!Inputs.PhoneNumber || Inputs.PhoneNumber.trim() === '') {\r\n  errors.push({\r\n    Property: 'PhoneNumber',\r\n    Error: 'Vui lòng nhập số điện thoại',\r\n  });\r\n} else if (!/^\\d+$/.test(Inputs.PhoneNumber.trim())) {\r\n  errors.push({\r\n    Property: 'PhoneNumber', \r\n    Error: 'Số điện thoại chỉ được nhập số',\r\n  });\r\n}\r\n\r\nif(Inputs.Email) {\r\n  if (!emailRegex.test(Inputs.Email)) {\r\n  errors.push({\r\n    Property: 'Email',\r\n    Error: 'Email không hợp lệ.',\r\n  });\r\n}\r\n}\r\n\r\nOutputs.IsError = errors.length === 0;\r\nOutputs.Errors = errors;"},"ports":[],"dynamicports":[{"name":"in-FullName","displayName":"FullName","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-PhoneNumber","displayName":"PhoneNumber","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-IsError","displayName":"IsError","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Errors","displayName":"Errors","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"b16b0ceb-5007-4e3e-a8e7-51ceb6770c9d","type":"Model2","x":321.1677427407002,"y":1252.2180772068955,"parameters":{"properties":"FullName,PhoneNumber,Email,PeopleCount"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-FullName","displayName":"FullName","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"FullName Changed","name":"changed-FullName","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-PhoneNumber","displayName":"PhoneNumber","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"PhoneNumber Changed","name":"changed-PhoneNumber","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Email","displayName":"Email","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Email Changed","name":"changed-Email","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-PeopleCount","displayName":"PeopleCount","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"PeopleCount Changed","name":"changed-PeopleCount","index":14}],"children":[]},{"id":"e6b4c1bc-1c21-2584-59a1-d42e8497310b","type":"/#Logic/GetProvinces","x":466.5166292812072,"y":784.6422709554928,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"fc72403a-a0a7-e767-0733-177c2b025940","type":"JavaScriptFunction","x":276.50263307184736,"y":866.4913743233304,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString()\r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"292046a0-6a17-f5bd-d553-2e56b0f1d935","type":"Model2","x":-315.56123818545814,"y":302.6187184723215,"parameters":{"modelId":"Location","properties":"lat,lng"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-lat","displayName":"lat","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"lat Changed","name":"changed-lat","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-lng","displayName":"lng","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"lng Changed","name":"changed-lng","index":10}],"children":[]},{"id":"36164f65-29c7-8436-27fc-1ad789a38b2b","type":"/#Logic/ConvertLocation","x":-315.278729038036,"y":410.09553805033124,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"6f01cd44-0d29-14a5-334d-1ad77cdaf93d","type":"JavaScriptFunction","x":-314.3129947057997,"y":523.9024871688531,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (response && response.Province && response.District && response.Ward) {\r\n    Outputs.ProvinceId = response.Province.id;\r\n    Outputs.DistrictId = response.District.id;\r\n    Outputs.WardId = response.Ward.id;\r\n} else {\r\n    Outputs.ProvinceId = null;\r\n    Outputs.DistrictId = null;\r\n    Outputs.WardId = null;\r\n}"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ProvinceId","displayName":"ProvinceId","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-DistrictId","displayName":"DistrictId","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-WardId","displayName":"WardId","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"81a453ef-0ad4-9561-0d69-d1d59533cf54","type":"/#Logic/GetDistricts","x":465.76233890684387,"y":878.2490393211249,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"41fba4c8-cf9e-8c45-5851-8261d8da563a","type":"JavaScriptFunction","x":275.6044441700017,"y":943.0911445842827,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"dbc14437-ad2a-d73c-f99d-276bf6e2cc20","type":"/#Logic/GetWards","x":467.0284207781889,"y":991.1203843503642,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d7e369f3-6f04-3a82-6334-206f4d15acc2","type":"JavaScriptFunction","x":275.5187399487449,"y":1017.9959405101541,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"841556ac-0007-5b30-1139-4cecb0ad63d2","type":"Expression","label":"width > 400","x":-270.3988919667592,"y":1217.2908587257618,"parameters":{"expression":"width > 400"},"ports":[],"dynamicports":[{"group":"Parameters","name":"width","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"98122e7f-dfd2-d7b0-df5a-e5e33eb2fc0c","type":"States","x":-270.3988919667592,"y":1323.6703601108034,"parameters":{"values":"Layout String","states":"Is Single Column,Is Double Column","useTransitions":false,"type-Layout String":"string","value-Is Single Column-Layout String":"1 1","value-Is Double Column-Layout String":"1 1 1 1"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Layout String","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Layout String","name":"type-Layout String","index":7},{"plug":"input","type":"string","group":"Is Single Column Values","name":"value-Is Single Column-Layout String","displayName":"Layout String","editorName":"Is Single Column|Layout String","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Single Column","name":"to-Is Single Column","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Is Single Column","name":"at-Is Single Column","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Is Single Column","name":"reached-Is Single Column","group":"Current state","index":11},{"plug":"input","type":"string","group":"Is Double Column Values","name":"value-Is Double Column-Layout String","displayName":"Layout String","editorName":"Is Double Column|Layout String","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Double Column","name":"to-Is Double Column","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At Is Double Column","name":"at-Is Double Column","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached Is Double Column","name":"reached-Is Double Column","group":"Current state","index":15},{"plug":"input","type":{"name":"enum","enums":["Is Single Column","Is Double Column"]},"group":"States","displayName":"State","name":"currentState","default":"Is Single Column","index":16}],"children":[]},{"id":"e9197062-55d0-49da-b3f1-d87de892c236","type":"Expression","label":"width > 400","x":312.2240653469393,"y":438.04654134854195,"parameters":{"expression":"width > 400\r\n"},"ports":[],"dynamicports":[{"group":"Parameters","name":"width","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"9d680b28-5648-c85b-9b60-79719a0e3251","type":"States","x":311.2240653469394,"y":565.2903086615618,"parameters":{"values":"Layout String","states":"Is Single Column,Is Tripble Column","useTransitions":false,"type-Layout String":"string","value-Is Single Column-Layout String":"1","value-Is Tripble Column-Layout String":"1 1 1"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Layout String","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Layout String","name":"type-Layout String","index":7},{"plug":"input","type":"string","group":"Is Single Column Values","name":"value-Is Single Column-Layout String","displayName":"Layout String","editorName":"Is Single Column|Layout String","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Single Column","name":"to-Is Single Column","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Is Single Column","name":"at-Is Single Column","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Is Single Column","name":"reached-Is Single Column","group":"Current state","index":11},{"plug":"input","type":"string","group":"Is Tripble Column Values","name":"value-Is Tripble Column-Layout String","displayName":"Layout String","editorName":"Is Tripble Column|Layout String","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Tripble Column","name":"to-Is Tripble Column","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At Is Tripble Column","name":"at-Is Tripble Column","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached Is Tripble Column","name":"reached-Is Tripble Column","group":"Current state","index":15},{"plug":"input","type":{"name":"enum","enums":["Is Single Column","Is Tripble Column"]},"group":"States","displayName":"State","name":"currentState","default":"Is Single Column","index":16}],"children":[]},{"id":"c31361df-88e8-9109-a4eb-5752ad78abca","type":"JavaScriptFunction","x":-266.1663507799971,"y":1889.0613868831579,"parameters":{"functionScript":"const file = Inputs.file\r\nconst API_URL = Inputs.API_URL;\r\nconst url = API_URL + '/upload';\r\n\r\nif (file) {\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"files\", file);\r\n\r\n    fetch(url, {\r\n        method: \"POST\",\r\n        body: formData,\r\n    })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n        if (Array.isArray(data)) {\r\n            const ids = data.map(item => item.id);\r\n            Outputs.Ids = ids;\r\n        } else {\r\n            Outputs.Ids = [];\r\n        }\r\n        Outputs.Success()\r\n    })\r\n    .catch((error) => {\r\n        Outputs.Failute()\r\n    });\r\n}\r\nelse {\r\n    Outputs.Cancel();\r\n}"},"ports":[],"dynamicports":[{"name":"in-file","displayName":"file","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-API_URL","displayName":"API_URL","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failute","displayName":"Failute","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Cancel","displayName":"Cancel","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Ids","displayName":"Ids","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"545dd7c8-1e23-8b49-e671-eed0d282a465","type":"Open File Picker","label":"Open File Picker","x":-267,"y":2045.099277936787,"parameters":{"acceptedFileTypes":"image/*"},"ports":[],"dynamicports":[],"children":[]},{"id":"9c3896e5-fbf3-6ac1-1569-ba3e71f73951","type":"Expression","label":"width > 700","x":465.9153959671455,"y":435.86309079851526,"parameters":{"expression":"width > 700"},"ports":[],"dynamicports":[{"group":"Parameters","name":"width","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"124d8875-3048-a16c-c1a1-f06abedfc125","type":"States","x":465.93897191104736,"y":561.8448527568901,"parameters":{"values":"Layout String","states":"Is Single Column,Is Double Column","useTransitions":false,"type-Layout String":"string","value-Is Single Column-Layout String":"1","value-Is Double Column-Layout String":"1 1"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Layout String","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Layout String","name":"type-Layout String","index":7},{"plug":"input","type":"string","group":"Is Single Column Values","name":"value-Is Single Column-Layout String","displayName":"Layout String","editorName":"Is Single Column|Layout String","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Single Column","name":"to-Is Single Column","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Is Single Column","name":"at-Is Single Column","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Is Single Column","name":"reached-Is Single Column","group":"Current state","index":11},{"plug":"input","type":"string","group":"Is Double Column Values","name":"value-Is Double Column-Layout String","displayName":"Layout String","editorName":"Is Double Column|Layout String","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Double Column","name":"to-Is Double Column","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At Is Double Column","name":"at-Is Double Column","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached Is Double Column","name":"reached-Is Double Column","group":"Current state","index":15},{"plug":"input","type":{"name":"enum","enums":["Is Single Column","Is Double Column"]},"group":"States","displayName":"State","name":"currentState","default":"Is Single Column","index":16}],"children":[]},{"id":"951da391-a2a2-822f-61bf-1386e9533f03","type":"JavaScriptFunction","x":-267,"y":2117.970818210419,"parameters":{"functionScript":"const file = Inputs.file\r\n\r\nif(file) {\r\n    const imageUrl = URL.createObjectURL(file);\r\n    Outputs.ImageUrl = imageUrl;\r\n}"},"ports":[],"dynamicports":[{"name":"in-file","displayName":"file","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ImageUrl","displayName":"ImageUrl","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"def0dce8-d480-65fe-2c93-00d906cddd21","type":"JavaScriptFunction","x":-324.56510883599833,"y":121.00231638330149,"parameters":{"functionScript":"const inputArray = Inputs.ResponseArray;\r\nif (inputArray && inputArray.length > 0) {\r\n    const lastItem = inputArray[inputArray.length - 1];\r\n    Outputs.DefautValue = lastItem.id.toString();\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-ResponseArray","displayName":"ResponseArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DefautValue","displayName":"DefautValue","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"24d977e1-5351-413a-4b4a-616010709e27","type":"Javascript2","x":276.97612301898494,"y":1831.4543472626651,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  Done: \"signal\",\r\n  Value: \"string\",\r\n  NullValue: 'number',\r\n  EmptyArr: 'array',\r\n};\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":6},{"name":"Value","type":{"name":"string"},"plug":"output","group":"Outputs","index":7},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"65be63b7-3188-5fb3-d069-48f1f77c1b11","type":"Javascript2","x":276,"y":1938,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  Done: \"signal\",\r\n  Value: \"string\",\r\n  NullValue: 'number',\r\n  EmptyArr: 'array',\r\n};\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":6},{"name":"Value","type":{"name":"string"},"plug":"output","group":"Outputs","index":7},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"fc5e74ed-a969-aab7-bd6c-d735186dd28d","type":"States","x":250.87586215128783,"y":2598.834459368736,"parameters":{"states":"onLoadding,Default","values":"Label","type-Enabaled":"boolean","type-Label":"string","currentState":"Default","value-onLoadding-Label":"Đang gửi ...","value-Default-Label":"Gửi yêu cầu"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Label","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Label","name":"type-Label","index":7},{"plug":"input","type":"string","group":"onLoadding Values","name":"value-onLoadding-Label","displayName":"Label","editorName":"onLoadding|Label","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"onLoadding Transitions","name":"transitiondef-onLoadding","index":9},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To onLoadding","name":"to-onLoadding","group":"Go to state","index":10},{"plug":"output","type":"boolean","displayName":"At onLoadding","name":"at-onLoadding","group":"Current state","index":11},{"plug":"output","type":"signal","displayName":"Has Reached onLoadding","name":"reached-onLoadding","group":"Current state","index":12},{"plug":"input","type":"string","group":"Default Values","name":"value-Default-Label","displayName":"Label","editorName":"Default|Label","index":13},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Default Transitions","name":"transitiondef-Default","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Default","name":"to-Default","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At Default","name":"at-Default","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached Default","name":"reached-Default","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["onLoadding","Default"]},"group":"States","displayName":"State","name":"currentState","default":"onLoadding","index":18}],"children":[]},{"id":"326366e8-bc7a-86cf-cd11-57ed393f250e","type":"JavaScriptFunction","x":-577,"y":47,"parameters":{"functionScript":"Outputs.Dang = 2"},"ports":[],"dynamicports":[{"name":"out-Dang","displayName":"Dang","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"5f39b2d0-5156-a835-4058-6477fc375468","type":"/#Logic/Environment","x":-478.1216552413511,"y":1874.093827813556,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"cb909cc1-e63a-7e45-033f-0eefdd551cf7","type":"States","x":279.6620498614956,"y":2064.8005540166205,"parameters":{"states":"open,close"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To open","name":"to-open","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At open","name":"at-open","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached open","name":"reached-open","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To close","name":"to-close","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At close","name":"at-close","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached close","name":"reached-close","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["open","close"]},"group":"States","displayName":"State","name":"currentState","default":"open","index":12}],"children":[]},{"id":"14604613-214f-4748-80f2-3b69c234c95f","type":"JavaScriptFunction","label":"Function Clear","x":281.0526315789474,"y":2284.9473684210525,"parameters":{"functionScript":"function clearOutputs() {\r\n  Outputs.file = {};\r\n  Outputs.image = 'https://placehold.co/100x100/38BCF8/FFF?text=UniHand'\r\n}\r\n\r\nclearOutputs();"},"ports":[],"dynamicports":[{"name":"out-file","displayName":"file","plug":"output","type":"*","group":"Outputs","index":4},{"name":"out-image","displayName":"image","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"937b049a-6c54-073c-757b-f9278962407c","type":"JavaScriptFunction","label":"Review Image","x":280,"y":2177,"parameters":{"functionScript":"const file = Inputs.file;\r\n\r\nconst placeholderImage = 'https://placehold.co/100x100/38BCF8/FFF?text=UniHand';\r\nconst validImageTypes = ['image/gif', 'image/jpeg', 'image/png'];\r\n\r\nif (file && validImageTypes.includes(file.type)) {\r\n  const imageUrl = URL.createObjectURL(file);\r\n  Outputs.image = imageUrl;\r\n  Outputs.file = file;\r\n} else {\r\n  Outputs.image = placeholderImage;\r\n  Outputs.file = null;\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-file","displayName":"file","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-image","displayName":"image","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-file","displayName":"file","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["6415b6d3-80af-3683-1334-91a272960a00"],"comments":[{"text":"Tự động lấy địa chỉ theo vị trí","width":373,"height":355,"fill":"fill","x":258,"y":766,"id":"dc0edd84-60bf-e7bd-11ca-6fafe81e3856","largeFont":false,"color":"notice"},{"text":"Fetch API thực hiện gửi yêu cầu","width":370,"height":650,"fill":"fill","x":303,"y":1190,"id":"0b37d20e-62cb-72cb-d840-2774190ba128","color":"success"},{"text":"Lấy vị trí, chuyển thành object địa chỉ","width":181,"height":399,"fill":"fill","x":-331,"y":247,"id":"70cfc815-ecfb-10f6-5ff9-eef0a2c0c8a8","color":"notice"},{"text":"Lấy thiên tai đang diễn ra","width":179,"height":306,"fill":"fill","x":-336,"y":-103,"id":"eec2459f-3683-cebd-7dc4-39290f280939","color":"notice","largeFont":false},{"text":"Ràng buộc form\n","width":188,"height":305,"fill":"fill","x":-333,"y":685,"id":"a71c4cdc-8ce6-3dba-217e-7939b458a058","color":"notice"},{"text":"GirdLayout","width":331,"height":301,"fill":"fill","x":297,"y":393,"id":"2cb148ee-3a84-c9de-2f94-3da963d05261","color":"component"},{"text":"GirdLayout","width":183,"height":284,"fill":"fill","x":-288,"y":1170,"id":"0501f1b6-b831-8306-91ef-42be9ea49b34","color":"component"},{"text":"HandlePopup","width":173,"height":267,"fill":"fill","x":171,"y":-56,"id":"fd8c61fe-6517-f9cf-a5e2-d787d40ccc5f","color":"notice"},{"text":"HandleFilePicker","width":187,"height":378,"fill":"fill","x":-286,"y":1852,"id":"f93d5175-5d38-800e-a363-77ac3dd1ef59","color":"notice"}]}},{"name":"/Components/Show Toast","id":"01c96bc0-df5d-7997-6622-0cfa3017139b","graph":{"connections":[{"fromId":"ae8200fe-55ad-57e4-da3d-30c2b24d9696","fromProperty":"Do","toId":"54c12309-586f-ad09-5286-b9f1a4847b2f","toProperty":"show"},{"fromId":"ae8200fe-55ad-57e4-da3d-30c2b24d9696","fromProperty":"Message","toId":"9c60f9ac-49be-4408-0ffd-6c6894f9fc9e","toProperty":"value"},{"fromId":"9c60f9ac-49be-4408-0ffd-6c6894f9fc9e","fromProperty":"savedValue","toId":"54c12309-586f-ad09-5286-b9f1a4847b2f","toProperty":"popupParam-Message"},{"fromId":"ae8200fe-55ad-57e4-da3d-30c2b24d9696","fromProperty":"Type","toId":"aa20a64a-ef56-2b71-6f78-7580debd1d02","toProperty":"currentState"},{"fromId":"aa20a64a-ef56-2b71-6f78-7580debd1d02","fromProperty":"currentState","toId":"54c12309-586f-ad09-5286-b9f1a4847b2f","toProperty":"popupParam-Type"},{"fromId":"ae8200fe-55ad-57e4-da3d-30c2b24d9696","fromProperty":"Do","toId":"6d85c8f5-3105-d1a1-996f-d484beaa4fb3","toProperty":"Success"}],"roots":[{"id":"ae8200fe-55ad-57e4-da3d-30c2b24d9696","type":"Component Inputs","x":-408,"y":16,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Message","plug":"output","type":{"name":"*"},"index":1,"group":"General"},{"name":"Type","plug":"output","type":{"name":"*"},"group":"General","index":2}],"dynamicports":[],"children":[]},{"id":"6d85c8f5-3105-d1a1-996f-d484beaa4fb3","type":"Component Outputs","x":-406,"y":142,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"54c12309-586f-ad09-5286-b9f1a4847b2f","type":"NavigationShowPopup","x":81.5,"y":-2.5,"parameters":{"target":"/Components/Show Toast/Toast Component"},"ports":[],"dynamicports":[{"name":"popupParam-Message","displayName":"Message","type":"*","plug":"input","group":"Params","index":3},{"name":"popupParam-Type","displayName":"Type","type":"*","plug":"input","group":"Params","index":4}],"children":[]},{"id":"9c60f9ac-49be-4408-0ffd-6c6894f9fc9e","type":"String","x":-160.5,"y":-53.5,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"aa20a64a-ef56-2b71-6f78-7580debd1d02","type":"States","x":-158.75,"y":92.75,"parameters":{"states":"Warning,Normal,Error,Success","currentState":"Normal"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Warning","name":"to-Warning","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Warning","name":"at-Warning","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Warning","name":"reached-Warning","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Normal","name":"to-Normal","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Normal","name":"at-Normal","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Normal","name":"reached-Normal","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Error","name":"to-Error","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Error","name":"at-Error","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Error","name":"reached-Error","group":"Current state","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Success","name":"to-Success","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At Success","name":"at-Success","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached Success","name":"reached-Success","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["Warning","Normal","Error","Success"]},"group":"States","displayName":"State","name":"currentState","default":"Warning","index":18}],"children":[]}],"visualRoots":[]}},{"name":"/Components/Show Toast/Error","id":"98595901-dc17-8ecd-8223-c9ad8b40e02e","graph":{"connections":[{"fromId":"95905012-9bc9-cd97-f186-44777bbf37d7","fromProperty":"Message","toId":"b9dd4afa-dc67-9784-d703-a55f6e559abb","toProperty":"text"}],"roots":[{"id":"95905012-9bc9-cd97-f186-44777bbf37d7","type":"Component Inputs","x":-301.5,"y":117.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"9897d5b1-b38a-9b29-48f8-25e6d6688ca5","type":"Group","x":15.5,"y":100,"parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000033","borderWidth":{"value":1,"unit":"px"},"borderColor":"Danger","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"140889e0-47ad-25b4-6a66-2cfd21f924f5","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#F75A4F3F","alignItems":"center","justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"41b8f6ba-a611-e59c-46ea-54dce18c7ab2","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"error"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Danger"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"b9dd4afa-dc67-9784-d703-a55f6e559abb","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}],"visualRoots":["9897d5b1-b38a-9b29-48f8-25e6d6688ca5"]}},{"name":"/Components/Show Toast/Normal","id":"87caea07-a4eb-aa88-7657-ca7933cb10cf","graph":{"connections":[{"fromId":"ae818c05-b17b-b43c-c155-ffbb34a12e71","fromProperty":"Message","toId":"09a73af4-881b-f9b5-9f5b-fe9817537693","toProperty":"text"}],"roots":[{"id":"f2fb839f-f2d7-62ba-e115-c978a100f5aa","type":"Group","x":-26.5,"y":77.5,"parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000026","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"height":{"value":56,"unit":"px"},"justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"09a73af4-881b-f9b5-9f5b-fe9817537693","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Medium"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"ae818c05-b17b-b43c-c155-ffbb34a12e71","type":"Component Inputs","x":-301.5,"y":117.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]}],"visualRoots":["f2fb839f-f2d7-62ba-e115-c978a100f5aa"]}},{"name":"/Components/Show Toast/Success","id":"28a8714f-1420-44d7-f612-690f6742d71d","graph":{"connections":[{"fromId":"12abb6c6-7389-e450-d232-2a787853db1d","fromProperty":"Message","toId":"675caeca-b2fc-7c5c-db18-118d5e91c501","toProperty":"text"}],"roots":[{"id":"609b572a-bc47-c2c3-3320-7bd85b5d4f29","type":"Group","x":-26.5,"y":77.5,"parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000019","borderWidth":{"value":1,"unit":"px"},"borderColor":"Success","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"13b145e7-4712-d825-b72f-55d4ad88d8c1","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#49AD7F3F","alignItems":"center","justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"2b84247f-0081-d689-5fc8-54b56c704fd1","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"check_circle"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Success"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"675caeca-b2fc-7c5c-db18-118d5e91c501","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"12abb6c6-7389-e450-d232-2a787853db1d","type":"Component Inputs","x":-301.5,"y":117.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]}],"visualRoots":["609b572a-bc47-c2c3-3320-7bd85b5d4f29"]}},{"name":"/Components/Show Toast/Toast Component","id":"925e97ea-8bfc-5a66-90dd-81a4c8b93a8b","graph":{"connections":[{"fromId":"1611c4ae-b9e5-1833-edca-cb71e20e3e0c","fromProperty":"didMount","toId":"4d148497-ca71-511d-e301-939bdffcf862","toProperty":"run"},{"fromId":"1611c4ae-b9e5-1833-edca-cb71e20e3e0c","fromProperty":"this","toId":"4d148497-ca71-511d-e301-939bdffcf862","toProperty":"in-This"},{"fromId":"1f7ac422-e08f-30c1-f37f-29ca5e77a6c5","fromProperty":"timerFinished","toId":"5559fb2c-e988-0dec-d618-2df488b482a2","toProperty":"to-No"},{"fromId":"5559fb2c-e988-0dec-d618-2df488b482a2","fromProperty":"reached-No","toId":"cd3dfc94-523e-b7f2-04df-c0b277b1b4f9","toProperty":"close"},{"fromId":"1611c4ae-b9e5-1833-edca-cb71e20e3e0c","fromProperty":"didMount","toId":"5559fb2c-e988-0dec-d618-2df488b482a2","toProperty":"to-Yes"},{"fromId":"5559fb2c-e988-0dec-d618-2df488b482a2","fromProperty":"Pos","toId":"8c8c9af5-ef15-7e92-be33-85a2f12ab2b7","toProperty":"transformY"},{"fromId":"1611c4ae-b9e5-1833-edca-cb71e20e3e0c","fromProperty":"didMount","toId":"1f7ac422-e08f-30c1-f37f-29ca5e77a6c5","toProperty":"start"},{"fromId":"f739066d-2849-1e5d-2583-d271c56ed498","fromProperty":"Message","toId":"1b89894e-fc18-f00e-c87b-8e440a9aa18f","toProperty":"in-Message"},{"fromId":"f739066d-2849-1e5d-2583-d271c56ed498","fromProperty":"Type","toId":"1b89894e-fc18-f00e-c87b-8e440a9aa18f","toProperty":"in-Type"},{"fromId":"1b89894e-fc18-f00e-c87b-8e440a9aa18f","fromProperty":"out-ToastType","toId":"85d9d0e4-48a5-a315-6680-d58d5cf56f79","toProperty":"items"}],"roots":[{"id":"1611c4ae-b9e5-1833-edca-cb71e20e3e0c","type":"Group","x":-22,"y":-39,"parameters":{"position":"absolute","pointerEventsEnabled":false,"mounted":true},"ports":[],"dynamicports":[],"children":[{"id":"8c8c9af5-ef15-7e92-be33-85a2f12ab2b7","type":"Group","label":"Toast","parameters":{"sizeMode":"contentSize","marginTop":{"value":24,"unit":"px"},"alignX":"center","alignY":"top","minWidth":{"value":150,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"85d9d0e4-48a5-a315-6680-d58d5cf56f79","type":"For Each","parameters":{"templateType":"dynamic","templateScript":"component = '../' + item.Type;"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["templateScript"]}}}]}]},{"id":"4d148497-ca71-511d-e301-939bdffcf862","type":"JavaScriptFunction","label":"Ensure click through","x":258.5,"y":-62.5,"parameters":{"functionScript":"// Make sure you can click through parent div\n// so it doesn't block like normal popups\nInputs.This.getDOMElement().style.pointerEvents = 'none'\nInputs.This.getDOMElement().parentElement.style.pointerEvents = 'none'"},"ports":[],"dynamicports":[{"name":"in-This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"1f7ac422-e08f-30c1-f37f-29ca5e77a6c5","type":"Timer","x":-269.5,"y":-49.5,"parameters":{"duration":3000},"ports":[],"dynamicports":[],"children":[]},{"id":"cd3dfc94-523e-b7f2-04df-c0b277b1b4f9","type":"NavigationClosePopup","x":-778.5,"y":69.5,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5559fb2c-e988-0dec-d618-2df488b482a2","type":"States","label":"Visible","x":-513.5,"y":5.5,"parameters":{"states":"Yes,No","values":"Pos","value-Yes-Pos":0,"value-No-Pos":-200,"currentState":"No"},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Pos","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Pos","name":"type-Pos","index":7},{"plug":"input","type":"number","group":"Yes Values","name":"value-Yes-Pos","displayName":"Pos","editorName":"Yes|Pos","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Yes Transitions","name":"transitiondef-Yes","index":9},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Yes Transitions","name":"transition-Yes-Pos","displayName":"Pos","editorName":"Transition Yes|Pos","index":10},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Yes","name":"to-Yes","group":"Go to state","index":11},{"plug":"output","type":"boolean","displayName":"At Yes","name":"at-Yes","group":"Current state","index":12},{"plug":"output","type":"signal","displayName":"Has Reached Yes","name":"reached-Yes","group":"Current state","index":13},{"plug":"input","type":"number","group":"No Values","name":"value-No-Pos","displayName":"Pos","editorName":"No|Pos","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"No Transitions","name":"transitiondef-No","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"No Transitions","name":"transition-No-Pos","displayName":"Pos","editorName":"Transition No|Pos","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To No","name":"to-No","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At No","name":"at-No","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached No","name":"reached-No","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["Yes","No"]},"group":"States","displayName":"State","name":"currentState","default":"Yes","index":20}],"children":[]},{"id":"f739066d-2849-1e5d-2583-d271c56ed498","type":"Component Inputs","x":542.5,"y":140.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Type","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"1b89894e-fc18-f00e-c87b-8e440a9aa18f","type":"JavaScriptFunction","x":279.91666666666663,"y":139.25,"parameters":{"functionScript":"Outputs.ToastType = [\n    {\n        Message:Inputs.Message,\n        Type:Inputs.Type\n    }\n]"},"ports":[],"dynamicports":[{"name":"in-Message","displayName":"Message","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Type","displayName":"Type","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-ToastType","displayName":"ToastType","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["1611c4ae-b9e5-1833-edca-cb71e20e3e0c"]}},{"name":"/Components/Show Toast/Warning","id":"91a3ae76-0cbe-d764-c8ca-bf1c69ae4fe1","graph":{"connections":[{"fromId":"018e04b3-235d-a4ff-2bc7-9f0676f55f3b","fromProperty":"Message","toId":"3a3c6e34-2e2e-e8ed-fdee-cec930e0b581","toProperty":"text"}],"roots":[{"id":"018e04b3-235d-a4ff-2bc7-9f0676f55f3b","type":"Component Inputs","x":-301.5,"y":117.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"7480378d-1303-dac3-34db-4996e1c0fe03","type":"Group","x":-42.5,"y":-21,"parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000033","borderWidth":{"value":1,"unit":"px"},"borderColor":"Notice","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"1e6f401b-1fa8-e466-4ee0-fe946058751d","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#F2C4413F","alignItems":"center","justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"21678355-5c6b-0dbf-73f4-5464b217bbb8","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"warning"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Notice"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"3a3c6e34-2e2e-e8ed-fdee-cec930e0b581","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}],"visualRoots":["7480378d-1303-dac3-34db-4996e1c0fe03"]}},{"name":"/Page/home","id":"4adce89f-51cd-b95b-aa4d-10cd55bfd599","graph":{"connections":[{"fromId":"975881a3-e3d2-ba31-755a-6c63b54fe66d","fromProperty":"didMount","toId":"353a3b9f-a3e2-57a8-04ba-cdd3285a8bd7","toProperty":"Do"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"Width","toId":"515214bd-a79c-3758-a16f-bce03a187a52","toProperty":"width"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"at-Open","toId":"82f14e8e-f22e-942a-318e-737bc5be33ee","toProperty":"Is Open"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"at-Closed","toId":"82f14e8e-f22e-942a-318e-737bc5be33ee","toProperty":"Is Closed"},{"fromId":"47a89711-f7c1-c387-11c9-29e198a8fe45","fromProperty":"onClick","toId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","toProperty":"to-Open"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"at-Closed","toId":"47a89711-f7c1-c387-11c9-29e198a8fe45","toProperty":"mounted"},{"fromId":"b54f0b70-9f33-b423-eba0-9addd3eaecf4","fromProperty":"state","toId":"620e4b03-a743-69e9-60c6-2ef67c2c9212","toProperty":"mounted"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"reached-Open","toId":"b54f0b70-9f33-b423-eba0-9addd3eaecf4","toProperty":"on"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"at-Closed","toId":"b54f0b70-9f33-b423-eba0-9addd3eaecf4","toProperty":"off"},{"fromId":"620e4b03-a743-69e9-60c6-2ef67c2c9212","fromProperty":"onClick","toId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","toProperty":"to-Closed"},{"fromId":"515214bd-a79c-3758-a16f-bce03a187a52","fromProperty":"focusLost","toId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","toProperty":"to-Closed"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"at-Open","toId":"a07c3165-465c-7b6e-3382-1432bde121f5","toProperty":"mounted"},{"fromId":"8f707ac1-bb88-c749-e8f3-d6e84e2cbc71","fromProperty":"savedValue","toId":"9fdeaf28-f1ad-3ea6-04ea-a2ffedfe4c8f","toProperty":"status"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"at-Open","toId":"63530ecc-b937-9260-2688-d581d9ff8f39","toProperty":"Visible"},{"fromId":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","fromProperty":"at-Open","toId":"33f9a71c-fc32-073c-1a17-22ca7f5f3cd4","toProperty":"Visible"},{"fromId":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","fromProperty":"out-DisasterId","toId":"63530ecc-b937-9260-2688-d581d9ff8f39","toProperty":"CurrentDisasterValue"},{"fromId":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","fromProperty":"out-DisasterId","toId":"33f9a71c-fc32-073c-1a17-22ca7f5f3cd4","toProperty":"CurrentDisasterValue"},{"fromId":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","fromProperty":"out-DisasterId","toId":"8a932089-7204-3100-0010-6bc170650522","toProperty":"documentId"},{"fromId":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","fromProperty":"out-DistrictId","toId":"8a932089-7204-3100-0010-6bc170650522","toProperty":"districtId"},{"fromId":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","fromProperty":"out-WardId","toId":"8a932089-7204-3100-0010-6bc170650522","toProperty":"wardId"},{"fromId":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","fromProperty":"out-ProvinceId","toId":"8a932089-7204-3100-0010-6bc170650522","toProperty":"provinceId"},{"fromId":"baf41f49-6cba-5ae4-14b8-e073b978e3de","fromProperty":"result","toId":"33f9a71c-fc32-073c-1a17-22ca7f5f3cd4","toProperty":"Mounted"},{"fromId":"baf41f49-6cba-5ae4-14b8-e073b978e3de","fromProperty":"isfalse","toId":"63530ecc-b937-9260-2688-d581d9ff8f39","toProperty":"Mounted"},{"fromId":"baf41f49-6cba-5ae4-14b8-e073b978e3de","fromProperty":"isfalse","toId":"94708485-8f4f-dbbd-e134-e57d11f48be8","toProperty":"mounted"},{"fromId":"826e1bf2-e5cc-7a11-91c7-430bfba6b50b","fromProperty":"hasOrganization","toId":"baf41f49-6cba-5ae4-14b8-e073b978e3de","toProperty":"condition"},{"fromId":"94708485-8f4f-dbbd-e134-e57d11f48be8","fromProperty":"onClick","toId":"174f3032-2fe4-1ca0-6011-a7487b667160","toProperty":"show"},{"fromId":"9fdeaf28-f1ad-3ea6-04ea-a2ffedfe4c8f","fromProperty":"Data","toId":"b01aac4a-cf65-3f72-b47f-d51085538ee2","toProperty":"Data"},{"fromId":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","fromProperty":"out-Done","toId":"9fdeaf28-f1ad-3ea6-04ea-a2ffedfe4c8f","toProperty":"Do"},{"fromId":"8a932089-7204-3100-0010-6bc170650522","fromProperty":"Response","toId":"d8778382-e9e4-c208-11f0-af6682e39b8d","toProperty":"in-Data"},{"fromId":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","fromProperty":"out-Done","toId":"8a932089-7204-3100-0010-6bc170650522","toProperty":"Fetch"},{"fromId":"9fdeaf28-f1ad-3ea6-04ea-a2ffedfe4c8f","fromProperty":"Data","toId":"01a9022f-c00d-b290-730b-28f9b7891be7","toProperty":"in-Data"},{"fromId":"975881a3-e3d2-ba31-755a-6c63b54fe66d","fromProperty":"didMount","toId":"3014028f-f206-b39b-4d8c-54910a0618fc","toProperty":"start"},{"fromId":"3014028f-f206-b39b-4d8c-54910a0618fc","fromProperty":"timerFinished","toId":"e913fafb-7ea7-45d6-9cf9-5e09f5936076","toProperty":"run"},{"fromId":"e913fafb-7ea7-45d6-9cf9-5e09f5936076","fromProperty":"result","toId":"e1d4db28-bb13-1bf5-3a6d-b6109eccffc9","toProperty":"mounted"},{"fromId":"e913fafb-7ea7-45d6-9cf9-5e09f5936076","fromProperty":"result","toId":"981105e2-d272-3be6-80b1-15a57a1d38c9","toProperty":"value"},{"fromId":"981105e2-d272-3be6-80b1-15a57a1d38c9","fromProperty":"result","toId":"5bf9bd33-6c21-7f47-492d-485a46273e94","toProperty":"mounted"}],"roots":[{"id":"975881a3-e3d2-ba31-755a-6c63b54fe66d","type":"Page","x":-100,"y":-13,"parameters":{"title":"Trang chủ","urlPath":"/home"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"home","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"trang-chủ","index":32}],"children":[{"id":"2d9603b0-acac-a347-4245-0b99f0c626c3","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"b0a25cd1-3f1d-902d-d922-0b0c4bb9df2e","type":"Group","label":"Sidebar ","parameters":{"width":{"value":56,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"515214bd-a79c-3758-a16f-bce03a187a52","type":"Group","label":"Expandable Menu Sheet","parameters":{"borderRightStyle":"solid","backgroundColor":"Grey - 200","borderRightWidth":{"value":1,"unit":"px"},"borderRightColor":"Grey - 400","clip":true,"position":"absolute","alignX":"left","zIndex":2,"marginRight":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"styleCss":"width: 100%;\r\nheight: calc(100vh - 80px);","sizeMode":"contentHeight","width":{"value":56,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"6fb097eb-7022-2079-0b76-2eea00191d9a","type":"Group","label":"Menu Top Section","parameters":{"height":{"value":56,"unit":"px"},"borderBottomStyle":"solid","borderBottomColor":"Grey - 400","justifyContent":"space-between","paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"alignItems":"center","borderBottomWidth":{"value":1,"unit":"px"},"flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"a07c3165-465c-7b6e-3382-1432bde121f5","type":"net.noodl.controls.button","label":"Company logo","parameters":{"useIcon":true,"paddingLeft":{"value":8,"unit":"px"},"backgroundColor":"transparent","iconColor":"Grey - 700","color":"Grey - 700","iconSize":{"value":24,"unit":"px"},"textStyle":"Body Medium","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","label":"Bộ lọc","iconSpacing":{"value":8,"unit":"px"},"useLabel":true,"iconSourceType":"icon","iconIconSource":{"class":"material-icons","code":"filter_list","codeAsClass":false}},"ports":[],"dynamicports":[],"children":[]},{"id":"47a89711-f7c1-c387-11c9-29e198a8fe45","type":"net.noodl.controls.button","label":"Menu Icon","parameters":{"useIcon":true,"iconColor":"Grey - 700","position":"relative","paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"sizeMode":"explicit","marginTop":{"value":0,"unit":"px"},"iconSize":{"value":24,"unit":"px"},"useLabel":false,"enabled":true,"width":{"value":36,"unit":"px"},"height":{"value":36,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"iconIconSource":{"class":"material-icons","code":"menu"},"backgroundColor":"transparent"},"stateParameters":{"hover":{"iconColor":"Grey - 900"}},"ports":[],"dynamicports":[],"children":[]},{"id":"620e4b03-a743-69e9-60c6-2ef67c2c9212","type":"net.noodl.controls.button","label":"Close Icon","parameters":{"useIcon":true,"iconColor":"Grey - 700","backgroundColor":"transparent","position":"relative","paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"sizeMode":"explicit","marginTop":{"value":0,"unit":"px"},"iconSize":{"value":24,"unit":"px"},"useLabel":false,"enabled":true,"width":{"value":36,"unit":"px"},"height":{"value":36,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"iconIconSource":{"class":"material-icons","code":"close"}},"stateParameters":{"hover":{"iconColor":"Grey - 900"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"63530ecc-b937-9260-2688-d581d9ff8f39","type":"/Page/home/GuestFilter","label":"GuestFilter","parameters":{"Visible":false,"Mounted":false},"ports":[],"dynamicports":[],"children":[]},{"id":"33f9a71c-fc32-073c-1a17-22ca7f5f3cd4","type":"/Page/home/OrganizationFilter","label":"OrganizationFilter","parameters":{"Visible":false},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"002756af-2464-dece-57dc-da33382cebc8","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"b01aac4a-cf65-3f72-b47f-d51085538ee2","type":"/Page/home/CurrentDisaster","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5bf9bd33-6c21-7f47-492d-485a46273e94","type":"Group","parameters":{"backgroundColor":"Grey - 200","mounted":false,"sizeMode":"contentHeight","styleCss":"/* background-color: red; */\r\nwidth: 100%;\r\nheight: calc(100vh - 80px);"},"ports":[],"dynamicports":[],"children":[{"id":"54c60dab-1aa9-5c95-14c7-eccab56695e9","type":"Text","parameters":{"textAlignX":"center","sizeMode":"explicit","textAlignY":"center","text":"Đang tải...","textStyle":"Title Small","color":"Grey - 700"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"e1d4db28-bb13-1bf5-3a6d-b6109eccffc9","type":"module.inlineHtml","label":"Map","parameters":{"html":"<div id=\"map\" style=\"width: 100%; height: 100%; border-radius: 4px\"></div>\r\n<script>\r\n  //NOTE: Tính tọa độ giữa tỉnh (các tỉnh đang bị thiên tai)\r\n  function calculateCenter(points) {\r\n    if (!points || points.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    let totalX = 0,\r\n      totalY = 0;\r\n\r\n    points.forEach((point) => {\r\n      totalX += point.lng;\r\n      totalY += point.lat;\r\n    });\r\n\r\n    const centerX = totalX / points.length;\r\n    const centerY = totalY / points.length;\r\n\r\n    return { lng: centerX, lat: centerY };\r\n  }\r\n\r\n  //NOTE: Tính mức zoom\r\n  function calculateZoom(points) {\r\n    let maxDistance = 0;\r\n    points.forEach((point1) => {\r\n      points.forEach((point2) => {\r\n        const distance = Math.sqrt(\r\n          Math.pow(point1.lat - point2.lat, 2) + Math.pow(point1.lng - point2.lng, 2)\r\n        );\r\n        if (distance > maxDistance) maxDistance = distance;\r\n      });\r\n    });\r\n\r\n    // Quy đổi khoảng cách thành mức zoom\r\n    // Bạn có thể điều chỉnh giá trị này dựa trên kích thước bản đồ\r\n    if (maxDistance > 1) return 5; // Zoom out xa hơn nếu khoảng cách lớn\r\n    if (maxDistance > 0.5) return 8; // Trung bình\r\n    return 10; // Zoom gần\r\n  }\r\n\r\n  //NOTE: Hàm chuẩn hóa chuỗi\r\n  function normalizeString(str) {\r\n    return str\r\n      .replace(/Tỉnh/g, \"\")\r\n      .replace(/Thành phố/g, \"\")\r\n      .trim(); // Xóa khoảng trắng đầu và cuối chuỗi\r\n  }\r\n\r\n  function updatePosition(position) {\r\n    const { latitude, longitude } = position.coords;\r\n    marker.setLngLat([longitude, latitude]);\r\n    map.setCenter([longitude, latitude]);\r\n  }\r\n\r\n  function createMapbox() {\r\n    mapboxgl.accessToken =\r\n      \"pk.eyJ1IjoiZGhpZXAyMzA3IiwiYSI6ImNtNDRpeDFtejBuNzkycHB6bXp6eWZ1MTQifQ.169cDiC_Q2YWzRBdIxxgPg\";\r\n\r\n    const provinces = localStorage.getItem(\"provinces\")\r\n      ? JSON.parse(localStorage.getItem(\"provinces\"))\r\n      : [];\r\n\r\n    const locations = localStorage.getItem(\"locations\")\r\n      ? JSON.parse(localStorage.getItem(\"locations\"))\r\n      : [];\r\n\r\n    const provinceNames = provinces?.map((province) => normalizeString(province.name));\r\n\r\n    let center = {\r\n      lng: 108,\r\n      lat: 14,\r\n    };\r\n\r\n    if (provinces.length > 0) {\r\n      const posList = provinces.map((province) => province.location);\r\n      center = calculateCenter(posList);\r\n    }\r\n\r\n    map = new mapboxgl.Map({\r\n      style: \"mapbox://styles/dhiep2307/cm44mghvy011l01sd5cci6k20\", // stylesheet location\r\n      container: \"map\",\r\n      center: [center.lng, center.lat],\r\n      zoom: 8,\r\n    });\r\n\r\n    //========NOTE: Tạo map\r\n    marker = new mapboxgl.Marker();\r\n\r\n    function updatePosition(position) {\r\n      const { latitude, longitude } = position.coords;\r\n      marker.setLngLat([longitude, latitude]);\r\n    }\r\n\r\n    map.on(\"load\", function () {\r\n      if (!navigator.geolocation) {\r\n        console.log(\"Lỗi lấy vị trí\", error);\r\n      } else {\r\n        navigator.geolocation.getCurrentPosition(async (position) => {\r\n          const { latitude, longitude } = position.coords;\r\n\r\n          marker.setLngLat([longitude, latitude]).addTo(map);\r\n\r\n          const popup = new mapboxgl.Popup({\r\n            offset: 25,\r\n            closeOnClick: true,\r\n            closeButton: true,\r\n          }).setHTML(`\r\n              <h3 style=\"font-size: 18px; font-weight: bold; color: #333; margin: 0 0 10px 0;\">Vị trí của bạn</h3>\r\n          `);\r\n\r\n          marker.setPopup(popup);\r\n          \r\n          map.setCenter([longitude, latitude]);\r\n\r\n          navigator.geolocation.watchPosition(\r\n            updatePosition, //Cập nhật lại vị trí, khi vị trí thay đổi\r\n            (error) => {\r\n              console.error(\"Lỗi lấy vị trí:\", error);\r\n            },\r\n            {\r\n              enableHighAccuracy: true, // Sử dụng GPS chính xác\r\n              maximumAge: 300,\r\n            }\r\n          );\r\n        });\r\n      }\r\n\r\n      //========NOTE: Thêm marker cho SOS Request\r\n      if (locations.length > 0) {\r\n        locations.map((location) => {\r\n          const marker2 = new mapboxgl.Marker({ color: \"red\" })\r\n            .setLngLat([location.lng, location.lat]) // Vị trí\r\n            .addTo(map);\r\n\r\n          const popup = new mapboxgl.Popup({\r\n            offset: 25,\r\n            closeOnClick: true,\r\n            closeButton: true,\r\n          }).setHTML(`\r\n              <h3 style=\"font-size: 18px; font-weight: bold; color: #333; margin: 0 0 10px 0;\">${location?.description}</h3>\r\n              <a style=\"\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                gap: 5px;\r\n                font-size: 14px;\r\n                text-decoration: none;\r\n                padding: 8px 12px;\r\n                border-radius: 6px;\r\n                background: linear-gradient(to right, #2ecc71, #27ae60);\r\n                color: white;\r\n                font-weight: 700;\r\n                transition: all 0.3s ease;\r\n                box-shadow: 0 2px 4px rgba(46,204,113,0.2);\r\n              \" href=\"tel://${location?.phone}\">\r\n                <svg style=\"width: 16px; height: 16px;\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"/>\r\n                </svg>\r\n                ${location?.phone}\r\n              </a>\r\n          `);\r\n\r\n          marker2.setPopup(popup);\r\n        });\r\n      }\r\n\r\n      //========NOTE: Thêm các layer\r\n\r\n      map.addSource(\"diaphanhuyen-4apinm\", {\r\n        type: \"vector\",\r\n        url: \"mapbox://dhiep2307.0va1jnhw\",\r\n      });\r\n\r\n      // Thêm layer tỉnh\r\n      if (provinces.length > 0) {\r\n        map.addLayer({\r\n          id: \"loc-tinh\",\r\n          type: \"fill\",\r\n          source: \"diaphanhuyen-4apinm\",\r\n          \"source-layer\": \"diaphanhuyen-4apinm\",\r\n          layout: {},\r\n          paint: {\r\n            \"fill-color\": \"#ff6666\",\r\n            \"fill-opacity\": 0.2,\r\n          },\r\n          filter: [\"in\", \"Ten_Tinh\", ...provinceNames],\r\n        });\r\n\r\n        provinces.forEach((e) => {\r\n          map.addLayer({\r\n            id: \"text-layer-tinh-\" + e.name,\r\n            type: \"symbol\",\r\n            source: {\r\n              type: \"geojson\",\r\n              data: {\r\n                type: \"FeatureCollection\",\r\n                features: [\r\n                  {\r\n                    type: \"Feature\",\r\n                    geometry: {\r\n                      type: \"Point\",\r\n                      coordinates: [e.location.lng, e.location.lat],\r\n                    },\r\n                    properties: {\r\n                      title: `${e.name}`, // Văn bản sẽ hiển thị\r\n                    },\r\n                  },\r\n                ],\r\n              },\r\n            },\r\n            layout: {\r\n              \"text-field\": [\"get\", \"title\"], // Lấy giá trị từ thuộc tính 'title' để hiển thị\r\n              \"text-size\": [\r\n                \"interpolate\", // Biểu thức interpolate giúp thay đổi kích thước theo zoom\r\n                [\"linear\"], // Mức độ thay đổi là tuyến tính\r\n                [\"zoom\"], // Sử dụng zoom level để điều chỉnh\r\n                5,\r\n                9, // Zoom level 5: 10px (kích thước chữ nhỏ)\r\n                15,\r\n                30, // Zoom level 15: 30px (kích thước chữ lớn)\r\n              ], // Kích thước chữ\r\n              \"text-anchor\": \"center\", // Căn chỉnh chữ theo giữa điểm\r\n              \"text-offset\": [0, 0], // Định vị trí chữ (tùy chọn)\r\n            },\r\n            paint: {\r\n              \"text-color\": \"#186bf0\", // Màu chữ\r\n              \"text-halo-color\": \"#FFFFFF\", // Màu viền chữ\r\n              \"text-halo-width\": 2, // Độ rộng viền chữ\r\n            },\r\n          });\r\n        });\r\n      }\r\n\r\n      //Thêm các chức năng zoom, xoay bản đồ\r\n      map.addControl(new mapboxgl.NavigationControl());\r\n      map.addControl(new mapboxgl.FullscreenControl());\r\n\r\n      //Thêm layer Hoàng sa, Trường sa, Biển đông\r\n      map.addLayer({\r\n        id: \"text-layer-truong-sa\",\r\n        type: \"symbol\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"FeatureCollection\",\r\n            features: [\r\n              {\r\n                type: \"Feature\",\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [113.81768, 9.46653],\r\n                },\r\n                properties: {\r\n                  title: \"Quần đảo Trường Sa (Việt Nam)\",\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        },\r\n        layout: {\r\n          \"text-field\": [\"get\", \"title\"], // Lấy giá trị từ thuộc tính 'title' để hiển thị\r\n          \"text-size\": [\r\n            \"interpolate\", // Biểu thức interpolate giúp thay đổi kích thước theo zoom\r\n            [\"linear\"], // Mức độ thay đổi là tuyến tính\r\n            [\"zoom\"], // Sử dụng zoom level để điều chỉnh\r\n            5,\r\n            9, // Zoom level 5: 10px (kích thước chữ nhỏ)\r\n            15,\r\n            30, // Zoom level 15: 30px (kích thước chữ lớn)\r\n          ], // Kích thước chữ\r\n          \"text-anchor\": \"center\", // Căn chỉnh chữ theo giữa điểm\r\n          \"text-offset\": [0, 0], // Định vị trí chữ (tùy chọn)\r\n        },\r\n        paint: {\r\n          \"text-color\": \"#186bf0\", // Màu chữ\r\n          \"text-halo-color\": \"#FFFFFF\", // Màu viền chữ\r\n          \"text-halo-width\": 2, // Độ rộng viền chữ\r\n        },\r\n      });\r\n\r\n      map.addLayer({\r\n        id: \"text-layer-hoang-sa\",\r\n        type: \"symbol\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"FeatureCollection\",\r\n            features: [\r\n              {\r\n                type: \"Feature\",\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [111.90739, 16.50884],\r\n                },\r\n                properties: {\r\n                  title: \"Quần đảo Hoàng Sa (Việt Nam)\", // Văn bản sẽ hiển thị\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        },\r\n        layout: {\r\n          \"text-field\": [\"get\", \"title\"], // Lấy giá trị từ thuộc tính 'title' để hiển thị\r\n          \"text-size\": [\r\n            \"interpolate\", // Biểu thức interpolate giúp thay đổi kích thước theo zoom\r\n            [\"linear\"], // Mức độ thay đổi là tuyến tính\r\n            [\"zoom\"], // Sử dụng zoom level để điều chỉnh\r\n            5,\r\n            9, // Zoom level 5: 10px (kích thước chữ nhỏ)\r\n            15,\r\n            30, // Zoom level 15: 30px (kích thước chữ lớn)\r\n          ], // Kích thước chữ\r\n          \"text-anchor\": \"center\", // Căn chỉnh chữ theo giữa điểm\r\n          \"text-offset\": [0, 0], // Định vị trí chữ (tùy chọn)\r\n        },\r\n        paint: {\r\n          \"text-color\": \"#186bf0\", // Màu chữ\r\n          \"text-halo-color\": \"#FFFFFF\", // Màu viền chữ\r\n          \"text-halo-width\": 2, // Độ rộng viền chữ\r\n        },\r\n      });\r\n\r\n      map.addLayer({\r\n        id: \"text-layer-bien-dong\",\r\n        type: \"symbol\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"FeatureCollection\",\r\n            features: [\r\n              {\r\n                type: \"Feature\",\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [113.23996, 13.84156],\r\n                },\r\n                properties: {\r\n                  title: \"Biển Đông\", // Văn bản sẽ hiển thị\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        },\r\n        layout: {\r\n          \"text-field\": [\"get\", \"title\"], // Lấy giá trị từ thuộc tính 'title' để hiển thị\r\n          \"text-size\": [\r\n            \"interpolate\", // Biểu thức interpolate giúp thay đổi kích thước theo zoom\r\n            [\"linear\"], // Mức độ thay đổi là tuyến tính\r\n            [\"zoom\"], // Sử dụng zoom level để điều chỉnh\r\n            14,\r\n            16, // Zoom level 5: 10px (kích thước chữ nhỏ)\r\n            18,\r\n            30, // Zoom level 15: 30px (kích thước chữ lớn)\r\n          ], // Kích thước chữ\r\n          \"text-anchor\": \"center\", // Căn chỉnh chữ theo giữa điểm\r\n          \"text-offset\": [0, 0], // Định vị trí chữ (tùy chọn)\r\n        },\r\n        paint: {\r\n          \"text-color\": \"#186bf0\", // Màu chữ\r\n          \"text-halo-color\": \"#FFFFFF\", // Màu viền chữ\r\n          \"text-halo-width\": 2, // Độ rộng viền chữ\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  createMapbox();\r\n</script>\r\n","runJs":true,"styleCss":"width: 100%;\r\nheight: calc(100vh - 80px);","mounted":false},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"94708485-8f4f-dbbd-e134-e57d11f48be8","type":"net.noodl.controls.button","label":"RequestButton","parameters":{"position":"absolute","zIndex":1,"label":"YÊU CẦU HỖ TRỢ","backgroundColor":"#EF4444","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","boxShadowEnabled":false,"alignX":"center","alignY":"bottom","useIcon":true,"iconIconSource":{"class":"material-icons","code":"warning","codeAsClass":false},"iconSize":{"value":32,"unit":"px"},"sizeMode":"contentWidth","fontSize":{"value":18,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"height":{"value":80,"unit":"px"},"width":{"value":100,"unit":"%","isFixed":true},"minWidth":{"value":300,"unit":"px"},"marginBottom":{"value":32,"unit":"px"},"cssClassName":"map"},"stateParameters":{"hover":{"backgroundColor":"#F21313"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"7c9a05ab-acf7-1557-0363-5c85d620fb41","type":"CSS Definition","x":-283.3258190529533,"y":159.01512609075496,"parameters":{"style":".noFilter {\r\n    width: 100%;\r\n    height: calc(100vh - 80px);\r\n}\r\n\r\n.withFilter {\r\n    width: 100%;\r\n    height: calc(100vh - 180px);\r\n}"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["style"]}}},{"id":"826e1bf2-e5cc-7a11-91c7-430bfba6b50b","type":"/#Logic/CurrentOrganization","x":-276.66746919800704,"y":929.228621170611,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"353a3b9f-a3e2-57a8-04ba-cdd3285a8bd7","type":"/#Logic/GetLocation","x":-283.7101016938932,"y":195.04822180166929,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f5fb625b-245e-9207-e9ae-1f50c0f8c29b","type":"States","label":"States","x":-283.457604273991,"y":267.4333196950478,"parameters":{"states":"Open,Closed","currentState":"Closed","values":"Width,Opacity","value-Open-Width":300,"value-Closed-Width":56,"transitiondef-Open":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"type-icon":"string","value-Open-icon":"close","value-Closed-icon":"menu","value-Open-Opacity":1,"value-Closed-Opacity":0},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Width","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Width","name":"type-Width","index":7},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Opacity","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Opacity","name":"type-Opacity","index":9},{"plug":"input","type":"number","group":"Open Values","name":"value-Open-Width","displayName":"Width","editorName":"Open|Width","index":10},{"plug":"input","type":"number","group":"Open Values","name":"value-Open-Opacity","displayName":"Opacity","editorName":"Open|Opacity","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Open Transitions","name":"transitiondef-Open","index":12},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Open Transitions","name":"transition-Open-Width","displayName":"Width","editorName":"Transition Open|Width","index":13},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Open Transitions","name":"transition-Open-Opacity","displayName":"Opacity","editorName":"Transition Open|Opacity","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Open","name":"to-Open","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At Open","name":"at-Open","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached Open","name":"reached-Open","group":"Current state","index":17},{"plug":"input","type":"number","group":"Closed Values","name":"value-Closed-Width","displayName":"Width","editorName":"Closed|Width","index":18},{"plug":"input","type":"number","group":"Closed Values","name":"value-Closed-Opacity","displayName":"Opacity","editorName":"Closed|Opacity","index":19},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Closed Transitions","name":"transitiondef-Closed","index":20},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Closed Transitions","name":"transition-Closed-Width","displayName":"Width","editorName":"Transition Closed|Width","index":21},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Closed Transitions","name":"transition-Closed-Opacity","displayName":"Opacity","editorName":"Transition Closed|Opacity","index":22},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Closed","name":"to-Closed","group":"Go to state","index":23},{"plug":"output","type":"boolean","displayName":"At Closed","name":"at-Closed","group":"Current state","index":24},{"plug":"output","type":"signal","displayName":"Has Reached Closed","name":"reached-Closed","group":"Current state","index":25},{"plug":"input","type":{"name":"enum","enums":["Open","Closed"]},"group":"States","displayName":"State","name":"currentState","default":"Open","index":26}],"children":[]},{"id":"82f14e8e-f22e-942a-318e-737bc5be33ee","type":"Component Outputs","x":-286.4217198359888,"y":587.0994764410551,"parameters":{},"ports":[{"name":"Is Open","plug":"input","type":{"name":"*"},"index":0,"group":"State"},{"name":"Is Closed","plug":"input","type":{"name":"*"},"index":1,"group":"State"}],"dynamicports":[],"children":[]},{"id":"b54f0b70-9f33-b423-eba0-9addd3eaecf4","type":"Switch","label":"Only show close icon when menu is open","x":-286.457604273991,"y":442.4333196950478,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9fdeaf28-f1ad-3ea6-04ea-a2ffedfe4c8f","type":"/#Logic/GetDisasters","x":188.65202366084964,"y":904.5823762372717,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8f707ac1-bb88-c749-e8f3-d6e84e2cbc71","type":"Number","x":188.45910980939357,"y":830.5633765459102,"parameters":{"value":2},"ports":[],"dynamicports":[],"children":[]},{"id":"d19b1e5e-a82a-1dfd-e78c-758fb6d1d752","type":"JavaScriptFunction","x":453.84204071052693,"y":787.7033277506973,"parameters":{"functionScript":"const url = window.location.href;\r\nconst urlParams = new URLSearchParams(window.location.search);\r\nconst disasterId = urlParams.get('disasterId');\r\nconst provinceId = urlParams.get('provinceId');\r\nconst districtId = urlParams.get('districtId');\r\nconst wardId = urlParams.get('wardId');\r\n\r\nif (disasterId) {\r\n    Outputs.DisasterId = disasterId;\r\n    Outputs.Done();\r\n    return;\r\n}\r\n\r\nif(provinceId) {\r\n    Outputs.ProvinceId = provinceId;\r\n    Outputs.Done();\r\n    return;\r\n}\r\n\r\nif(districtId) {\r\n    Outputs.DistrictId = districtId;\r\n    Outputs.Done();\r\n    return;\r\n}\r\n\r\nif(wardId) {\r\n    Outputs.WardId = wardId;\r\n    Outputs.Done();\r\n    return;\r\n}\r\n\r\nOutputs.Done();"},"ports":[],"dynamicports":[{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-DisasterId","displayName":"DisasterId","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-ProvinceId","displayName":"ProvinceId","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-DistrictId","displayName":"DistrictId","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-WardId","displayName":"WardId","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"c494d0c9-1135-7067-a3f2-022fe7d197f4","type":"PageInputs","x":452.72365128474496,"y":750.7654855877763,"parameters":{"queryParams":"disasterId,provinceId,districtId,wardId"},"ports":[],"dynamicports":[{"name":"pm-disasterId","displayName":"disasterId","type":"*","plug":"output","group":"Parameters","index":2},{"name":"pm-provinceId","displayName":"provinceId","type":"*","plug":"output","group":"Parameters","index":3},{"name":"pm-districtId","displayName":"districtId","type":"*","plug":"output","group":"Parameters","index":4},{"name":"pm-wardId","displayName":"wardId","type":"*","plug":"output","group":"Parameters","index":5}],"children":[]},{"id":"8a932089-7204-3100-0010-6bc170650522","type":"/#Logic/GetRequests","x":452.62151955922934,"y":942.4807490012718,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"baf41f49-6cba-5ae4-14b8-e073b978e3de","type":"Condition","label":"hasOrganization?","x":-276.3298174298849,"y":1014.9817429884905,"parameters":{"condition":false},"ports":[],"dynamicports":[],"children":[]},{"id":"174f3032-2fe4-1ca0-6011-a7487b667160","type":"NavigationShowPopup","x":-276.3298174298849,"y":1121.9817429884906,"parameters":{"target":"/Components/Popup/Request Modal"},"ports":[],"dynamicports":[{"name":"closeAction-Confirmed","displayName":"Confirmed","type":"signal","plug":"output","group":"Close Actions","index":3}],"children":[]},{"id":"01a9022f-c00d-b290-730b-28f9b7891be7","type":"JavaScriptFunction","x":188.58476932687574,"y":998.5431365835686,"parameters":{"functionScript":"localStorage.removeItem(\"provinces\");\r\n\r\nconst Data = Inputs.Data;\r\n\r\nfunction extractProvincesFromObject(data) {\r\n  return data?.Provinces?.map((province) => ({\r\n    name: province.FullName,\r\n    location: {\r\n      lat: parseFloat(province.Latitude) || 0,\r\n      lng: parseFloat(province.Longitude) || 0,\r\n    },\r\n  }));\r\n}\r\n\r\nfunction extractProvincesFromArray(data) {\r\n  const seen = new Set();\r\n  return data\r\n    .flatMap((item) =>\r\n      item.Provinces.map((province) => ({\r\n        name: province.FullName,\r\n        location: {\r\n          lat: parseFloat(province.Latitude) || 0,\r\n          lng: parseFloat(province.Longitude) || 0,\r\n        },\r\n      }))\r\n    )\r\n    .filter((province) => {\r\n      if (seen.has(province.name)) {\r\n        return false;\r\n      } else {\r\n        seen.add(province.name);\r\n        return true;\r\n      }\r\n    });\r\n}\r\n\r\nif (Data) {\r\n  const provinces = Array.isArray(Data)\r\n    ? extractProvincesFromArray(Data)\r\n    : extractProvincesFromObject(Data);\r\n\r\n  if (provinces !== undefined) {\r\n    localStorage.setItem(\"provinces\", JSON.stringify(provinces));\r\n    Outputs.ProvinceList = JSON.stringify(provinces);\r\n    Outputs.Success = true;\r\n    return;\r\n  }\r\n}\r\n\r\nOutputs.Success = false;\r\n"},"ports":[],"dynamicports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ProvinceList","displayName":"ProvinceList","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d8778382-e9e4-c208-11f0-af6682e39b8d","type":"JavaScriptFunction","x":449.63349186195114,"y":1117.984928478903,"parameters":{"functionScript":"localStorage.removeItem(\"locations\");\r\n\r\nconst Data = Inputs.Data;\r\n\r\nfunction extractLocationsFromObject(data) {\r\n  return {\r\n    description: data.FullName,\r\n    phone: data.PhoneNumber,\r\n    lat: data.Location?.lat ? parseFloat(data.Location.lat) : 0,\r\n    lng: data.Location?.lng ? parseFloat(data.Location.lng) : 0,\r\n  };\r\n}\r\n\r\nfunction extractLocationsFromArray(data) {\r\n  const seen = new Set();\r\n  return data\r\n    .map((item) => ({\r\n      description: item.FullName,\r\n      phone: item.PhoneNumber,\r\n      lat: item.Location?.lat ? parseFloat(item.Location.lat) : 0,\r\n      lng: item.Location?.lng ? parseFloat(item.Location.lng) : 0,\r\n    }))\r\n    .filter((location) => {\r\n      if (seen.has(location.description)) {\r\n        return false;\r\n      } else {\r\n        seen.add(location.description);\r\n        return true;\r\n      }\r\n    })\r\n    .filter((loc) => !(loc.lat === 0 && loc.lng === 0));\r\n}\r\n\r\nif (Data) {\r\n  const locations = Array.isArray(Data)\r\n    ? extractLocationsFromArray(Data)\r\n    : extractLocationsFromObject(Data);\r\n\r\n  if (locations !== undefined) {\r\n    localStorage.setItem(\"locations\", JSON.stringify(locations));\r\n    Outputs.LocationList = JSON.stringify(locations);\r\n    Outputs.Success = true;\r\n    return;\r\n  }\r\n}\r\n\r\nOutputs.Success = false;\r\n"},"ports":[],"dynamicports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-LocationList","displayName":"LocationList","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"3014028f-f206-b39b-4d8c-54910a0618fc","type":"Timer","x":189.22566043033237,"y":736.895625910629,"parameters":{"duration":2000},"ports":[],"dynamicports":[],"children":[]},{"id":"e913fafb-7ea7-45d6-9cf9-5e09f5936076","type":"Expression","x":186.76693329413604,"y":1071.2843800460216,"parameters":{"expression":"true"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"981105e2-d272-3be6-80b1-15a57a1d38c9","type":"Inverter","x":152.60703606463807,"y":1205.5392063626302,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["975881a3-e3d2-ba31-755a-6c63b54fe66d"]}},{"name":"/Page/home/CurrentDisaster","id":"5c3d124b-e5a7-0cd2-33c9-f2938cf90079","graph":{"connections":[{"fromId":"37a052ec-ad31-3d09-8800-30aaeef999fb","fromProperty":"out-ProvinceList","toId":"643cb271-2453-6434-4876-8c3cd84e8590","toProperty":"items"},{"fromId":"37a052ec-ad31-3d09-8800-30aaeef999fb","fromProperty":"out-Data","toId":"72516701-3c07-e366-16ee-478d111df53d","toProperty":"items"},{"fromId":"37a052ec-ad31-3d09-8800-30aaeef999fb","fromProperty":"out-Message","toId":"b3e10f57-93cf-2522-bc72-eab2a9e2c49d","toProperty":"text"},{"fromId":"7600672b-924e-5d72-016a-9297fc98fdbd","fromProperty":"Data","toId":"37a052ec-ad31-3d09-8800-30aaeef999fb","toProperty":"in-Data"}],"roots":[{"id":"40ac6488-f86c-ec3f-7e56-9658e3f5a2cd","type":"Group","x":792,"y":286,"parameters":{"position":"absolute","zIndex":1,"paddingTop":{"value":8,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"marginBottom":{"value":16,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"transformX":{"value":16,"unit":"px"},"transformY":{"value":16,"unit":"px"},"mounted":true,"flexDirection":"column","rowGap":{"value":16,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[{"id":"8949bc2e-3408-e8ea-52ee-1f516af1a1e5","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"flexWrap":"wrap-reverse","rowGap":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"72516701-3c07-e366-16ee-478d111df53d","type":"For Each","parameters":{"template":"/Page/home/CurrentDisaster/DisasterList"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]},{"id":"bd64d3d1-016d-eacc-d066-e4b9ff74f7b1","type":"Group","parameters":{"paddingTop":{"value":16,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingBottom":{"value":16,"unit":"px"},"backgroundColor":"#FFFFFFB2","borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentSize","rowGap":{"value":4,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"b3e10f57-93cf-2522-bc72-eab2a9e2c49d","type":"Text","label":"","parameters":{"fontSize":{"value":18,"unit":"px"},"fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","color":"Danger","sizeMode":"contentSize","text":""},"ports":[],"dynamicports":[],"children":[]},{"id":"643cb271-2453-6434-4876-8c3cd84e8590","type":"For Each","parameters":{"template":"/Page/home/CurrentDisaster/ProvinceList"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]}]},{"id":"7600672b-924e-5d72-016a-9297fc98fdbd","type":"Component Inputs","x":792.5,"y":212.5,"parameters":{},"ports":[{"name":"Data","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"37a052ec-ad31-3d09-8800-30aaeef999fb","type":"JavaScriptFunction","x":528.75,"y":356.25,"parameters":{"functionScript":"const data = Inputs.Data;\r\n\r\nif(data && Array.isArray(data) && data.length > 0) {\r\n    const provinceList = data.length === 1 \r\n        ? data[0].Provinces.map(province => ({\r\n            id: province.id,\r\n            Name: province.Name,\r\n            NameEn: province.NameEn,\r\n            FullName: province.FullName,\r\n            FullNameEn: province.FullNameEn,\r\n            Latitude: province.Latitude,\r\n            Longitude: province.Longitude\r\n        }))\r\n        : data.reduce((acc, item) => [...acc, ...item?.Provinces], [])\r\n          .map(province => ({\r\n              id: province.id,\r\n              Name: province.Name,\r\n              NameEn: province.NameEn,\r\n              FullName: province.FullName,\r\n              FullNameEn: province.FullNameEn,\r\n              Latitude: province.Latitude,\r\n              Longitude: province.Longitude\r\n          }));\r\n    Outputs.Data = data;\r\n    Outputs.ProvinceList = provinceList;\r\n} \r\n\r\nif(data && typeof data === 'object' && !Array.isArray(data)) {\r\n    Outputs.Data = [data];\r\n    Outputs.ProvinceList = data.Provinces || [];\r\n}\r\n\r\nif(data === []) {\r\n    Outputs.Message = 'Hiện không có thiên tai';\r\n} else {\r\n    Outputs.Message = 'Các tỉnh đang bị ảnh hưởng';\r\n}"},"ports":[],"dynamicports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-ProvinceList","displayName":"ProvinceList","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Message","displayName":"Message","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["40ac6488-f86c-ec3f-7e56-9658e3f5a2cd"]}},{"name":"/Page/home/CurrentDisaster/DisasterList","id":"9ed94e43-48a6-1357-5db7-b7e12d768b35","graph":{"connections":[{"fromId":"2426954a-d730-c5ab-48b2-08d967671bb4","fromProperty":"prop-Name","toId":"54c4863f-9d78-6366-a5dd-51fe549282b4","toProperty":"text"}],"roots":[{"id":"00ba8bed-9e45-5186-3c9a-5836c402a7a1","type":"Group","x":959,"y":493,"parameters":{"flexDirection":"row","alignContent":"flex-start","rowGap":{"value":4,"unit":"px"},"columnGap":{"value":4,"unit":"px"},"backgroundColor":"Danger","sizeMode":"contentSize","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"alignItems":"center","borderRadius":{"value":9999,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"d59b5317-0870-7b5a-f57e-a3b1b4840dfc","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"warning","codeAsClass":false},"iconSize":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"54c4863f-9d78-6366-a5dd-51fe549282b4","type":"Text","parameters":{"text":"Thiên tai hiện tại","sizeMode":"contentSize","color":"Grey - 200","fontFamily":"build/fonts/Roboto/Roboto-Black.ttf","fontSize":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"2426954a-d730-c5ab-48b2-08d967671bb4","type":"Model2","x":781.5,"y":526,"parameters":{"properties":"Name","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Name","displayName":"Name","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Name Changed","name":"changed-Name","index":8}],"children":[]}],"visualRoots":["00ba8bed-9e45-5186-3c9a-5836c402a7a1"]}},{"name":"/Page/home/CurrentDisaster/ProvinceList","id":"87423ac6-13e9-0425-7f3e-e5e4f4fec4cb","graph":{"connections":[{"fromId":"455b64d2-03ef-884f-47d2-86bfc9a0ff91","fromProperty":"prop-FullName","toId":"445ee02c-1e1b-b442-ab96-f5a13f1e8bf6","toProperty":"text"},{"fromId":"455b64d2-03ef-884f-47d2-86bfc9a0ff91","fromProperty":"prop-fullName","toId":"445ee02c-1e1b-b442-ab96-f5a13f1e8bf6","toProperty":"text"}],"roots":[{"id":"a8af4ed7-6aa2-3856-8f2d-81b0291574f3","type":"Group","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"445ee02c-1e1b-b442-ab96-f5a13f1e8bf6","type":"Text","parameters":{"text":"","fontFamily":"build/fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"455b64d2-03ef-884f-47d2-86bfc9a0ff91","type":"Model2","x":-198.5,"y":11,"parameters":{"idSource":"foreach","properties":"FullName,fullName"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-FullName","displayName":"FullName","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"FullName Changed","name":"changed-FullName","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-fullName","displayName":"fullName","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"fullName Changed","name":"changed-fullName","index":10}],"children":[]}],"visualRoots":["a8af4ed7-6aa2-3856-8f2d-81b0291574f3"]}},{"name":"/Page/home/GetDisasterById","id":"fc68b727-37be-d026-0a32-e8476d1f09f7","graph":{"connections":[{"fromId":"6f1cd425-825e-3b04-6a2a-57ca6b17d713","fromProperty":"API_URL","toId":"8b654f2c-5b35-5ca0-34c0-f8a5dbe92b92","toProperty":"API_URL"},{"fromId":"951aab2f-e3d8-774f-925c-6b7e18571418","fromProperty":"documentId","toId":"8b654f2c-5b35-5ca0-34c0-f8a5dbe92b92","toProperty":"documentId"},{"fromId":"8b654f2c-5b35-5ca0-34c0-f8a5dbe92b92","fromProperty":"result","toId":"4b6f8c6c-b772-e53c-ac8f-45ad46f1ab41","toProperty":"resource"},{"fromId":"4b6f8c6c-b772-e53c-ac8f-45ad46f1ab41","fromProperty":"failure","toId":"d7a218a3-8664-e41e-b25c-ce8dc2d9d7c9","toProperty":"Failure"},{"fromId":"4b6f8c6c-b772-e53c-ac8f-45ad46f1ab41","fromProperty":"success","toId":"d7a218a3-8664-e41e-b25c-ce8dc2d9d7c9","toProperty":"Success"},{"fromId":"4b6f8c6c-b772-e53c-ac8f-45ad46f1ab41","fromProperty":"out-Response","toId":"d7a218a3-8664-e41e-b25c-ce8dc2d9d7c9","toProperty":"Response"},{"fromId":"951aab2f-e3d8-774f-925c-6b7e18571418","fromProperty":"Fetch","toId":"4b6f8c6c-b772-e53c-ac8f-45ad46f1ab41","toProperty":"fetch"}],"roots":[{"id":"951aab2f-e3d8-774f-925c-6b7e18571418","type":"Component Inputs","x":-119,"y":-74,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":"*","index":0},{"name":"documentId","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"d7a218a3-8664-e41e-b25c-ce8dc2d9d7c9","type":"Component Outputs","x":387,"y":-12,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Response","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"4b6f8c6c-b772-e53c-ac8f-45ad46f1ab41","type":"REST2","x":152.5,"y":47.5,"parameters":{"responseScript":"// Add custom code to convert the response content to outputs\n//\n//*Response.status    The status code of the response\n//*Response.content   The content of the response as a javascript\n//                    object.\n//*Response.request   The request object that resulted in the response.\n//\n//*Inputs and *Outputs contain the inputs and outputs of the node.\nOutputs.Response = Response.content.data;"},"ports":[],"dynamicports":[{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["responseScript"]}}},{"id":"8b654f2c-5b35-5ca0-34c0-f8a5dbe92b92","type":"Expression","x":149.5,"y":-167.5,"parameters":{"expression":"API_URL + `/disasters/` + documentId + `?populate=*`"},"ports":[],"dynamicports":[{"group":"Parameters","name":"API_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"disasters","type":{"name":"*","editAsType":"string"},"plug":"input","index":8},{"group":"Parameters","name":"documentId","type":{"name":"*","editAsType":"string"},"plug":"input","index":9},{"group":"Parameters","name":"populate","type":{"name":"*","editAsType":"string"},"plug":"input","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"6f1cd425-825e-3b04-6a2a-57ca6b17d713","type":"/#Logic/Environment","x":148.5,"y":-240.5,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/Page/home/GuestFilter","id":"ba006f62-17a2-7a03-8204-b8d21ba678f2","graph":{"connections":[{"fromId":"1f54e9a7-c34c-e513-594a-b62c98246ffd","fromProperty":"out-DropdownOptions","toId":"ba8caee3-2a36-df4e-0d33-c3c4633473f4","toProperty":"items"},{"fromId":"0958b96f-62f9-d263-8f4c-fcef6785664b","fromProperty":"Data","toId":"1f54e9a7-c34c-e513-594a-b62c98246ffd","toProperty":"in-ResponseArray"},{"fromId":"3276e76e-0428-bbb9-4e38-bef93c3fd46d","fromProperty":"Width","toId":"407ea354-7d26-f977-ad0e-d3f9c1a75991","toProperty":"width"},{"fromId":"3276e76e-0428-bbb9-4e38-bef93c3fd46d","fromProperty":"Visible","toId":"407ea354-7d26-f977-ad0e-d3f9c1a75991","toProperty":"visible"},{"fromId":"9d3ba748-382e-0235-3180-b6fad0701134","fromProperty":"EmptyArr","toId":"ba8caee3-2a36-df4e-0d33-c3c4633473f4","toProperty":"items"},{"fromId":"7aeb7a77-98fc-8056-f304-53d8a41c75e7","fromProperty":"onClick","toId":"9d3ba748-382e-0235-3180-b6fad0701134","toProperty":"Clear"},{"fromId":"ba8caee3-2a36-df4e-0d33-c3c4633473f4","fromProperty":"value","toId":"720005a9-4020-2502-05d0-e866935dda08","toProperty":"Value"},{"fromId":"54f1ff25-9037-10dc-b972-23fa25749fbc","fromProperty":"NullValue","toId":"ba8caee3-2a36-df4e-0d33-c3c4633473f4","toProperty":"value"},{"fromId":"abbb3f5c-9781-4f2c-4721-14d3eac35778","fromProperty":"savedValue","toId":"0958b96f-62f9-d263-8f4c-fcef6785664b","toProperty":"status"},{"fromId":"3276e76e-0428-bbb9-4e38-bef93c3fd46d","fromProperty":"CurrentDisasterValue","toId":"ba8caee3-2a36-df4e-0d33-c3c4633473f4","toProperty":"value"},{"fromId":"407ea354-7d26-f977-ad0e-d3f9c1a75991","fromProperty":"didMount","toId":"0958b96f-62f9-d263-8f4c-fcef6785664b","toProperty":"Do"},{"fromId":"69092921-6a31-2b68-8f40-405f5ec01e6f","fromProperty":"onClick","toId":"b9420d69-5b98-9a67-fb03-6c3e1b4d3ff1","toProperty":"ApplyClicked"},{"fromId":"7aeb7a77-98fc-8056-f304-53d8a41c75e7","fromProperty":"onClick","toId":"b9420d69-5b98-9a67-fb03-6c3e1b4d3ff1","toProperty":"CancelClicked"},{"fromId":"7aeb7a77-98fc-8056-f304-53d8a41c75e7","fromProperty":"onClick","toId":"eee8c2a3-ed0d-00dc-1ab9-f754f17206be","toProperty":"navigate"},{"fromId":"69092921-6a31-2b68-8f40-405f5ec01e6f","fromProperty":"onClick","toId":"561f5e20-b209-2d77-82fe-647c2fa5468b","toProperty":"navigate"},{"fromId":"3276e76e-0428-bbb9-4e38-bef93c3fd46d","fromProperty":"Mounted","toId":"407ea354-7d26-f977-ad0e-d3f9c1a75991","toProperty":"mounted"},{"fromId":"ba8caee3-2a36-df4e-0d33-c3c4633473f4","fromProperty":"value","toId":"561f5e20-b209-2d77-82fe-647c2fa5468b","toProperty":"pm-disasterId"}],"roots":[{"id":"407ea354-7d26-f977-ad0e-d3f9c1a75991","type":"Group","x":-91,"y":-255,"parameters":{"sizeMode":"contentHeight","backgroundColor":"transparent","flexDirection":"column","columnGap":{"value":16,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"paddingBottom":{"value":16,"unit":"px"},"flexWrap":"nowrap","borderRightColor":"Grey - 600","rowGap":{"value":8,"unit":"px"},"visible":false},"ports":[],"dynamicports":[],"children":[{"id":"ec3fdbc6-b209-015b-e947-a2c5afd86808","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"ba8caee3-2a36-df4e-0d33-c3c4633473f4","type":"net.noodl.controls.options","label":"Loai thien tai","parameters":{"items":"[\n    {\"Label\":\"Tất cả\", \"Value\":\"-1\"},\n]","label":"Thiên tai","placeholder":"Chọn thiên tai đang diễn ra"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"c45fed63-0225-dcad-f4f6-2ffdd006f1a6","type":"Group","parameters":{"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"69092921-6a31-2b68-8f40-405f5ec01e6f","type":"net.noodl.controls.button","parameters":{"height":{"value":32,"unit":"px"},"alignX":"left","label":"Áp dụng","sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"7aeb7a77-98fc-8056-f304-53d8a41c75e7","type":"net.noodl.controls.button","parameters":{"height":{"value":32,"unit":"px"},"alignX":"left","label":"Huỷ","backgroundColor":"Danger"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"0958b96f-62f9-d263-8f4c-fcef6785664b","type":"/#Logic/GetDisasters","label":"GetDisasters","x":-340.1269065937613,"y":-186.19938902834667,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"1f54e9a7-c34c-e513-594a-b62c98246ffd","type":"JavaScriptFunction","x":-341.1269065937613,"y":-95.19938902834667,"parameters":{"functionScript":"const inputArray = Inputs.ResponseArray;\r\nif(inputArray) {\r\n    Outputs.DropdownOptions = inputArray.map((item, index) => ({\r\n        Label: item.Name,\r\n        Value: item.documentId.toString()\r\n    }));\r\n}"},"ports":[],"dynamicports":[{"name":"in-ResponseArray","displayName":"ResponseArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DropdownOptions","displayName":"DropdownOptions","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"3276e76e-0428-bbb9-4e38-bef93c3fd46d","type":"Component Inputs","x":-91.78611481826238,"y":-390.6717217939495,"parameters":{},"ports":[{"name":"Visible","plug":"output","type":{"name":"*"},"index":1},{"name":"Width","plug":"output","type":{"name":"*"},"index":2},{"name":"CurrentDisasterValue","plug":"output","type":{"name":"*"},"index":3},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"9d3ba748-382e-0235-3180-b6fad0701134","type":"Javascript2","label":"HandleClear","x":156.9113519150115,"y":146.12559704821336,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"720005a9-4020-2502-05d0-e866935dda08","type":"Javascript2","label":"HandleChange","x":156.7851239249352,"y":-34.52752506039323,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"54f1ff25-9037-10dc-b972-23fa25749fbc","type":"Javascript2","label":"HandleClear","x":157.16868370990323,"y":56.016331627081115,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"abbb3f5c-9781-4f2c-4721-14d3eac35778","type":"Number","x":-340.3951562274682,"y":-259.52140461289713,"parameters":{"value":2},"ports":[],"dynamicports":[],"children":[]},{"id":"b9420d69-5b98-9a67-fb03-6c3e1b4d3ff1","type":"Component Outputs","x":-254.76804515802257,"y":231.85245901075228,"parameters":{},"ports":[{"name":"ApplyClicked","plug":"input","type":{"name":"*"},"index":1},{"name":"CancelClicked","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"eee8c2a3-ed0d-00dc-1ab9-f754f17206be","type":"RouterNavigate","x":-293.80724292559137,"y":133.62537232504752,"parameters":{"router":"Main","target":"/Page/home"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-disasterId","displayName":"disasterId","type":"string","plug":"input","group":"Parameters","index":4},{"name":"pm-provinceId","displayName":"provinceId","type":"string","plug":"input","group":"Parameters","index":5},{"name":"pm-districtId","displayName":"districtId","type":"string","plug":"input","group":"Parameters","index":6},{"name":"pm-wardId","displayName":"wardId","type":"string","plug":"input","group":"Parameters","index":7}],"children":[]},{"id":"561f5e20-b209-2d77-82fe-647c2fa5468b","type":"RouterNavigate","x":-293.3032839712307,"y":39.87671863111416,"parameters":{"router":"Main","target":"/Page/home"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-disasterId","displayName":"disasterId","type":"string","plug":"input","group":"Parameters","index":4},{"name":"pm-provinceId","displayName":"provinceId","type":"string","plug":"input","group":"Parameters","index":5},{"name":"pm-districtId","displayName":"districtId","type":"string","plug":"input","group":"Parameters","index":6},{"name":"pm-wardId","displayName":"wardId","type":"string","plug":"input","group":"Parameters","index":7}],"children":[]}],"visualRoots":["407ea354-7d26-f977-ad0e-d3f9c1a75991"],"comments":[{"text":"Lấy thiên tai đang diễn ra","width":172,"height":305,"fill":"fill","x":-352,"y":-298,"id":"50e197ca-56c6-e112-c667-76eb48d9e239","color":"notice","largeFont":false}]}},{"name":"/Page/home/OrganizationFilter","id":"d8761d26-2b81-9ed8-9549-fe2c03e389aa","graph":{"connections":[{"fromId":"ec25e0f2-0105-ab11-f901-538c98e155ba","fromProperty":"Response","toId":"b851a8e6-e443-0c7a-91bf-c3941484c3da","toProperty":"in-Response"},{"fromId":"1aae4b11-9a45-2e4c-1973-e7ac787cf5fa","fromProperty":"Response","toId":"2d2b1cb3-5da8-1485-72fd-a8987f361e6a","toProperty":"in-Response"},{"fromId":"e8e65a3e-0ba3-fdf3-e823-ba8d8ee34a4f","fromProperty":"Response","toId":"9924d412-842c-c930-9181-f86d1c8a2b41","toProperty":"in-Response"},{"fromId":"2adb67ad-adb0-1950-a300-55bdbf618f8c","fromProperty":"out-DropdownOptions","toId":"97f43f06-ffa4-edbf-5016-7d44d632d239","toProperty":"items"},{"fromId":"3bdd769d-6974-7863-7469-65c3fd97f08a","fromProperty":"didMount","toId":"ec25e0f2-0105-ab11-f901-538c98e155ba","toProperty":"Fetch"},{"fromId":"814f4615-97ec-bc4e-0e86-0250ef35533f","fromProperty":"value","toId":"1aae4b11-9a45-2e4c-1973-e7ac787cf5fa","toProperty":"ProvinceId"},{"fromId":"b851a8e6-e443-0c7a-91bf-c3941484c3da","fromProperty":"out-Options","toId":"814f4615-97ec-bc4e-0e86-0250ef35533f","toProperty":"items"},{"fromId":"2d2b1cb3-5da8-1485-72fd-a8987f361e6a","fromProperty":"out-Options","toId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","toProperty":"items"},{"fromId":"9924d412-842c-c930-9181-f86d1c8a2b41","fromProperty":"out-Options","toId":"d4a5d30a-a9b1-736b-89c2-e591ffdcb4c8","toProperty":"items"},{"fromId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","fromProperty":"value","toId":"e8e65a3e-0ba3-fdf3-e823-ba8d8ee34a4f","toProperty":"DistrictsId"},{"fromId":"2d2b1cb3-5da8-1485-72fd-a8987f361e6a","fromProperty":"out-Options","toId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","toProperty":"enabled"},{"fromId":"9924d412-842c-c930-9181-f86d1c8a2b41","fromProperty":"out-Options","toId":"d4a5d30a-a9b1-736b-89c2-e591ffdcb4c8","toProperty":"enabled"},{"fromId":"3bdd769d-6974-7863-7469-65c3fd97f08a","fromProperty":"didMount","toId":"597109ce-d4c4-fdae-ca70-ffe737420f4c","toProperty":"Do"},{"fromId":"597109ce-d4c4-fdae-ca70-ffe737420f4c","fromProperty":"Data","toId":"2adb67ad-adb0-1950-a300-55bdbf618f8c","toProperty":"in-ResponseArray"},{"fromId":"418d5121-255f-0a97-e838-cc7ab42b9ecd","fromProperty":"out-Dang","toId":"597109ce-d4c4-fdae-ca70-ffe737420f4c","toProperty":"status"},{"fromId":"72f14a76-e880-341f-7a9d-fd40171c3870","fromProperty":"Width","toId":"3bdd769d-6974-7863-7469-65c3fd97f08a","toProperty":"width"},{"fromId":"72f14a76-e880-341f-7a9d-fd40171c3870","fromProperty":"Visible","toId":"3bdd769d-6974-7863-7469-65c3fd97f08a","toProperty":"visible"},{"fromId":"0b5c8883-0087-9997-09a0-e1fcf237785f","fromProperty":"NullValue","toId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","toProperty":"value"},{"fromId":"0b5c8883-0087-9997-09a0-e1fcf237785f","fromProperty":"EmptyArr","toId":"814f4615-97ec-bc4e-0e86-0250ef35533f","toProperty":"items"},{"fromId":"0b5c8883-0087-9997-09a0-e1fcf237785f","fromProperty":"EmptyArr","toId":"97f43f06-ffa4-edbf-5016-7d44d632d239","toProperty":"items"},{"fromId":"0b5c8883-0087-9997-09a0-e1fcf237785f","fromProperty":"EmptyArr","toId":"d4a5d30a-a9b1-736b-89c2-e591ffdcb4c8","toProperty":"items"},{"fromId":"0b5c8883-0087-9997-09a0-e1fcf237785f","fromProperty":"EmptyArr","toId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","toProperty":"items"},{"fromId":"0b5c8883-0087-9997-09a0-e1fcf237785f","fromProperty":"NullValue","toId":"814f4615-97ec-bc4e-0e86-0250ef35533f","toProperty":"value"},{"fromId":"1c1d4b30-9a5e-dd0b-65ec-57ba2d623656","fromProperty":"onClick","toId":"0b5c8883-0087-9997-09a0-e1fcf237785f","toProperty":"Clear"},{"fromId":"814f4615-97ec-bc4e-0e86-0250ef35533f","fromProperty":"onFocus","toId":"ec25e0f2-0105-ab11-f901-538c98e155ba","toProperty":"Fetch"},{"fromId":"4e56234b-c91a-795c-3235-1021af4239a7","fromProperty":"EmptyArr","toId":"d4a5d30a-a9b1-736b-89c2-e591ffdcb4c8","toProperty":"items"},{"fromId":"4e56234b-c91a-795c-3235-1021af4239a7","fromProperty":"NullValue","toId":"d4a5d30a-a9b1-736b-89c2-e591ffdcb4c8","toProperty":"value"},{"fromId":"4e56234b-c91a-795c-3235-1021af4239a7","fromProperty":"Value","toId":"e8e65a3e-0ba3-fdf3-e823-ba8d8ee34a4f","toProperty":"DistrictsId"},{"fromId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","fromProperty":"value","toId":"4e56234b-c91a-795c-3235-1021af4239a7","toProperty":"Value"},{"fromId":"72f14a76-e880-341f-7a9d-fd40171c3870","fromProperty":"CurrentDisasterValue","toId":"97f43f06-ffa4-edbf-5016-7d44d632d239","toProperty":"value"},{"fromId":"49c3082c-c980-f8e9-03e7-7f0ce9f57d54","fromProperty":"onClick","toId":"71034a57-01c1-4cf4-7e4a-3fa4a6640373","toProperty":"navigate"},{"fromId":"97f43f06-ffa4-edbf-5016-7d44d632d239","fromProperty":"value","toId":"71034a57-01c1-4cf4-7e4a-3fa4a6640373","toProperty":"pm-disasterId"},{"fromId":"1c1d4b30-9a5e-dd0b-65ec-57ba2d623656","fromProperty":"onClick","toId":"31ecf2b3-caba-94ca-0ea3-90af0e8b8e88","toProperty":"navigate"},{"fromId":"72f14a76-e880-341f-7a9d-fd40171c3870","fromProperty":"Mounted","toId":"3bdd769d-6974-7863-7469-65c3fd97f08a","toProperty":"mounted"},{"fromId":"814f4615-97ec-bc4e-0e86-0250ef35533f","fromProperty":"value","toId":"71034a57-01c1-4cf4-7e4a-3fa4a6640373","toProperty":"pm-provinceId"},{"fromId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","fromProperty":"value","toId":"71034a57-01c1-4cf4-7e4a-3fa4a6640373","toProperty":"pm-districtId"},{"fromId":"d4a5d30a-a9b1-736b-89c2-e591ffdcb4c8","fromProperty":"value","toId":"71034a57-01c1-4cf4-7e4a-3fa4a6640373","toProperty":"pm-wardId"},{"fromId":"4e56234b-c91a-795c-3235-1021af4239a7","fromProperty":"Done","toId":"e8e65a3e-0ba3-fdf3-e823-ba8d8ee34a4f","toProperty":"Fetch"},{"fromId":"814f4615-97ec-bc4e-0e86-0250ef35533f","fromProperty":"value","toId":"16cbd52d-d11f-4cf4-ca5c-766a9a49a47c","toProperty":"Value"},{"fromId":"16cbd52d-d11f-4cf4-ca5c-766a9a49a47c","fromProperty":"NullValue","toId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","toProperty":"value"},{"fromId":"16cbd52d-d11f-4cf4-ca5c-766a9a49a47c","fromProperty":"EmptyArr","toId":"447d8d70-763c-e71a-c6c9-9d837dc4152d","toProperty":"items"},{"fromId":"16cbd52d-d11f-4cf4-ca5c-766a9a49a47c","fromProperty":"Done","toId":"1aae4b11-9a45-2e4c-1973-e7ac787cf5fa","toProperty":"Fetch"}],"roots":[{"id":"3bdd769d-6974-7863-7469-65c3fd97f08a","type":"Group","x":-91,"y":-255,"parameters":{"sizeMode":"contentHeight","backgroundColor":"transparent","flexDirection":"column","columnGap":{"value":16,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"paddingBottom":{"value":16,"unit":"px"},"flexWrap":"nowrap","borderRightColor":"Grey - 600","rowGap":{"value":8,"unit":"px"},"visible":false,"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"1a7691bb-4601-7fdf-58c3-dc832b6b1c63","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"97f43f06-ffa4-edbf-5016-7d44d632d239","type":"net.noodl.controls.options","label":"Loai thien tai","parameters":{"items":"[\n    {\"Label\":\"Tất cả\", \"Value\":\"-1\"},\n]","label":"Thiên tai","placeholder":"Chọn thiên tai đang diễn ra"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"264bbb94-15b9-fc0d-9ddb-524478f8836a","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"814f4615-97ec-bc4e-0e86-0250ef35533f","type":"net.noodl.controls.options","label":"Tỉnh","parameters":{"items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]","placeholder":"Chọn","label":"Tỉnh","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"76390478-b600-8af5-334f-f42036de6ae5","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"447d8d70-763c-e71a-c6c9-9d837dc4152d","type":"net.noodl.controls.options","label":"Huyện","parameters":{"placeholder":"Chọn","label":"Huyện","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","enabled":false},"ports":[],"dynamicports":[],"children":[]}]},{"id":"a23693dd-93bf-97d8-fccd-e6b3dfe4e2aa","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"d4a5d30a-a9b1-736b-89c2-e591ffdcb4c8","type":"net.noodl.controls.options","label":"Xã","parameters":{"label":"Xã","placeholder":"Chọn","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","enabled":false},"ports":[],"dynamicports":[],"children":[]}]},{"id":"99da02d8-e385-9ab5-e92c-53c4a4a00d54","type":"Group","parameters":{"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"49c3082c-c980-f8e9-03e7-7f0ce9f57d54","type":"net.noodl.controls.button","parameters":{"height":{"value":32,"unit":"px"},"alignX":"left","label":"Áp dụng","sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"1c1d4b30-9a5e-dd0b-65ec-57ba2d623656","type":"net.noodl.controls.button","parameters":{"height":{"value":32,"unit":"px"},"alignX":"left","label":"Huỷ","backgroundColor":"Danger"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"597109ce-d4c4-fdae-ca70-ffe737420f4c","type":"/#Logic/GetDisasters","label":"GetDisasters","x":-326.1269065937613,"y":-203.19938902834667,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"2adb67ad-adb0-1950-a300-55bdbf618f8c","type":"JavaScriptFunction","x":-327.1269065937613,"y":-112.19938902834667,"parameters":{"functionScript":"const inputArray = Inputs.ResponseArray;\r\nif(inputArray) {\r\n    Outputs.DropdownOptions = inputArray.map((item, index) => ({\r\n        Label: item.Name,\r\n        Value: item.documentId.toString()\r\n    }));\r\n}"},"ports":[],"dynamicports":[{"name":"in-ResponseArray","displayName":"ResponseArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DropdownOptions","displayName":"DropdownOptions","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"ec25e0f2-0105-ab11-f901-538c98e155ba","type":"/#Logic/GetProvinces","label":"GetProvinces","x":652.2301608295942,"y":294.3811843591576,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"b851a8e6-e443-0c7a-91bf-c3941484c3da","type":"JavaScriptFunction","x":462.23016082959407,"y":376.3811843591576,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString()\r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"1aae4b11-9a45-2e4c-1973-e7ac787cf5fa","type":"/#Logic/GetDistricts","x":651.2301608295942,"y":387.3811843591575,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"2d2b1cb3-5da8-1485-72fd-a8987f361e6a","type":"JavaScriptFunction","x":461.23016082959407,"y":452.3811843591575,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"e8e65a3e-0ba3-fdf3-e823-ba8d8ee34a4f","type":"/#Logic/GetWards","x":652.2301608295942,"y":500.3811843591577,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9924d412-842c-c930-9181-f86d1c8a2b41","type":"JavaScriptFunction","x":461.23016082959407,"y":527.3811843591579,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"72f14a76-e880-341f-7a9d-fd40171c3870","type":"Component Inputs","x":169.56643442349326,"y":-157.4575974462534,"parameters":{},"ports":[{"name":"Visible","plug":"output","type":{"name":"*"},"index":1},{"name":"Width","plug":"output","type":{"name":"*"},"index":2},{"name":"CurrentDisasterValue","plug":"output","type":{"name":"*"},"index":3},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"418d5121-255f-0a97-e838-cc7ab42b9ecd","type":"JavaScriptFunction","x":-530,"y":-220,"parameters":{"functionScript":"Outputs.Dang = 2"},"ports":[],"dynamicports":[{"name":"out-Dang","displayName":"Dang","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"0b5c8883-0087-9997-09a0-e1fcf237785f","type":"Javascript2","label":"HandleClear","x":188.01682901846428,"y":568.9300614436361,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"4e56234b-c91a-795c-3235-1021af4239a7","type":"Javascript2","label":"HandleChange","x":186.80300760017656,"y":441.21032972047016,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"71034a57-01c1-4cf4-7e4a-3fa4a6640373","type":"RouterNavigate","x":-393.833507897676,"y":531.9103942449517,"parameters":{"router":"Main","target":"/Page/home"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-disasterId","displayName":"disasterId","type":"string","plug":"input","group":"Parameters","index":4},{"name":"pm-provinceId","displayName":"provinceId","type":"string","plug":"input","group":"Parameters","index":5},{"name":"pm-districtId","displayName":"districtId","type":"string","plug":"input","group":"Parameters","index":6},{"name":"pm-wardId","displayName":"wardId","type":"string","plug":"input","group":"Parameters","index":7}],"children":[]},{"id":"31ecf2b3-caba-94ca-0ea3-90af0e8b8e88","type":"RouterNavigate","x":-392.8492198214145,"y":690.1624587377466,"parameters":{"router":"Main","target":"/Page/home"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-disasterId","displayName":"disasterId","type":"string","plug":"input","group":"Parameters","index":4},{"name":"pm-provinceId","displayName":"provinceId","type":"string","plug":"input","group":"Parameters","index":5},{"name":"pm-districtId","displayName":"districtId","type":"string","plug":"input","group":"Parameters","index":6},{"name":"pm-wardId","displayName":"wardId","type":"string","plug":"input","group":"Parameters","index":7}],"children":[]},{"id":"16cbd52d-d11f-4cf4-ca5c-766a9a49a47c","type":"Javascript2","label":"HandleChange","x":186,"y":313.99999999999983,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}}],"visualRoots":["3bdd769d-6974-7863-7469-65c3fd97f08a"],"comments":[{"text":"Lấy thiên tai đang diễn ra","width":170,"height":232,"fill":"fill","x":-338,"y":-244,"id":"50e197ca-56c6-e112-c667-76eb48d9e239","color":"notice","largeFont":false},{"text":"Tự động lấy địa chỉ theo vị trí","width":373,"height":355,"fill":"fill","x":440,"y":282,"id":"826a295b-5b16-87eb-6a1a-78a61f7b4bf2","largeFont":false,"color":"notice"}]}},{"name":"/Page/home/SetLocationsData","id":"bac93c79-372b-c5cb-0c74-97e0aa64fb42","graph":{"connections":[{"fromId":"799794e4-b9f5-adc4-f311-a2428444beb4","fromProperty":"out-Success","toId":"ab6bb231-5d68-fda9-2cd0-c0c48f9bc851","toProperty":"Success"},{"fromId":"47e8f4bb-aed5-0626-c6f6-4c5599afe9f1","fromProperty":"hasProvincesData","toId":"799794e4-b9f5-adc4-f311-a2428444beb4","toProperty":"in-HasProvinceData"},{"fromId":"47e8f4bb-aed5-0626-c6f6-4c5599afe9f1","fromProperty":"Data","toId":"799794e4-b9f5-adc4-f311-a2428444beb4","toProperty":"in-Data"}],"roots":[{"id":"799794e4-b9f5-adc4-f311-a2428444beb4","type":"JavaScriptFunction","x":178.5,"y":5,"parameters":{"functionScript":"const HasProvinceData = Inputs.HasProvinceData;\r\nconst Data = Inputs.Data;\r\n\r\nif(!Data && HasProvinceData) {\r\n  localStorage.setItem(\"locations\", JSON.stringify([]));\r\n  Outputs.Success = true;\r\n  return;\r\n}\r\n\r\n//Nếu có dữ liệu về vị trí nhưng là mảng rỗng thì trả về true\r\nif (Data && Data.length === 0 && HasProvinceData) {\r\n  localStorage.setItem(\"locations\", JSON.stringify([]));\r\n  Outputs.Success = true;\r\n  return;\r\n}\r\n\r\nfunction processLocation(item) {\r\n  return {\r\n    description: item.FullName,\r\n    phone: item.PhoneNumber,\r\n    lat: item.Location?.lat ? parseFloat(item.Location.lat) : 0,\r\n    lng: item.Location?.lng ? parseFloat(item.Location.lng) : 0,\r\n  };\r\n}\r\n\r\n//Nếu có dữ liệu về vị trí và dữ liệu về tỉnh thành thì xử lý dữ liệu và lưu vào localStorage\r\nif (Data && HasProvinceData) {\r\n  let locations;\r\n\r\n  if (Array.isArray(Data) && Data.length > 0) {\r\n    locations = Data.map((item) => processLocation(item)).filter(\r\n      (loc) => !(loc.lat === 0 && loc.lng === 0)\r\n    );\r\n\r\n    if (locations.length === 0) {\r\n      localStorage.setItem(\"locations\", JSON.stringify([]));\r\n      Outputs.Success = true;\r\n      return;\r\n    }\r\n  } else {\r\n    if (Data?.Location?.lat === 0 && Data?.Location?.lng === 0) {\r\n      localStorage.setItem(\"locations\", JSON.stringify([]));\r\n      Outputs.Success = true;\r\n      return;\r\n    }\r\n\r\n    locations = [processLocation(Data)];\r\n  }\r\n\r\n  const oldLocations = JSON.parse(localStorage.getItem(\"locations\")) || [];\r\n\r\n  if (JSON.stringify(locations) === JSON.stringify(oldLocations)) {\r\n    Outputs.Success = true;\r\n    return;\r\n  } else {\r\n    localStorage.setItem(\"locations\", JSON.stringify(locations));\r\n    Outputs.Success = true;\r\n    return;\r\n  }\r\n}\r\n\r\nOutputs.Success = false;\r\n"},"ports":[],"dynamicports":[{"name":"in-HasProvinceData","displayName":"HasProvinceData","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"ab6bb231-5d68-fda9-2cd0-c0c48f9bc851","type":"Component Outputs","x":386,"y":5,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"47e8f4bb-aed5-0626-c6f6-4c5599afe9f1","type":"Component Inputs","x":-21,"y":1,"parameters":{},"ports":[{"name":"Data","plug":"output","type":"*","index":0},{"name":"hasProvincesData","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/Page/notifications","id":"92118e88-a70a-ab9a-5f20-8cfb0f6078fe","graph":{"connections":[{"fromId":"2a009809-6869-c10c-5489-9943a6d1d8a7","fromProperty":"onClick","toId":"16f411f1-c8aa-f115-5da6-29bbea60e05f","toProperty":"Do"},{"fromId":"8bc76146-9f20-1d7b-bb5d-4b489691f8e6","fromProperty":"onClick","toId":"5e441e00-91c8-da19-6995-577ce7689703","toProperty":"clear"},{"fromId":"5e441e00-91c8-da19-6995-577ce7689703","fromProperty":"onTextChanged","toId":"8bc76146-9f20-1d7b-bb5d-4b489691f8e6","toProperty":"visible"},{"fromId":"16f411f1-c8aa-f115-5da6-29bbea60e05f","fromProperty":"Sort","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Sort"},{"fromId":"16f411f1-c8aa-f115-5da6-29bbea60e05f","fromProperty":"Status","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Status"},{"fromId":"16f411f1-c8aa-f115-5da6-29bbea60e05f","fromProperty":"Fetch","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Fetch"},{"fromId":"67499d23-5b13-04c3-a262-5a032f051e1e","fromProperty":"out-Page","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Page"},{"fromId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","fromProperty":"Total","toId":"0c6f7084-550a-9192-192e-f0130052c748","toProperty":"TotalCount"},{"fromId":"5e441e00-91c8-da19-6995-577ce7689703","fromProperty":"onTextChanged","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Keyword"},{"fromId":"822aa830-73ba-63b2-128c-2cadd8d22a2a","fromProperty":"didMount","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Fetch"},{"fromId":"b8742a76-fc60-c4b0-bb90-db9835863487","fromProperty":"didMount","toId":"22af93a3-5502-5a66-88b5-b038c5ae2f5c","toProperty":"Run"},{"fromId":"22af93a3-5502-5a66-88b5-b038c5ae2f5c","fromProperty":"Success","toId":"9990917c-62ba-2bcb-e5bf-32d0191cec5d","toProperty":"Run"},{"fromId":"9990917c-62ba-2bcb-e5bf-32d0191cec5d","fromProperty":"Failure","toId":"d2787c7d-a4fd-e67c-40a6-7fa0485e18a2","toProperty":"navigate"},{"fromId":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","fromProperty":"out-HasData","toId":"68db69f1-c098-70df-c723-a36079f523fe","toProperty":"condition"},{"fromId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","fromProperty":"Data","toId":"33f370e2-6eb0-5f3b-06dd-b971eea38cf1","toProperty":"in-Response"},{"fromId":"33f370e2-6eb0-5f3b-06dd-b971eea38cf1","fromProperty":"out-Data","toId":"1bdd337f-2a90-d6ed-12ef-7b60370fb182","toProperty":"items"},{"fromId":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","fromProperty":"out-HasData","toId":"c916cb91-39e4-275d-b300-e1712d1186b9","toProperty":"mounted"},{"fromId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","fromProperty":"Data","toId":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","toProperty":"in-Response"},{"fromId":"68db69f1-c098-70df-c723-a36079f523fe","fromProperty":"isfalse","toId":"dcb43761-593e-9f75-e7e2-6c24fdc9c3cd","toProperty":"mounted"},{"fromId":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","fromProperty":"out-HasData","toId":"9b16bbaf-13a1-d74d-03fe-997f9b043589","toProperty":"mounted"},{"fromId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","fromProperty":"Page","toId":"0c6f7084-550a-9192-192e-f0130052c748","toProperty":"SelectedPage"},{"fromId":"5e441e00-91c8-da19-6995-577ce7689703","fromProperty":"onTextChanged","toId":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","toProperty":"Inputs"},{"fromId":"c2f11cce-c7f2-ea8d-5e94-af686a24b409","fromProperty":"onClick","toId":"67499d23-5b13-04c3-a262-5a032f051e1e","toProperty":"run"},{"fromId":"c2f11cce-c7f2-ea8d-5e94-af686a24b409","fromProperty":"onClick","toId":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","toProperty":"run"},{"fromId":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","fromProperty":"isTrueEv","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Fetch"},{"fromId":"5e441e00-91c8-da19-6995-577ce7689703","fromProperty":"onEnter","toId":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","toProperty":"run"},{"fromId":"0c6f7084-550a-9192-192e-f0130052c748","fromProperty":"Skip","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Page"},{"fromId":"0c6f7084-550a-9192-192e-f0130052c748","fromProperty":"Limit","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Limit"},{"fromId":"0c6f7084-550a-9192-192e-f0130052c748","fromProperty":"Changed","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Fetch"},{"fromId":"1061c346-c598-1da7-869a-ab052a8c6753","fromProperty":"ProvinceId","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"ProvinceId"},{"fromId":"1061c346-c598-1da7-869a-ab052a8c6753","fromProperty":"WardId","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"WardId"},{"fromId":"1061c346-c598-1da7-869a-ab052a8c6753","fromProperty":"DistrictsId","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"DistrictId"},{"fromId":"1061c346-c598-1da7-869a-ab052a8c6753","fromProperty":"Changed","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"Fetch"},{"fromId":"1061c346-c598-1da7-869a-ab052a8c6753","fromProperty":"DisasterId","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"DisasterId"},{"fromId":"f535ec83-d6ae-dc6b-5b6a-bc4d0992b963","fromProperty":"organization","toId":"6373bd8f-0161-e756-fd0a-62c084c97a23","toProperty":"in-JsonString"},{"fromId":"6373bd8f-0161-e756-fd0a-62c084c97a23","fromProperty":"out-Id","toId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","toProperty":"OrganizationId"},{"fromId":"c69a398d-4c43-919e-0bb5-d6edc90b151f","fromProperty":"out-data","toId":"3c6ab7e9-95a6-a13b-d72a-afb8992f3822","toProperty":"data"},{"fromId":"b61caa84-06b0-8afd-6ccd-51b7c0ef0c59","fromProperty":"onClick","toId":"3c6ab7e9-95a6-a13b-d72a-afb8992f3822","toProperty":"Do"},{"fromId":"33f370e2-6eb0-5f3b-06dd-b971eea38cf1","fromProperty":"out-Data","toId":"c69a398d-4c43-919e-0bb5-d6edc90b151f","toProperty":"in-data"},{"fromId":"b8742a76-fc60-c4b0-bb90-db9835863487","fromProperty":"boundingWidth","toId":"9fa8779c-5a16-e2f5-3280-f1e29c824716","toProperty":"width"},{"fromId":"9fa8779c-5a16-e2f5-3280-f1e29c824716","fromProperty":"isFalseEv","toId":"19fe0271-1b66-d8a8-8bf4-b89c4869cecd","toProperty":"to-w-[1536px]"},{"fromId":"9fa8779c-5a16-e2f5-3280-f1e29c824716","fromProperty":"isTrueEv","toId":"19fe0271-1b66-d8a8-8bf4-b89c4869cecd","toProperty":"to-w-full"},{"fromId":"19fe0271-1b66-d8a8-8bf4-b89c4869cecd","fromProperty":"CSS","toId":"822aa830-73ba-63b2-128c-2cadd8d22a2a","toProperty":"cssClassName"},{"fromId":"4d129e5b-b691-e3e2-834f-b80fa08749d1","fromProperty":"Total","toId":"81a09dea-6897-690a-59c3-a1af31568de7","toProperty":"total"},{"fromId":"81a09dea-6897-690a-59c3-a1af31568de7","fromProperty":"result","toId":"61e8fa6b-cbb6-9f83-e241-84d343fda4b1","toProperty":"text"},{"fromId":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","fromProperty":"out-HasData","toId":"61e8fa6b-cbb6-9f83-e241-84d343fda4b1","toProperty":"mounted"}],"roots":[{"id":"b8742a76-fc60-c4b0-bb90-db9835863487","type":"Page","x":-13,"y":8,"parameters":{"urlPath":"/notifications","title":"Nhận cứu trợ"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"notifications","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"nhận-cứu-trợ","index":32}],"children":[{"id":"822aa830-73ba-63b2-128c-2cadd8d22a2a","type":"Group","parameters":{"scrollEnabled":true,"alignX":"left","alignY":"top","cssClassName":"w-max","sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[{"id":"8715a43d-9b0c-014e-dfab-ef27b6907d78","type":"Group","label":"Group table","parameters":{"alignItems":"center","justifyContent":"flex-start","alignX":"center","sizeMode":"contentHeight","flexWrap":"nowrap","flexDirection":"column","boxShadowEnabled":false,"scrollEnabled":false,"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":60,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":60,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"e9e887a8-0140-ae3c-cf98-fa0e3f985d06","type":"Group","label":"Header","parameters":{"flexDirection":"row","columnGap":{"value":12,"unit":"px"},"sizeMode":"contentSize","alignX":"left"},"ports":[],"dynamicports":[],"children":[{"id":"4ba88913-9ba7-88a9-8aaf-79ca6193670f","type":"Text","label":"Titile","parameters":{"text":"Yêu cầu hỗ trợ","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":24,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"16787d82-ae6b-c30c-560f-e4b3eaf1b409","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"alignItems":"center"},"ports":[],"dynamicports":[],"children":[{"id":"74b18107-4030-278e-0e7d-ab02bf0b3fe8","type":"Group","label":"Search","parameters":{"flexDirection":"row","sizeMode":"contentSize","flexWrap":"nowrap","columnGap":{"value":12,"unit":"px"},"clip":false,"alignY":"center","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"alignItems":"center","justifyContent":"flex-start","borderRadius":{"value":8,"unit":"px"},"minHeight":{"value":42,"unit":"px"},"position":"relative"},"ports":[],"dynamicports":[],"children":[{"id":"5e441e00-91c8-da19-6995-577ce7689703","type":"net.noodl.controls.textinput","parameters":{"label":"","alignY":"center","borderStyle":"none","placeholder":"Tìm kiếm","sizeMode":"contentHeight","width":{"value":300,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"8bc76146-9f20-1d7b-bb5d-4b489691f8e6","type":"net.noodl.controls.button","label":"Tìm kiếm","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","iconSize":{"value":18,"unit":"px"},"paddingLeft":{"value":2,"unit":"px"},"paddingRight":{"value":2,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"backgroundColor":"Grey - 400","mounted":true,"position":"relative","enabled":true,"blockTouch":false},"stateParameters":{"hover":{"backgroundColor":"Grey - 500","useIcon":true}},"ports":[],"dynamicports":[],"children":[]},{"id":"c2f11cce-c7f2-ea8d-5e94-af686a24b409","type":"net.noodl.controls.button","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"search","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"minWidth":{"value":0,"unit":"px"},"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"iconSize":{"value":22,"unit":"px"},"minHeight":{"value":34,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"2a009809-6869-c10c-5489-9943a6d1d8a7","type":"net.noodl.controls.button","parameters":{"label":"Lọc","useIcon":true,"iconIconSource":{"class":"material-icons","code":"filter_list","codeAsClass":false},"backgroundColor":"transparent","color":"Grey - 800","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","iconColor":"Grey - 800","sizeMode":"contentSize","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"minHeight":{"value":42,"unit":"px"}},"stateParameters":{"hover":{"borderColor":"Grey - 900"}},"ports":[],"dynamicports":[],"children":[]},{"id":"b61caa84-06b0-8afd-6ccd-51b7c0ef0c59","type":"net.noodl.controls.button","parameters":{"alignX":"right","label":"In danh sách","useIcon":true,"iconIconSource":{"class":"material-icons","code":"local_printshop","codeAsClass":false}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"1061c346-c598-1da7-869a-ab052a8c6753","type":"/Page/notifications/Filter","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"dcb43761-593e-9f75-e7e2-6c24fdc9c3cd","type":"Text","parameters":{"text":"Không có dữ liệu","textAlignX":"center","fontSize":{"value":18,"unit":"px"},"marginTop":{"value":32,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[]},{"id":"c916cb91-39e4-275d-b300-e1712d1186b9","type":"Group","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","borderTopLeftRadius":{"value":12,"unit":"px"},"borderTopRightRadius":{"value":12,"unit":"px"},"mounted":false,"scrollBounceEnabled":false},"ports":[],"dynamicports":[],"children":[{"id":"0137b5d1-2156-fbf0-f81a-57c24ba1c724","type":"/Page/notifications/HeaderSOS","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"1bdd337f-2a90-d6ed-12ef-7b60370fb182","type":"For Each","parameters":{"template":"/Page/notifications/RowSOS","inputMappingScript":"map({\n})\n"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]},{"id":"61e8fa6b-cbb6-9f83-e241-84d343fda4b1","type":"Text","parameters":{"text":"","mounted":false},"ports":[],"dynamicports":[],"children":[]},{"id":"9b16bbaf-13a1-d74d-03fe-997f9b043589","type":"Group","parameters":{"alignX":"center","alignItems":"center","justifyContent":"center","sizeMode":"contentHeight","paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"0c6f7084-550a-9192-192e-f0130052c748","type":"/Components/PagesAndRows","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"16f411f1-c8aa-f115-5da6-29bbea60e05f","type":"/Page/notifications/FilterPopup","parameters":{},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"ac24192c-4e0a-5be2-1733-53529b406cf2","type":"PageInputs","x":-13.412185861712373,"y":-30.614668476502743,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4d129e5b-b691-e3e2-834f-b80fa08749d1","type":"/#Logic/GetNotifications","x":608.2726778753886,"y":796.2920583398259,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"67499d23-5b13-04c3-a262-5a032f051e1e","type":"JavaScriptFunction","x":609.2660230471128,"y":704.0017913440732,"parameters":{"functionScript":"Outputs.Page = 0"},"ports":[],"dynamicports":[{"name":"out-Page","displayName":"Page","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"6e0d587e-69db-4ad2-733d-f8cf0a8c4bf5","type":"JavaScriptFunction","x":309.63467523062536,"y":894.5734624209747,"parameters":{"functionScript":"const res = Inputs.Response;\r\n\r\nif (!res) {\r\n    Outputs.Failure();\r\n    return;\r\n}\r\n\r\nconst sosRequests = res.map(item => item.SOSRequest);\r\n\r\nconst allEmpty = sosRequests.every(request => \r\n    !request || \r\n    Object.keys(request).length === 0 || \r\n    (Object.keys(request).length === 1 && request.hasOwnProperty('id'))\r\n);\r\n\r\nif (allEmpty) {\r\n    Outputs.HasData = false;\r\n    return;\r\n}\r\n\r\nOutputs.HasData = true;"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-HasData","displayName":"HasData","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"22af93a3-5502-5a66-88b5-b038c5ae2f5c","type":"/#Logic/CheckAuth","label":"CheckAuth","x":231.0996847072248,"y":-29.840446312076892,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d2787c7d-a4fd-e67c-40a6-7fa0485e18a2","type":"PageStackNavigateToPath","x":500.99999999999994,"y":74,"parameters":{"path":"/home"},"ports":[],"dynamicports":[],"children":[]},{"id":"9990917c-62ba-2bcb-e5bf-32d0191cec5d","type":"/#Logic/CheckOrganization","x":231.71515431481077,"y":64.84877418232514,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"68db69f1-c098-70df-c723-a36079f523fe","type":"Condition","x":309.1525684833874,"y":802.8032457259565,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"33f370e2-6eb0-5f3b-06dd-b971eea38cf1","type":"JavaScriptFunction","x":309.73786485094996,"y":968.1865428556753,"parameters":{"functionScript":"const res = Inputs.Response;\r\nres ? Outputs.Data = res.map(item => item.SOSRequest) : Outputs.Failure();"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"98adbf47-faf7-c85b-38c8-ebd3451d19bc","type":"Expression","x":309.5878648509499,"y":682.5865428556755,"parameters":{"expression":"Inputs.Text !== \"\" && Inputs.Text !== null;"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Inputs","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"f535ec83-d6ae-dc6b-5b6a-bc4d0992b963","type":"/#Logic/CurrentOrganization","x":606.0878648509499,"y":1220.7683610374936,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"6373bd8f-0161-e756-fd0a-62c084c97a23","type":"JavaScriptFunction","x":606.0826034518949,"y":1117.838717506679,"parameters":{"functionScript":"const jsonString = Inputs.JsonString;\r\n\r\nif (!jsonString) return;\r\n\r\ntry {\r\n    const parsedData = JSON.parse(jsonString);\r\n    if (Array.isArray(parsedData) && parsedData.length > 0) {\r\n        Outputs.Id = parsedData[0].id;\r\n        Outputs.Success();\r\n    } else {\r\n        Outputs.Error();\r\n    }\r\n} catch (error) {\r\n    Outputs.Error();\r\n}"},"ports":[],"dynamicports":[{"name":"in-JsonString","displayName":"JsonString","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Error","displayName":"Error","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"c69a398d-4c43-919e-0bb5-d6edc90b151f","type":"JavaScriptFunction","x":-263,"y":1057,"parameters":{"functionScript":"const data = Inputs.data;\r\n\r\nfunction mapData(data) {\r\n  return data.map((item) => ({\r\n    \"Tên\": item?.FullName ?? \"\",\r\n    \"Mô tả\": item?.RequestDescription ?? \"\",\r\n    \"Cần đồ ăn\": item?.NeedFood ? \"Có\" : \"Không\",\r\n    \"Cần nước\": item?.NeedWater ? \"Có\" : \"Không\",\r\n    \"Cần y tế\": item?.NeedMedical ? \"Có\" : \"Không\",\r\n    \"Số người\": item?.PeopleCount ?? \"\",\r\n    \"Địa chỉ\": item?.Road ?? \"\",\r\n    \"Amenity\": item?.Amenity ?? \"\",\r\n    \"Xã phường\": item?.Ward?.FullName ?? \"\",\r\n    \"Huyện\": item?.District?.FullName ?? \"\",\r\n    \"Tỉnh\": item?.Province?.FullName ?? \"\",\r\n  }));\r\n}\r\n\r\n\r\nOutputs.data = data && mapData(data)"},"ports":[],"dynamicports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"3c6ab7e9-95a6-a13b-d72a-afb8992f3822","type":"/#Logic/PrintTable","x":-266,"y":952,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9fa8779c-5a16-e2f5-3280-f1e29c824716","type":"Expression","label":"","x":-266,"y":107,"parameters":{"expression":"width > 1536"},"ports":[],"dynamicports":[{"group":"Parameters","name":"width","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"19fe0271-1b66-d8a8-8bf4-b89c4869cecd","type":"States","x":-265.8864850038186,"y":218.087096553374,"parameters":{"states":"w-full,w-[1536px]","values":"CSS","type-CSS":"string","value-w-full-CSS":"w-full","value-w-[1536px]-CSS":"w-max"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"CSS","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"CSS","name":"type-CSS","index":7},{"plug":"input","type":"string","group":"w-full Values","name":"value-w-full-CSS","displayName":"CSS","editorName":"w-full|CSS","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"w-full Transitions","name":"transitiondef-w-full","index":9},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To w-full","name":"to-w-full","group":"Go to state","index":10},{"plug":"output","type":"boolean","displayName":"At w-full","name":"at-w-full","group":"Current state","index":11},{"plug":"output","type":"signal","displayName":"Has Reached w-full","name":"reached-w-full","group":"Current state","index":12},{"plug":"input","type":"string","group":"w-[1536px] Values","name":"value-w-[1536px]-CSS","displayName":"CSS","editorName":"w-[1536px]|CSS","index":13},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"w-[1536px] Transitions","name":"transitiondef-w-[1536px]","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To w-[1536px]","name":"to-w-[1536px]","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At w-[1536px]","name":"at-w-[1536px]","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached w-[1536px]","name":"reached-w-[1536px]","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["w-full","w-[1536px]"]},"group":"States","displayName":"State","name":"currentState","default":"w-full","index":18}],"children":[]},{"id":"8b9b4a92-97a8-0937-34a5-3e43abc5771e","type":"CSS Definition","x":-270.3680217727086,"y":58.8221583282712,"parameters":{"style":".w-full {\r\n    width: 100%;\r\n}\r\n\r\n.w-max {\r\n    width: 1500px;\r\n}"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["style"]}}},{"id":"81a09dea-6897-690a-59c3-a1af31568de7","type":"Expression","x":328.38723827916965,"y":1346.5196464645414,"parameters":{"expression":"\"Danh sách này có: \" + total + \" yêu cầu.\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"total","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}}],"visualRoots":["b8742a76-fc60-c4b0-bb90-db9835863487"]}},{"name":"/Page/notifications-detail","id":"f79137af-0333-248c-dfaf-c9d490ea747d","graph":{"connections":[{"fromId":"dd5cc777-2b12-1c3f-a260-d91a5ef0ac53","fromProperty":"data","toId":"7df13451-811d-7550-2fbb-6f536af9b1c7","toProperty":"in-data"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-FullName","toId":"bd3f9029-c766-11a9-92ef-e6167e52e858","toProperty":"text"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-Province","toId":"7967d99e-14f9-563f-c3da-b04bb9d3d8e6","toProperty":"in-Province"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-District","toId":"7967d99e-14f9-563f-c3da-b04bb9d3d8e6","toProperty":"in-District"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-Ward","toId":"7967d99e-14f9-563f-c3da-b04bb9d3d8e6","toProperty":"in-Ward"},{"fromId":"7967d99e-14f9-563f-c3da-b04bb9d3d8e6","fromProperty":"out-Address","toId":"0fba6fde-5316-4f52-e430-5eaeae4b738c","toProperty":"text"},{"fromId":"41d90dbf-c318-2efb-a1e2-f85c90e58196","fromProperty":"result","toId":"9459424f-b572-33ce-e437-81772b5162b2","toProperty":"link"},{"fromId":"4e312796-c579-f427-7604-de94ff63261c","fromProperty":"onClick","toId":"9459424f-b572-33ce-e437-81772b5162b2","toProperty":"do"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-PhoneNumber","toId":"4e312796-c579-f427-7604-de94ff63261c","toProperty":"label"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-PhoneNumber","toId":"41d90dbf-c318-2efb-a1e2-f85c90e58196","toProperty":"phone"},{"fromId":"08d5a0a5-3876-068d-3066-1165c1de373b","fromProperty":"result","toId":"b97726ae-17f4-8877-ae08-72916581b91e","toProperty":"link"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-Email","toId":"08d5a0a5-3876-068d-3066-1165c1de373b","toProperty":"email"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-NeedFood","toId":"f0874633-65c2-3492-b3bc-9fc1bdcdadbf","toProperty":"checked"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-NeedWater","toId":"037ea91f-4b82-c073-a333-3f5c5d323824","toProperty":"checked"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-NeedMedical","toId":"24bedd99-a1df-438f-8ada-1d50e1e1ec79","toProperty":"checked"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-NeedWater","toId":"72b34cd5-94ef-16e5-67aa-09dcaad2e329","toProperty":"uncheck"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-NeedFood","toId":"72b34cd5-94ef-16e5-67aa-09dcaad2e329","toProperty":"uncheck"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-NeedMedical","toId":"72b34cd5-94ef-16e5-67aa-09dcaad2e329","toProperty":"uncheck"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-RequestDescription","toId":"6d2cd08d-4cb6-2f5f-67ca-1b5d858e84b8","toProperty":"text"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-DamageImage","toId":"bc9a589b-2aaa-59fb-e9a7-77f2a7d28752","toProperty":"items"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-Location","toId":"4746d222-859a-b188-b4aa-24dd781b94a5","toProperty":"Location"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-Location","toId":"c29fca38-e8ba-93ae-c0a3-6dcdb7c035eb","toProperty":"Location"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-State","toId":"1c5069bf-e418-5b67-56cd-b2cf7c3fd949","toProperty":"in-state"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-AcceptedBy","toId":"1c5069bf-e418-5b67-56cd-b2cf7c3fd949","toProperty":"in-AcceptedBy"},{"fromId":"1c5069bf-e418-5b67-56cd-b2cf7c3fd949","fromProperty":"out-ChuaHoTro","toId":"fa65c7d3-7dd2-a30b-5c73-c2f6392c344a","toProperty":"mounted"},{"fromId":"1c5069bf-e418-5b67-56cd-b2cf7c3fd949","fromProperty":"out-DangHoTro","toId":"2cc7012d-c469-9205-34b7-ea9325affff5","toProperty":"mounted"},{"fromId":"1c5069bf-e418-5b67-56cd-b2cf7c3fd949","fromProperty":"out-DaHoTro","toId":"5f2975cc-c50b-5961-6e08-d7fd634d6cbd","toProperty":"mounted"},{"fromId":"7967d99e-14f9-563f-c3da-b04bb9d3d8e6","fromProperty":"out-Address","toId":"a8e847cd-a444-8d05-8386-032235b69989","toProperty":"mounted"},{"fromId":"96c94d7d-d02e-c703-aa54-e37c08ad61fd","fromProperty":"pm-id","toId":"dd5cc777-2b12-1c3f-a260-d91a5ef0ac53","toProperty":"id"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-Disaster","toId":"93dce837-d352-c110-0468-56069b001a50","toProperty":"Disaster"},{"fromId":"93dce837-d352-c110-0468-56069b001a50","fromProperty":"result","toId":"2d41af34-9785-7628-5439-e41bd865fc93","toProperty":"text"},{"fromId":"059e0273-7a96-08bf-c2d3-d52f146af71f","fromProperty":"didMount","toId":"dd5cc777-2b12-1c3f-a260-d91a5ef0ac53","toProperty":"Do"},{"fromId":"2b314003-4ba8-7950-bc77-667589d1f3da","fromProperty":"onClick","toId":"e3edba9d-046a-1272-b166-43cb8096bf01","toProperty":"navigate"},{"fromId":"3603766f-ddbe-b2bb-ef17-cae47e5c09b6","fromProperty":"onClick","toId":"b97726ae-17f4-8877-ae08-72916581b91e","toProperty":"do"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-Email","toId":"3603766f-ddbe-b2bb-ef17-cae47e5c09b6","toProperty":"label"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-Email","toId":"e8caf014-df7b-d6fd-4a97-e94524665aa0","toProperty":"mounted"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-PhoneNumber","toId":"586bb827-0478-90dc-7e3f-0cfd16394a16","toProperty":"mounted"},{"fromId":"8823063a-4853-d871-a06c-e5e3052348db","fromProperty":"isTrue","toId":"9f5f7771-6a9b-2fb7-a675-8306e5985ea5","toProperty":"to-Is Double Column"},{"fromId":"8823063a-4853-d871-a06c-e5e3052348db","fromProperty":"isFalseEv","toId":"9f5f7771-6a9b-2fb7-a675-8306e5985ea5","toProperty":"to-Is Single Column"},{"fromId":"9f5f7771-6a9b-2fb7-a675-8306e5985ea5","fromProperty":"Layout String","toId":"45b5a478-2457-07eb-2b5b-4e37d3c41e75","toProperty":"layoutString"},{"fromId":"4b2bfc56-ade0-1960-877b-96ea586c2763","fromProperty":"boundingWidth","toId":"8823063a-4853-d871-a06c-e5e3052348db","toProperty":"width"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-DamageImage","toId":"946a3597-9983-5974-52e1-c939999c76fb","toProperty":"mounted"},{"fromId":"dd5cc777-2b12-1c3f-a260-d91a5ef0ac53","fromProperty":"Success","toId":"fef4d9f3-7345-bf86-50eb-73379e955cd3","toProperty":"Hide"},{"fromId":"dd5cc777-2b12-1c3f-a260-d91a5ef0ac53","fromProperty":"Failure","toId":"fef4d9f3-7345-bf86-50eb-73379e955cd3","toProperty":"Hide"},{"fromId":"88b57b01-1dbb-b746-8214-9cd9e8e6563a","fromProperty":"isTrue","toId":"33f2b387-3015-d176-e312-67c04f1c71ac","toProperty":"to-Is Double Column"},{"fromId":"88b57b01-1dbb-b746-8214-9cd9e8e6563a","fromProperty":"isFalseEv","toId":"33f2b387-3015-d176-e312-67c04f1c71ac","toProperty":"to-Is Single Column"},{"fromId":"b942f6a5-1540-787b-f00b-0cdb554695fd","fromProperty":"boundingWidth","toId":"88b57b01-1dbb-b746-8214-9cd9e8e6563a","toProperty":"width"},{"fromId":"33f2b387-3015-d176-e312-67c04f1c71ac","fromProperty":"Layout String","toId":"ea3848ad-8aa7-6f73-fc72-cb964474119c","toProperty":"layoutString"},{"fromId":"33f2b387-3015-d176-e312-67c04f1c71ac","fromProperty":"Padding","toId":"b942f6a5-1540-787b-f00b-0cdb554695fd","toProperty":"paddingLeft"},{"fromId":"33f2b387-3015-d176-e312-67c04f1c71ac","fromProperty":"Padding","toId":"b942f6a5-1540-787b-f00b-0cdb554695fd","toProperty":"paddingRight"},{"fromId":"33f2b387-3015-d176-e312-67c04f1c71ac","fromProperty":"ColHeight","toId":"f779ba42-031e-322d-cac3-a0911002d0fc","toProperty":"height"},{"fromId":"f08a4095-3c0b-41b6-2028-17db007085f2","fromProperty":"boundingHeight","toId":"33f2b387-3015-d176-e312-67c04f1c71ac","toProperty":"value-Is Double Column-ColHeight"},{"fromId":"f08a4095-3c0b-41b6-2028-17db007085f2","fromProperty":"boundingWidth","toId":"33f2b387-3015-d176-e312-67c04f1c71ac","toProperty":"value-Is Single Column-ColHeight"},{"fromId":"f779ba42-031e-322d-cac3-a0911002d0fc","fromProperty":"boundingWidth","toId":"f19c751b-068b-bcc2-2797-5d6f64c66aa1","toProperty":"Value"},{"fromId":"f19c751b-068b-bcc2-2797-5d6f64c66aa1","fromProperty":"ValueChanged","toId":"dfa628bf-734a-faa3-5f35-699963dc031e","toProperty":"mounted"},{"fromId":"bc9a589b-2aaa-59fb-e9a7-77f2a7d28752","fromProperty":"itemOutputSignal-open","toId":"41894885-3a91-f888-9cb2-49e336e871e1","toProperty":"Open"},{"fromId":"bc9a589b-2aaa-59fb-e9a7-77f2a7d28752","fromProperty":"itemOutput-ImageSubmit","toId":"41894885-3a91-f888-9cb2-49e336e871e1","toProperty":"url"},{"fromId":"0e1b1a69-e20b-b6cf-1797-a773594d3fa0","fromProperty":"out-Disaster","toId":"caaffa39-c742-f1b5-3b5f-7a1850afe8b3","toProperty":"Disaster"},{"fromId":"dd5cc777-2b12-1c3f-a260-d91a5ef0ac53","fromProperty":"data","toId":"0e1b1a69-e20b-b6cf-1797-a773594d3fa0","toProperty":"in-Data"},{"fromId":"caaffa39-c742-f1b5-3b5f-7a1850afe8b3","fromProperty":"result","toId":"b676cea2-c188-109f-19f5-0261bd85aba9","toProperty":"id"},{"fromId":"caaffa39-c742-f1b5-3b5f-7a1850afe8b3","fromProperty":"result","toId":"b676cea2-c188-109f-19f5-0261bd85aba9","toProperty":"Do"},{"fromId":"b676cea2-c188-109f-19f5-0261bd85aba9","fromProperty":"data","toId":"c9a6adfb-8168-e049-a06c-c19420aaea48","toProperty":"Data"},{"fromId":"f070a282-acfa-e9d8-4595-37f4a614f16f","fromProperty":"result","toId":"253f7ed7-2a51-6fd0-2494-85b078c1baee","toProperty":"src"},{"fromId":"5eb29799-2df1-5724-30ee-9bc98872f6c5","fromProperty":"BASE_URL","toId":"f070a282-acfa-e9d8-4595-37f4a614f16f","toProperty":"BASE_URL"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-AudioFile","toId":"f070a282-acfa-e9d8-4595-37f4a614f16f","toProperty":"AudioFile"},{"fromId":"f070a282-acfa-e9d8-4595-37f4a614f16f","fromProperty":"result","toId":"c675052d-de5b-fa70-99d6-3c0756d52992","toProperty":"mounted"},{"fromId":"7df13451-811d-7550-2fbb-6f536af9b1c7","fromProperty":"out-PhoneNumber","toId":"a93ec8db-96f7-b02b-62b4-3c751838fa97","toProperty":"phone"},{"fromId":"a93ec8db-96f7-b02b-62b4-3c751838fa97","fromProperty":"result","toId":"d947746e-2232-f1e0-09b9-a853360f9ecf","toProperty":"src"},{"fromId":"4fc8df07-0758-b087-083e-3649dc3bc713","fromProperty":"API_URL","toId":"a93ec8db-96f7-b02b-62b4-3c751838fa97","toProperty":"API_URL"}],"roots":[{"id":"059e0273-7a96-08bf-c2d3-d52f146af71f","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"notifications-detail","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"notifications-detail","index":32}],"children":[{"id":"b942f6a5-1540-787b-f00b-0cdb554695fd","type":"Group","label":"Container","parameters":{"scrollEnabled":true,"paddingLeft":{"value":60,"unit":"px"},"paddingRight":{"value":60,"unit":"px"},"rowGap":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"c26787c0-0d52-1d0e-f4dd-9a82c9d36b2a","type":"Group","label":"Header","parameters":{"minWidth":{"value":100,"unit":"%"},"minHeight":{"value":80,"unit":"px"},"backgroundColor":"transparent","maxHeight":{"value":80,"unit":"px"},"flexDirection":"row","alignItems":"center","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"columnGap":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"2b314003-4ba8-7950-bc77-667589d1f3da","type":"net.noodl.controls.button","label":"BackButton","parameters":{"boxShadowEnabled":false,"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"arrow_back_ios_new","codeAsClass":false},"sizeMode":"contentSize","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"alignY":"center","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"0d12eb52-f51c-76fb-4438-72edab3dc98e","type":"Text","parameters":{"text":"Chi tiết yêu cầu","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"ea3848ad-8aa7-6f73-fc72-cb964474119c","type":"net.noodl.visual.columns","label":"Content","parameters":{"layoutString":"1 1"},"ports":[],"dynamicports":[],"children":[{"id":"f08a4095-3c0b-41b6-2028-17db007085f2","type":"Group","label":"Col1","parameters":{"rowGap":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"a80bbb26-437c-2eda-61de-ed07ab8d656f","type":"Group","label":"Thông tin người gửi","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","rowGap":{"value":4,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"a23c83d8-f980-d9bc-bcca-aae84a8f42eb","type":"Text","parameters":{"text":"Thông tin người gửi","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","color":"Primary"},"ports":[],"dynamicports":[],"children":[]},{"id":"d79d613f-b449-c577-8672-a5525ccb3fb7","type":"Group","label":"","parameters":{"flexDirection":"row","sizeMode":"contentHeight","marginBottom":{"value":0,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"9562fb3d-80ea-3061-9f0a-ff0233cf1f76","type":"Text","parameters":{"text":"Họ tên: ","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"bd3f9029-c766-11a9-92ef-e6167e52e858","type":"Text","parameters":{"text":"....","sizeMode":"contentSize","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"586bb827-0478-90dc-7e3f-0cfd16394a16","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","marginBottom":{"value":0,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"59548a5b-5b44-3127-d3bd-8019494766f2","type":"Text","label":"Số điện thoại: ","parameters":{"text":"Số điện thoại: ","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"4e312796-c579-f427-7604-de94ff63261c","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"backgroundColor":"transparent","sizeMode":"contentSize","color":"Grey - 900","alignY":"bottom","alignX":"left","minWidth":{"value":0,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","label":"","fontSize":{"value":18,"unit":"px"}},"stateParameters":{"hover":{"color":"#1666FF"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"e8caf014-df7b-d6fd-4a97-e94524665aa0","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","marginBottom":{"value":0,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"60ff2ca9-d1ff-b018-38ac-1e5cf47c3565","type":"Text","parameters":{"text":"Email: ","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"3603766f-ddbe-b2bb-ef17-cae47e5c09b6","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"backgroundColor":"transparent","sizeMode":"contentSize","color":"Grey - 900","alignY":"bottom","alignX":"left","minWidth":{"value":0,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","label":"","fontSize":{"value":18,"unit":"px"}},"stateParameters":{"hover":{"color":"#1666FF"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"a8e847cd-a444-8d05-8386-032235b69989","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"sizeMode":"contentHeight","alignX":"left"},"ports":[],"dynamicports":[],"children":[{"id":"84f5b375-b43d-290b-10f1-d3a51c4f49e9","type":"Text","parameters":{"text":"Địa chỉ:","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"0fba6fde-5316-4f52-e430-5eaeae4b738c","type":"Text","parameters":{"text":"...","sizeMode":"contentHeight","fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"9ffb540e-3d05-f0a6-1279-60e974710ab8","type":"Group","parameters":{"sizeMode":"explicit","alignItems":"flex-start"},"ports":[],"dynamicports":[],"children":[{"id":"d947746e-2232-f1e0-09b9-a853360f9ecf","type":"Image","parameters":{"sizeMode":"contentHeight","width":{"value":100,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"f1e5e5d1-a700-a2c3-3148-04bf7066fc59","type":"Group","label":"Thông tin thiên tai","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"f7431d13-f5d1-fbda-4117-028deb40c487","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","alignX":"left"},"ports":[],"dynamicports":[],"children":[{"id":"dd110583-6aa5-00b4-f8b1-9c8cd7dc17a3","type":"Text","parameters":{"text":"Tên thiên tai: ","sizeMode":"contentSize","color":"Danger","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"dynamicports":[],"children":[]},{"id":"2d41af34-9785-7628-5439-e41bd865fc93","type":"Text","parameters":{"text":"...","sizeMode":"contentSize","fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"b729fd2d-dbce-b91a-06e9-7c2708aa522d","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"a486cb1c-1934-8f18-86c0-b559c15b1cca","type":"Group","label":"Trạng thái","parameters":{"flexDirection":"row","sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"c7aa9a12-c4b9-e71b-1afb-b6dea7d5e16b","type":"Text","parameters":{"text":"Trạng thái: ","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"5f2975cc-c50b-5961-6e08-d7fd634d6cbd","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"ECFCCB","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Success"},"ports":[],"dynamicports":[],"children":[{"id":"83bf2a0f-8f8d-414f-c099-d48ea2ac72f3","type":"Text","variant":"active","label":"","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đã hỗ trợ"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"2cc7012d-c469-9205-34b7-ea9325affff5","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"FEF8C3","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Notice"},"ports":[],"dynamicports":[],"children":[{"id":"db76149a-1f1b-6e0e-89ac-71c3cf2d705b","type":"Text","variant":"active","label":"","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đang hỗ trợ","color":"A06109"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"fa65c7d3-7dd2-a30b-5c73-c2f6392c344a","type":"Group","parameters":{"flexDirection":"row","justifyContent":"flex-start","borderRadius":{"value":8,"unit":"px"},"backgroundColor":"FBECEC","borderStyle":"solid","borderWidth":{"value":0.2,"unit":"px"},"borderColor":"Notice","visible":true,"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[{"id":"c7f2f5d0-df53-0b8c-9c1d-053dd73bfd6f","type":"Text","variant":"active","parameters":{"text":"Chưa được hỗ trợ","color":"Danger","fontSize":{"value":14,"unit":"px"},"textAlignY":"center"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]}]}]}]},{"id":"4b2bfc56-ade0-1960-877b-96ea586c2763","type":"Group","label":"Nhu cầu","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"437378c8-f681-be20-dad0-d23c2860d325","type":"Text","parameters":{"text":"Nhu cầu","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"45b5a478-2457-07eb-2b5b-4e37d3c41e75","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 ","direction":"row","minWidth":{"value":100,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"f0874633-65c2-3492-b3bc-9fc1bdcdadbf","type":"net.noodl.controls.checkbox","parameters":{"label":"Đồ ăn","useLabel":true,"enabled":false},"stateParameters":{"disabled":{"opacity":1}},"ports":[],"dynamicports":[],"children":[]},{"id":"037ea91f-4b82-c073-a333-3f5c5d323824","type":"net.noodl.controls.checkbox","parameters":{"label":"Nước uống","enabled":false},"stateParameters":{"disabled":{"opacity":1}},"ports":[],"dynamicports":[],"children":[]},{"id":"24bedd99-a1df-438f-8ada-1d50e1e1ec79","type":"net.noodl.controls.checkbox","parameters":{"label":"Y tế","enabled":false},"stateParameters":{"disabled":{"opacity":1}},"ports":[],"dynamicports":[],"children":[]},{"id":"72b34cd5-94ef-16e5-67aa-09dcaad2e329","type":"net.noodl.controls.checkbox","parameters":{"label":"Khác","enabled":false,"checked":true},"stateParameters":{"disabled":{"opacity":1}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"40213315-4865-2345-abf9-d2ffda011d59","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"60fd36ba-7831-c08a-a27c-d221611eb521","type":"Text","parameters":{"text":"Chi tiết:","sizeMode":"contentSize","color":"Grey - 600","fontSize":{"value":18,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"6d2cd08d-4cb6-2f5f-67ca-1b5d858e84b8","type":"Text","parameters":{"fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"c675052d-de5b-fa70-99d6-3c0756d52992","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":24,"unit":"px"},"marginTop":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"cd0bca28-e907-832e-cc68-86a2ffceaed1","type":"Text","parameters":{"text":"Âm thanh tại hiện trường","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"253f7ed7-2a51-6fd0-2494-85b078c1baee","type":"Video","parameters":{"src":"","autoplay":false,"controls":true,"muted":false,"loop":false,"sizeMode":"contentHeight","objectFit":"none","objectPositionX":{"value":0,"unit":"%"},"objectPositionY":{"value":0,"unit":"%"},"minHeight":{"value":50,"unit":"px"},"maxHeight":{"value":50,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"f779ba42-031e-322d-cac3-a0911002d0fc","type":"Group","label":"Col2","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"cssClassName":"w-full h-full","minWidth":{"value":100,"unit":"%"},"height":{"value":100,"unit":"px","isFixed":false},"minHeight":{"value":100,"unit":"%"}},"ports":[],"dynamicports":[],"children":[{"id":"dfa628bf-734a-faa3-5f35-699963dc031e","type":"module.inlineHtml","label":"Map","parameters":{"html":"<div id=\"map\" style=\"width: 100%; height: 100%; border-radius: 4px\"></div>\r\n<script>\r\n  // tọa độ giữa tỉnh (các tỉnh đang bị thiên tai)\r\n  function calculateCenter(points) {\r\n    // Kiểm tra xem danh sách tọa độ có rỗng hay không\r\n    if (!points || points.length === 0) {\r\n      return null; // Không có tọa độ nào để tính\r\n    }\r\n\r\n    let totalX = 0,\r\n      totalY = 0;\r\n\r\n    // Duyệt qua danh sách tọa độ và tính tổng\r\n    points.forEach((point) => {\r\n      totalX += point.lng;\r\n      totalY += point.lat;\r\n    });\r\n\r\n    // Tính trung bình cộng\r\n    const centerX = totalX / points.length;\r\n    const centerY = totalY / points.length;\r\n\r\n    // Trả về tọa độ trung tâm\r\n    return { lng: centerX, lat: centerY };\r\n  }\r\n\r\n  function calculateZoom(points) {\r\n    let maxDistance = 0;\r\n    points.forEach((point1) => {\r\n      points.forEach((point2) => {\r\n        const distance = Math.sqrt(\r\n          Math.pow(point1.lat - point2.lat, 2) + Math.pow(point1.lng - point2.lng, 2)\r\n        );\r\n        if (distance > maxDistance) maxDistance = distance;\r\n      });\r\n    });\r\n\r\n    // Quy đổi khoảng cách thành mức zoom\r\n    // Bạn có thể điều chỉnh giá trị này dựa trên kích thước bản đồ\r\n    if (maxDistance > 1) return 5; // Zoom out xa hơn nếu khoảng cách lớn\r\n    if (maxDistance > 0.5) return 8; // Trung bình\r\n    return 10; // Zoom gần\r\n  }\r\n\r\n  // Hàm chuẩn hóa chuỗi\r\n  function normalizeString(str) {\r\n    return str\r\n      .replace(/Tỉnh/g, \"\")\r\n      .replace(/Thành phố/g, \"\")\r\n      .trim(); // Xóa khoảng trắng đầu và cuối chuỗi\r\n  }\r\n\r\n  function updatePosition(position) {\r\n    const { latitude, longitude } = position.coords;\r\n    console.log({ latitude, longitude });\r\n    marker.setLngLat([longitude, latitude]);\r\n  }\r\n\r\n  // khai báo\r\n  function createMapbox() {\r\n    mapboxgl.accessToken =\r\n      \"pk.eyJ1IjoiZGhpZXAyMzA3IiwiYSI6ImNtNDRpeDFtejBuNzkycHB6bXp6eWZ1MTQifQ.169cDiC_Q2YWzRBdIxxgPg\";\r\n\r\n    const provinces = localStorage.getItem(\"provinces\")\r\n      ? JSON.parse(localStorage.getItem(\"provinces\"))\r\n      : [];\r\n\r\n    const locations = localStorage.getItem(\"locations\")\r\n      ? JSON.parse(localStorage.getItem(\"locations\"))\r\n      : [];\r\n\r\n    const provinceNames = provinces?.map((province) => normalizeString(province.name));\r\n\r\n    // Không sửa\r\n    map = new mapboxgl.Map({\r\n      style: \"mapbox://styles/dhiep2307/cm44mghvy011l01sd5cci6k20\", // stylesheet location\r\n      container: \"map\",\r\n      center: [locations[0].lng, locations[0].lat],\r\n      zoom: 8,\r\n    });\r\n\r\n    marker = new mapboxgl.Marker();\r\n\r\n    // Thêm marker\r\n    if (locations.length > 0) {\r\n      locations.map((location) => {\r\n        const marker2 = new mapboxgl.Marker({ color: \"red\" })\r\n          .setLngLat([location.lng, location.lat]) // Vị trí\r\n          .addTo(map);\r\n\r\n        const popup = new mapboxgl.Popup({\r\n          offset: 25,\r\n          closeOnClick: true,\r\n          closeButton: true,\r\n        }).setHTML(`\r\n            <h3 style=\"font-size: 18px; font-weight: bold; color: #333; margin: 0 0 10px 0;\">${location?.description}</h3>\r\n            <a style=\"\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              gap: 5px;\r\n              font-size: 14px;\r\n              text-decoration: none;\r\n              padding: 8px 12px;\r\n              border-radius: 6px;\r\n              background: linear-gradient(to right, #2ecc71, #27ae60);\r\n              color: white;\r\n              font-weight: 700;\r\n              transition: all 0.3s ease;\r\n              box-shadow: 0 2px 4px rgba(46,204,113,0.2);\r\n            \" href=\"tel://${location?.phone}\">\r\n              <svg style=\"width: 16px; height: 16px;\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"/>\r\n              </svg>\r\n              ${location?.phone}\r\n            </a>\r\n        `);\r\n\r\n        marker2.setPopup(popup);\r\n      });\r\n    }\r\n\r\n    // Tạo map\r\n    map.on(\"load\", function () {\r\n      map.addSource(\"diaphanhuyen-4apinm\", {\r\n        type: \"vector\",\r\n        url: \"mapbox://dhiep2307.0va1jnhw\",\r\n      });\r\n\r\n      if (provinces.length > 0) {\r\n        map.addLayer({\r\n          id: \"loc-tinh\",\r\n          type: \"fill\",\r\n          source: \"diaphanhuyen-4apinm\",\r\n          \"source-layer\": \"diaphanhuyen-4apinm\",\r\n          layout: {},\r\n          paint: {\r\n            \"fill-color\": \"#ff6666\",\r\n            \"fill-opacity\": 0.2,\r\n          },\r\n          filter: [\"in\", \"Ten_Tinh\", ...provinceNames],\r\n        });\r\n\r\n        provinces.forEach((e) => {\r\n          map.addLayer({\r\n            id: \"text-layer-tinh-\" + e.name,\r\n            type: \"symbol\",\r\n            source: {\r\n              type: \"geojson\",\r\n              data: {\r\n                type: \"FeatureCollection\",\r\n                features: [\r\n                  {\r\n                    type: \"Feature\",\r\n                    geometry: {\r\n                      type: \"Point\",\r\n                      coordinates: [e.location.lng, e.location.lat],\r\n                    },\r\n                    properties: {\r\n                      title: `${e.name}`, // Văn bản sẽ hiển thị\r\n                    },\r\n                  },\r\n                ],\r\n              },\r\n            },\r\n            layout: {\r\n              \"text-field\": [\"get\", \"title\"], // Lấy giá trị từ thuộc tính 'title' để hiển thị\r\n              \"text-size\": [\r\n                \"interpolate\", // Biểu thức interpolate giúp thay đổi kích thước theo zoom\r\n                [\"linear\"], // Mức độ thay đổi là tuyến tính\r\n                [\"zoom\"], // Sử dụng zoom level để điều chỉnh\r\n                5,\r\n                9, // Zoom level 5: 10px (kích thước chữ nhỏ)\r\n                15,\r\n                30, // Zoom level 15: 30px (kích thước chữ lớn)\r\n              ], // Kích thước chữ\r\n              \"text-anchor\": \"center\", // Căn chỉnh chữ theo giữa điểm\r\n              \"text-offset\": [0, 0], // Định vị trí chữ (tùy chọn)\r\n            },\r\n            paint: {\r\n              \"text-color\": \"#186bf0\", // Màu chữ\r\n              \"text-halo-color\": \"#FFFFFF\", // Màu viền chữ\r\n              \"text-halo-width\": 2, // Độ rộng viền chữ\r\n            },\r\n          });\r\n        });\r\n      }\r\n\r\n      // Thêm marker\r\n      // if (locations.length > 0) {\r\n      //   locations.map((location) => {\r\n      //     const marker2 = new mapboxgl.Marker({ color: \"red\" })\r\n      //       .setLngLat([106.348231, 9.9229538]) // Vị trí\r\n      //       .addTo(map); // Thêm vào bản đồ\r\n      //   });\r\n      // }\r\n\r\n      // // Add zoom and rotation controls to the map.\r\n      map.addControl(new mapboxgl.NavigationControl());\r\n      map.addControl(new mapboxgl.FullscreenControl());\r\n\r\n      // Không sửa\r\n      //Thêm layer HS, TS\r\n\r\n      map.addLayer({\r\n        id: \"text-layer-truong-sa\",\r\n        type: \"symbol\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"FeatureCollection\",\r\n            features: [\r\n              {\r\n                type: \"Feature\",\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [113.81768, 9.46653],\r\n                },\r\n                properties: {\r\n                  title: \"Quần đảo Trường Sa (Việt Nam)\",\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        },\r\n        layout: {\r\n          \"text-field\": [\"get\", \"title\"], // Lấy giá trị từ thuộc tính 'title' để hiển thị\r\n          \"text-size\": [\r\n            \"interpolate\", // Biểu thức interpolate giúp thay đổi kích thước theo zoom\r\n            [\"linear\"], // Mức độ thay đổi là tuyến tính\r\n            [\"zoom\"], // Sử dụng zoom level để điều chỉnh\r\n            5,\r\n            9, // Zoom level 5: 10px (kích thước chữ nhỏ)\r\n            15,\r\n            30, // Zoom level 15: 30px (kích thước chữ lớn)\r\n          ], // Kích thước chữ\r\n          \"text-anchor\": \"center\", // Căn chỉnh chữ theo giữa điểm\r\n          \"text-offset\": [0, 0], // Định vị trí chữ (tùy chọn)\r\n        },\r\n        paint: {\r\n          \"text-color\": \"#186bf0\", // Màu chữ\r\n          \"text-halo-color\": \"#FFFFFF\", // Màu viền chữ\r\n          \"text-halo-width\": 2, // Độ rộng viền chữ\r\n        },\r\n      });\r\n\r\n      map.addLayer({\r\n        id: \"text-layer-hoang-sa\",\r\n        type: \"symbol\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"FeatureCollection\",\r\n            features: [\r\n              {\r\n                type: \"Feature\",\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [111.90739, 16.50884],\r\n                },\r\n                properties: {\r\n                  title: \"Quần đảo Hoàng Sa (Việt Nam)\", // Văn bản sẽ hiển thị\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        },\r\n        layout: {\r\n          \"text-field\": [\"get\", \"title\"], // Lấy giá trị từ thuộc tính 'title' để hiển thị\r\n          \"text-size\": [\r\n            \"interpolate\", // Biểu thức interpolate giúp thay đổi kích thước theo zoom\r\n            [\"linear\"], // Mức độ thay đổi là tuyến tính\r\n            [\"zoom\"], // Sử dụng zoom level để điều chỉnh\r\n            5,\r\n            9, // Zoom level 5: 10px (kích thước chữ nhỏ)\r\n            15,\r\n            30, // Zoom level 15: 30px (kích thước chữ lớn)\r\n          ], // Kích thước chữ\r\n          \"text-anchor\": \"center\", // Căn chỉnh chữ theo giữa điểm\r\n          \"text-offset\": [0, 0], // Định vị trí chữ (tùy chọn)\r\n        },\r\n        paint: {\r\n          \"text-color\": \"#186bf0\", // Màu chữ\r\n          \"text-halo-color\": \"#FFFFFF\", // Màu viền chữ\r\n          \"text-halo-width\": 2, // Độ rộng viền chữ\r\n        },\r\n      });\r\n\r\n      map.addLayer({\r\n        id: \"text-layer-bien-dong\",\r\n        type: \"symbol\",\r\n        source: {\r\n          type: \"geojson\",\r\n          data: {\r\n            type: \"FeatureCollection\",\r\n            features: [\r\n              {\r\n                type: \"Feature\",\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [113.23996, 13.84156],\r\n                },\r\n                properties: {\r\n                  title: \"Biển Đông\", // Văn bản sẽ hiển thị\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        },\r\n        layout: {\r\n          \"text-field\": [\"get\", \"title\"], // Lấy giá trị từ thuộc tính 'title' để hiển thị\r\n          \"text-size\": [\r\n            \"interpolate\", // Biểu thức interpolate giúp thay đổi kích thước theo zoom\r\n            [\"linear\"], // Mức độ thay đổi là tuyến tính\r\n            [\"zoom\"], // Sử dụng zoom level để điều chỉnh\r\n            14,\r\n            16, // Zoom level 5: 10px (kích thước chữ nhỏ)\r\n            18,\r\n            30, // Zoom level 15: 30px (kích thước chữ lớn)\r\n          ], // Kích thước chữ\r\n          \"text-anchor\": \"center\", // Căn chỉnh chữ theo giữa điểm\r\n          \"text-offset\": [0, 0], // Định vị trí chữ (tùy chọn)\r\n        },\r\n        paint: {\r\n          \"text-color\": \"#186bf0\", // Màu chữ\r\n          \"text-halo-color\": \"#FFFFFF\", // Màu viền chữ\r\n          \"text-halo-width\": 2, // Độ rộng viền chữ\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  createMapbox();\r\n</script>\r\n","runJs":true,"styleCss":"width: 100%;\r\nheight: 100%;","mounted":false},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"946a3597-9983-5974-52e1-c939999c76fb","type":"Group","label":"Hình ảnh","parameters":{"backgroundColor":"Grey - 200","paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","marginBottom":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"ff493b92-fdc8-595e-cad8-8b14a3198bcf","type":"Text","parameters":{"text":"Hình ảnh tại hiện trường","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"fcfb4344-28f5-0c08-79e7-5858f14cad9e","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[{"id":"bc9a589b-2aaa-59fb-e9a7-77f2a7d28752","type":"For Each","parameters":{"template":"/Page/notifications-detail/ImageList"},"ports":[],"dynamicports":[{"name":"itemOutputSignal-open","displayName":"open","type":"signal","plug":"output","group":"Item Signals","index":6},{"name":"itemOutput-ImageSubmit","displayName":"ImageSubmit","type":"*","plug":"output","group":"Item Outputs","index":7},{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":8}],"children":[]},{"id":"41894885-3a91-f888-9cb2-49e336e871e1","type":"/Page/notifications-detail/ModalImage","parameters":{},"ports":[],"dynamicports":[],"children":[]}]}]}]}]},{"id":"96c94d7d-d02e-c703-aa54-e37c08ad61fd","type":"PageInputs","x":1.078534639338045,"y":-90.18228625923513,"parameters":{"queryParams":"id"},"ports":[],"dynamicports":[{"name":"pm-id","displayName":"id","type":"*","plug":"output","group":"Parameters","index":2}],"children":[]},{"id":"dd5cc777-2b12-1c3f-a260-d91a5ef0ac53","type":"/#Logic/GetRequestDetail","x":-264.19353202681714,"y":559.3284833020789,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"7df13451-811d-7550-2fbb-6f536af9b1c7","type":"JavaScriptFunction","x":-269.19353202681714,"y":1187.3284833020784,"parameters":{"functionScript":"const data = Inputs.data\r\n\r\nif (!data) return\r\n\r\nOutputs.FullName = data?.FullName\r\nOutputs.RequestDescription = data?.RequestDescription;\r\nOutputs.PeopleCount = data?.PeopleCount;\r\nOutputs.NeedWater = data?.NeedWater;\r\nOutputs.NeedFood = data?.NeedFood;\r\nOutputs.NeedMedical = data?.NeedMedical;\r\nOutputs.Location = data?.Location;\r\nOutputs.PhoneNumber = data?.PhoneNumber;\r\nOutputs.Email = data?.Email;\r\nOutputs.Province = data?.Province;\r\nOutputs.District = data?.District;\r\nOutputs.Ward = data?.Ward;\r\nOutputs.Disaster = data?.Disaster;\r\nOutputs.DisasterDescription = data?.Disaster?.Description;\r\nOutputs.DamageImage = data?.DamageImage\r\nOutputs.State = data?.State\r\nOutputs.AcceptedBy = data?.AcceptedBy\r\nOutputs.AudioFile = data?.AudioFile"},"ports":[],"dynamicports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-FullName","displayName":"FullName","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-RequestDescription","displayName":"RequestDescription","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-PeopleCount","displayName":"PeopleCount","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-NeedWater","displayName":"NeedWater","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-NeedFood","displayName":"NeedFood","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-NeedMedical","displayName":"NeedMedical","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Location","displayName":"Location","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-PhoneNumber","displayName":"PhoneNumber","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Email","displayName":"Email","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Province","displayName":"Province","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-District","displayName":"District","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Ward","displayName":"Ward","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-Disaster","displayName":"Disaster","plug":"output","type":"*","group":"Outputs","index":17},{"name":"out-DisasterDescription","displayName":"DisasterDescription","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-DamageImage","displayName":"DamageImage","plug":"output","type":"*","group":"Outputs","index":19},{"name":"out-State","displayName":"State","plug":"output","type":"*","group":"Outputs","index":20},{"name":"out-AcceptedBy","displayName":"AcceptedBy","plug":"output","type":"*","group":"Outputs","index":21},{"name":"out-AudioFile","displayName":"AudioFile","plug":"output","type":"*","group":"Outputs","index":22}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"7967d99e-14f9-563f-c3da-b04bb9d3d8e6","type":"JavaScriptFunction","x":-266.19353202681714,"y":1526.328483302079,"parameters":{"functionScript":"const provinceName = Inputs.Province?.FullName || \"\"\r\nconst districtName = Inputs.District?.FullName || \"\"\r\nconst wardName = Inputs.Ward?.FullName || \"\"\r\n\r\nconst parts = [];\r\n\r\n\r\nif (wardName) parts.push(wardName);\r\nif (districtName) parts.push(districtName);\r\nif (provinceName) parts.push(provinceName);\r\n\r\nif (parts.length > 0) {\r\n    const address = `${parts.join(\", \")}`; // Ghép các phần tử không rỗng\r\n    Outputs.Address = address\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Province","displayName":"Province","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-District","displayName":"District","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Ward","displayName":"Ward","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Address","displayName":"Address","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"9459424f-b572-33ce-e437-81772b5162b2","type":"net.noodl.externallink","label":"External Link","x":339.7067819469165,"y":1337.4737859048303,"parameters":{"link":""},"ports":[],"dynamicports":[],"children":[]},{"id":"41d90dbf-c318-2efb-a1e2-f85c90e58196","type":"Expression","x":338.4790442837617,"y":1431.8299832943528,"parameters":{"expression":"\"tel:\" + phone"},"ports":[],"dynamicports":[{"group":"Parameters","name":"phone","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"08d5a0a5-3876-068d-3066-1165c1de373b","type":"Expression","x":342.1037647773576,"y":1784.7605379586391,"parameters":{"expression":"\"mailto:\" + email"},"ports":[],"dynamicports":[{"group":"Parameters","name":"email","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"b97726ae-17f4-8877-ae08-72916581b91e","type":"net.noodl.externallink","label":"External Link","x":342.60887907206074,"y":1690.4043405691161,"parameters":{"link":""},"ports":[],"dynamicports":[],"children":[]},{"id":"4746d222-859a-b188-b4aa-24dd781b94a5","type":"Expression","x":-273.19353202681714,"y":1686.328483302079,"parameters":{"expression":"Location.lat"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Location","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"c29fca38-e8ba-93ae-c0a3-6dcdb7c035eb","type":"Expression","x":-272.19353202681714,"y":1806.3284833020793,"parameters":{"expression":"Location.lng"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Location","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"1c5069bf-e418-5b67-56cd-b2cf7c3fd949","type":"JavaScriptFunction","x":-272.19353202681714,"y":1036.3284833020784,"parameters":{"functionScript":"const state = Inputs.state || false\r\nconst AcceptedBy = Inputs.AcceptedBy\r\n\r\nOutputs.ChuaHoTro = false;\r\nOutputs.DangHoTro = false;\r\nOutputs.DaHoTro = false;\r\n\r\nif (!state && AcceptedBy === null) {\r\n    Outputs.ChuaHoTro = true;\r\n    return\r\n} else if (!state && AcceptedBy !== null) {\r\n    Outputs.DangHoTro = true;\r\n    return\r\n} else if (state) {\r\n    Outputs.DaHoTro = true;\r\n    return;\r\n}"},"ports":[],"dynamicports":[{"name":"in-state","displayName":"state","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-AcceptedBy","displayName":"AcceptedBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-ChuaHoTro","displayName":"ChuaHoTro","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-DangHoTro","displayName":"DangHoTro","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-DaHoTro","displayName":"DaHoTro","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"93dce837-d352-c110-0468-56069b001a50","type":"Expression","x":-266.19353202681714,"y":917.328483302079,"parameters":{"expression":"Disaster.Name || ''"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Disaster","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"e3edba9d-046a-1272-b166-43cb8096bf01","type":"RouterNavigate","x":303.87402415170055,"y":261.9887240488028,"parameters":{"router":"Main","target":"/Page/notifications"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]},{"id":"8823063a-4853-d871-a06c-e5e3052348db","type":"Expression","label":"","x":339.22830885024734,"y":2480.23028054252,"parameters":{"expression":"width > 250\r\n"},"ports":[],"dynamicports":[{"group":"Parameters","name":"width","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"9f5f7771-6a9b-2fb7-a675-8306e5985ea5","type":"States","x":339.22830885024734,"y":2611.6717771105195,"parameters":{"values":"Layout String","states":"Is Single Column,Is Double Column","useTransitions":false,"type-Layout String":"string","value-Is Single Column-Layout String":"1","value-Is Double Column-Layout String":"1 1"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Layout String","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Layout String","name":"type-Layout String","index":7},{"plug":"input","type":"string","group":"Is Single Column Values","name":"value-Is Single Column-Layout String","displayName":"Layout String","editorName":"Is Single Column|Layout String","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Single Column","name":"to-Is Single Column","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Is Single Column","name":"at-Is Single Column","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Is Single Column","name":"reached-Is Single Column","group":"Current state","index":11},{"plug":"input","type":"string","group":"Is Double Column Values","name":"value-Is Double Column-Layout String","displayName":"Layout String","editorName":"Is Double Column|Layout String","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Double Column","name":"to-Is Double Column","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At Is Double Column","name":"at-Is Double Column","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached Is Double Column","name":"reached-Is Double Column","group":"Current state","index":15},{"plug":"input","type":{"name":"enum","enums":["Is Single Column","Is Double Column"]},"group":"States","displayName":"State","name":"currentState","default":"Is Single Column","index":16}],"children":[]},{"id":"fef4d9f3-7345-bf86-50eb-73379e955cd3","type":"/Components/Loading Spinner","x":-263.14357351348076,"y":481.9872857058359,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"88b57b01-1dbb-b746-8214-9cd9e8e6563a","type":"Expression","label":"width > 700","x":306.69952065069594,"y":340.78999833512154,"parameters":{"expression":"width > 700"},"ports":[],"dynamicports":[{"group":"Parameters","name":"width","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"33f2b387-3015-d176-e312-67c04f1c71ac","type":"States","x":306.69952065069594,"y":464.7394522894465,"parameters":{"values":"Layout String,Padding,ColHeight","states":"Is Single Column,Is Double Column","useTransitions":false,"type-Layout String":"string","value-Is Single Column-Layout String":"1","value-Is Double Column-Layout String":"1 1","value-Is Single Column-Padding":16,"value-Is Double Column-Padding":32},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Layout String","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Layout String","name":"type-Layout String","index":7},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Padding","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Padding","name":"type-Padding","index":9},{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"ColHeight","index":10},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"ColHeight","name":"type-ColHeight","index":11},{"plug":"input","type":"string","group":"Is Single Column Values","name":"value-Is Single Column-Layout String","displayName":"Layout String","editorName":"Is Single Column|Layout String","index":12},{"plug":"input","type":"number","group":"Is Single Column Values","name":"value-Is Single Column-Padding","displayName":"Padding","editorName":"Is Single Column|Padding","index":13},{"plug":"input","type":"number","group":"Is Single Column Values","name":"value-Is Single Column-ColHeight","displayName":"ColHeight","editorName":"Is Single Column|ColHeight","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Single Column","name":"to-Is Single Column","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At Is Single Column","name":"at-Is Single Column","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached Is Single Column","name":"reached-Is Single Column","group":"Current state","index":17},{"plug":"input","type":"string","group":"Is Double Column Values","name":"value-Is Double Column-Layout String","displayName":"Layout String","editorName":"Is Double Column|Layout String","index":18},{"plug":"input","type":"number","group":"Is Double Column Values","name":"value-Is Double Column-Padding","displayName":"Padding","editorName":"Is Double Column|Padding","index":19},{"plug":"input","type":"number","group":"Is Double Column Values","name":"value-Is Double Column-ColHeight","displayName":"ColHeight","editorName":"Is Double Column|ColHeight","index":20},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Is Double Column","name":"to-Is Double Column","group":"Go to state","index":21},{"plug":"output","type":"boolean","displayName":"At Is Double Column","name":"at-Is Double Column","group":"Current state","index":22},{"plug":"output","type":"signal","displayName":"Has Reached Is Double Column","name":"reached-Is Double Column","group":"Current state","index":23},{"plug":"input","type":{"name":"enum","enums":["Is Single Column","Is Double Column"]},"group":"States","displayName":"State","name":"currentState","default":"Is Single Column","index":24}],"children":[]},{"id":"f19c751b-068b-bcc2-2797-5d6f64c66aa1","type":"Javascript2","label":"HandleChange","x":289.24829940842324,"y":3781.323127808385,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"number\"\r\n};\r\n\r\nScript.Outputs = {\r\n  ValueChanged: \"number\"\r\n};\r\n\r\nfunction onChange() {\r\n  Script.Outputs.ValueChanged = Script.Inputs.Value;\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"ValueChanged","type":{"name":"number"},"plug":"output","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"0e1b1a69-e20b-b6cf-1797-a773594d3fa0","type":"JavaScriptFunction","label":"SetLocationData","x":-262.883656509695,"y":370.5540166204985,"parameters":{"functionScript":"const Data = Inputs.Data;\r\n\r\nif (Data) {\r\n\r\n    Outputs.Disaster = Data.Disaster\r\n\r\n    if (Data?.Location?.lat == 0 && Data?.Location?.lat == 0) {\r\n        localStorage.removeItem('locations')\r\n        return\r\n    }\r\n\r\n    const locations = [\r\n        {\r\n            description: Data.FullName,\r\n            phone: Data.PhoneNumber,\r\n            lat: Data.Location?.lat ? parseFloat(Data.Location.lat) : 0,\r\n            lng: Data.Location?.lat ? parseFloat(Data.Location.lng) : 0,\r\n        },\r\n    ];\r\n\r\n    const oldLocations = JSON.parse(localStorage.getItem(\"locations\")) || [];\r\n\r\n    if (JSON.stringify(locations) === JSON.stringify(oldLocations)) {\r\n        return;\r\n    } else {\r\n        localStorage.setItem(\"locations\", JSON.stringify(locations));\r\n        Outputs.Success();\r\n        return;\r\n    }\r\n}"},"ports":[],"dynamicports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Disaster","displayName":"Disaster","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"caaffa39-c742-f1b5-3b5f-7a1850afe8b3","type":"Expression","x":-261.883656509695,"y":257.5540166204985,"parameters":{"expression":"Disaster.documentId"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Disaster","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"b676cea2-c188-109f-19f5-0261bd85aba9","type":"/#Logic/GetDisasterDetail","x":-492.2672577272568,"y":277.4702558788038,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c9a6adfb-8168-e049-a06c-c19420aaea48","type":"/#Logic/UpdateProvinceData","label":"UpdateMapData","x":-491.7596962905837,"y":378.93244869543884,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f070a282-acfa-e9d8-4595-37f4a614f16f","type":"Expression","x":-307.55137838670214,"y":2804.8836337528105,"parameters":{"expression":"BASE_URL + AudioFile[0].url"},"ports":[],"dynamicports":[{"group":"Parameters","name":"BASE_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"AudioFile","type":{"name":"*","editAsType":"string"},"plug":"input","index":8},{"group":"Parameters","name":"url","type":{"name":"*","editAsType":"string"},"plug":"input","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"5eb29799-2df1-5724-30ee-9bc98872f6c5","type":"/#Logic/Environment","x":-308.4714489354536,"y":2731.525948559617,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"a93ec8db-96f7-b02b-62b4-3c751838fa97","type":"Expression","x":338.7331496247248,"y":1538.0598238132693,"parameters":{"expression":"API_URL + \"/qr-code?text=tel://\" + phone"},"ports":[],"dynamicports":[{"group":"Parameters","name":"API_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"phone","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"4fc8df07-0758-b087-083e-3649dc3bc713","type":"/#Logic/Environment","x":560.9750121526941,"y":1505.7679138216968,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["059e0273-7a96-08bf-c2d3-d52f146af71f"]}},{"name":"/Page/notifications-detail/ImageList","id":"2657bbee-32b4-5944-1d68-c6fde4d2ebb7","graph":{"connections":[{"fromId":"df322d72-fd31-e4f1-0b78-fbde3e045bb5","fromProperty":"prop-url","toId":"ff4a6164-2bfb-1440-a372-ba57f4bc0490","toProperty":"url"},{"fromId":"ff4a6164-2bfb-1440-a372-ba57f4bc0490","fromProperty":"result","toId":"5272199c-0e58-93f9-4912-c4681d1d71e6","toProperty":"src"},{"fromId":"03673027-853c-9c80-2c1d-1bcf205eea46","fromProperty":"onClick","toId":"cecd3cea-06e3-0107-efd7-150e1ab67380","toProperty":"open"},{"fromId":"ff4a6164-2bfb-1440-a372-ba57f4bc0490","fromProperty":"result","toId":"cecd3cea-06e3-0107-efd7-150e1ab67380","toProperty":"ImageSubmit"},{"fromId":"e815ff6e-b2a3-0268-1bae-1b7c71fac69f","fromProperty":"BASE_URL","toId":"ff4a6164-2bfb-1440-a372-ba57f4bc0490","toProperty":"BASE_URL"}],"roots":[{"id":"03673027-853c-9c80-2c1d-1bcf205eea46","type":"Group","x":-338,"y":-27,"parameters":{"backgroundColor":"#E7E7E9","borderRadius":{"value":12,"unit":"px"},"styleCss":"/* background-color: red; */\r\n    cursor: pointer;\r\n","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","sizeMode":"contentSize"},"stateParameters":{"hover":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Danger"}},"ports":[],"dynamicports":[],"children":[{"id":"5272199c-0e58-93f9-4912-c4681d1d71e6","type":"Image","parameters":{"src":"https://placehold.co/100x100/38BCF8/FFF?text=UniHand","minWidth":{"value":120,"unit":"px"},"minHeight":{"value":120,"unit":"px"},"maxWidth":{"value":120,"unit":"px"},"maxHeight":{"value":120,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","borderRadius":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"df322d72-fd31-e4f1-0b78-fbde3e045bb5","type":"Model2","x":-828.5,"y":37,"parameters":{"idSource":"foreach","properties":"url"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-url","displayName":"url","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"url Changed","name":"changed-url","index":8}],"children":[]},{"id":"ff4a6164-2bfb-1440-a372-ba57f4bc0490","type":"Expression","x":-557.5,"y":6,"parameters":{"expression":"BASE_URL + url"},"ports":[],"dynamicports":[{"group":"Parameters","name":"BASE_URL","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"url","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"cecd3cea-06e3-0107-efd7-150e1ab67380","type":"Component Outputs","x":-38.125,"y":-1,"parameters":{},"ports":[{"name":"open","plug":"input","type":{"name":"*"},"index":1},{"name":"ImageSubmit","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"e815ff6e-b2a3-0268-1bae-1b7c71fac69f","type":"/#Logic/Environment","x":-553.5,"y":-68.5,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["03673027-853c-9c80-2c1d-1bcf205eea46"]}},{"name":"/Page/notifications-detail/ModalImage","id":"a43ed3c5-7bd8-8dd3-304c-6e522eb3b321","graph":{"connections":[{"fromId":"25104957-2107-d8d9-5f65-5eca8ca5483b","fromProperty":"onClick","toId":"29ac68be-de17-8464-1115-58be00ea06da","toProperty":"to-close"},{"fromId":"59df326a-70e3-1411-80ca-adb27391f91c","fromProperty":"onClick","toId":"29ac68be-de17-8464-1115-58be00ea06da","toProperty":"to-close"},{"fromId":"29ac68be-de17-8464-1115-58be00ea06da","fromProperty":"hidden","toId":"1b7b12b2-fab1-48f5-c8f5-3f5ab2299b92","toProperty":"visible"},{"fromId":"26aa03a6-ebd0-01b7-e0fb-9178e3294c2c","fromProperty":"Open","toId":"29ac68be-de17-8464-1115-58be00ea06da","toProperty":"to-open"},{"fromId":"26aa03a6-ebd0-01b7-e0fb-9178e3294c2c","fromProperty":"url","toId":"89afbbfd-420c-2394-7684-161dc156310a","toProperty":"src"}],"roots":[{"id":"1b7b12b2-fab1-48f5-c8f5-3f5ab2299b92","type":"Group","x":-175.23689827383646,"y":-458.4117311779114,"parameters":{"styleCss":"/* background-color: red; */\r\nz-index: 9","position":"fixed","visible":false},"ports":[],"dynamicports":[],"children":[{"id":"59df326a-70e3-1411-80ca-adb27391f91c","type":"Group","label":"Dark BG Fullscreen","parameters":{"backgroundColor":"#000000A5"},"ports":[],"dynamicports":[],"children":[]},{"id":"25104957-2107-d8d9-5f65-5eca8ca5483b","type":"net.noodl.controls.button","label":"Close icon","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#999","useIcon":true,"useLabel":false,"iconColor":"Grey - 100","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"marginTop":{"value":12,"unit":"px"},"marginRight":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"a44c1d51-6062-2cb4-fea4-8a00c3de9105","type":"Group","label":"Modal","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","backgroundColor":"#E7E7E9","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","width":{"value":100,"unit":"%"},"minHeight":{"value":600,"unit":"px"},"maxWidth":{"value":600,"unit":"px"},"minWidth":{"value":600,"unit":"px"},"maxHeight":{"value":600,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"89afbbfd-420c-2394-7684-161dc156310a","type":"Image","parameters":{"src":"https://placehold.co/100x100/38BCF8/FFF?text=UniHand","styleCss":"  object-fit: contain;\r\n    height: 100%;\r\n    width: auto;\r\n","maxHeight":{"value":100,"unit":"%"},"maxWidth":{"value":100,"unit":"%"},"minWidth":{"value":100,"unit":"%"},"minHeight":{"value":100,"unit":"%"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"26aa03a6-ebd0-01b7-e0fb-9178e3294c2c","type":"Component Inputs","x":-458.23689827383646,"y":-160.4117311779114,"parameters":{},"ports":[{"name":"Open","plug":"output","type":{"name":"*"},"index":5},{"name":"url","plug":"output","type":{"name":"*"},"index":6}],"dynamicports":[],"children":[]},{"id":"29ac68be-de17-8464-1115-58be00ea06da","type":"States","x":-438.23689827383646,"y":-359.4117311779114,"parameters":{"states":"open,close","values":"hidden","type-hidden":"boolean","value-open-hidden":true,"value-close-hidden":false,"currentState":"close","type-button label":"string"},"ports":[],"dynamicports":[{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"hidden","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"hidden","name":"type-hidden","index":7},{"plug":"input","type":"boolean","group":"open Values","name":"value-open-hidden","displayName":"hidden","editorName":"open|hidden","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"open Transitions","name":"transitiondef-open","index":9},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To open","name":"to-open","group":"Go to state","index":10},{"plug":"output","type":"boolean","displayName":"At open","name":"at-open","group":"Current state","index":11},{"plug":"output","type":"signal","displayName":"Has Reached open","name":"reached-open","group":"Current state","index":12},{"plug":"input","type":"boolean","group":"close Values","name":"value-close-hidden","displayName":"hidden","editorName":"close|hidden","index":13},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"close Transitions","name":"transitiondef-close","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To close","name":"to-close","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At close","name":"at-close","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached close","name":"reached-close","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["open","close"]},"group":"States","displayName":"State","name":"currentState","default":"open","index":18}],"children":[]}],"visualRoots":["1b7b12b2-fab1-48f5-c8f5-3f5ab2299b92"]}},{"name":"/Page/notifications/Filter","id":"c6b5b32d-cc4d-ad4a-1160-a9df074bfa43","graph":{"connections":[{"fromId":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","fromProperty":"Response","toId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","toProperty":"in-Response"},{"fromId":"d9bf7ee1-71a0-3dda-4c7a-4ac51878a69c","fromProperty":"Response","toId":"151afb10-45e2-a16f-f5ae-98f7afbb0f2e","toProperty":"in-Response"},{"fromId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","fromProperty":"Response","toId":"3ab7f9b4-9fe0-7ee4-00cc-be210fcd194a","toProperty":"in-Response"},{"fromId":"1ba96604-e34e-157f-3aa9-c07830866cca","fromProperty":"Response","toId":"f1b4083b-0488-38eb-dc5a-359d82636549","toProperty":"in-Response"},{"fromId":"d54466c9-b98d-2ca5-da61-34fe105f22e7","fromProperty":"out-DropdownOptions","toId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","toProperty":"items"},{"fromId":"706dd045-5c75-eca4-5952-245cea7938f8","fromProperty":"out-DefautValue","toId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","toProperty":"value"},{"fromId":"b37bfb76-8971-960e-65e6-1f7cfe976e70","fromProperty":"didMount","toId":"d9bf7ee1-71a0-3dda-4c7a-4ac51878a69c","toProperty":"Fetch"},{"fromId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","fromProperty":"out-ProvinceId","toId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","toProperty":"value"},{"fromId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","fromProperty":"out-DistrictId","toId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","toProperty":"value"},{"fromId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","fromProperty":"out-WardId","toId":"26589e67-6572-90d1-7a44-8338ddf98112","toProperty":"value"},{"fromId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","fromProperty":"value","toId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","toProperty":"ProvinceId"},{"fromId":"151afb10-45e2-a16f-f5ae-98f7afbb0f2e","fromProperty":"out-Options","toId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","toProperty":"items"},{"fromId":"3ab7f9b4-9fe0-7ee4-00cc-be210fcd194a","fromProperty":"out-Options","toId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","toProperty":"items"},{"fromId":"f1b4083b-0488-38eb-dc5a-359d82636549","fromProperty":"out-Options","toId":"26589e67-6572-90d1-7a44-8338ddf98112","toProperty":"items"},{"fromId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","fromProperty":"value","toId":"1ba96604-e34e-157f-3aa9-c07830866cca","toProperty":"DistrictsId"},{"fromId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","fromProperty":"out-ProvinceId","toId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","toProperty":"Fetch"},{"fromId":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","fromProperty":"out-DistrictId","toId":"1ba96604-e34e-157f-3aa9-c07830866cca","toProperty":"Fetch"},{"fromId":"17fee454-fb1f-1c5f-5c31-20134f6d1e21","fromProperty":"Mounted","toId":"b37bfb76-8971-960e-65e6-1f7cfe976e70","toProperty":"mounted"},{"fromId":"3ab7f9b4-9fe0-7ee4-00cc-be210fcd194a","fromProperty":"out-Options","toId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","toProperty":"enabled"},{"fromId":"f1b4083b-0488-38eb-dc5a-359d82636549","fromProperty":"out-Options","toId":"26589e67-6572-90d1-7a44-8338ddf98112","toProperty":"enabled"},{"fromId":"b37bfb76-8971-960e-65e6-1f7cfe976e70","fromProperty":"didMount","toId":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","toProperty":"Fetch"},{"fromId":"26589e67-6572-90d1-7a44-8338ddf98112","fromProperty":"onChange","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"Changed"},{"fromId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","fromProperty":"value","toId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","toProperty":"Value"},{"fromId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","fromProperty":"Value","toId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","toProperty":"ProvinceId"},{"fromId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","fromProperty":"Done","toId":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","toProperty":"Fetch"},{"fromId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","fromProperty":"value","toId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","toProperty":"Value"},{"fromId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","fromProperty":"Value","toId":"1ba96604-e34e-157f-3aa9-c07830866cca","toProperty":"DistrictsId"},{"fromId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","fromProperty":"Done","toId":"1ba96604-e34e-157f-3aa9-c07830866cca","toProperty":"Fetch"},{"fromId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","fromProperty":"NullValue","toId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","toProperty":"value"},{"fromId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","fromProperty":"EmptyArr","toId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","toProperty":"items"},{"fromId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","fromProperty":"NullValue","toId":"26589e67-6572-90d1-7a44-8338ddf98112","toProperty":"value"},{"fromId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","fromProperty":"EmptyArr","toId":"26589e67-6572-90d1-7a44-8338ddf98112","toProperty":"items"},{"fromId":"d30f87e5-846d-15a9-2deb-659fe171a590","fromProperty":"onClick","toId":"605dfa97-029c-6a61-b6e5-cac2366f3808","toProperty":"Clear"},{"fromId":"605dfa97-029c-6a61-b6e5-cac2366f3808","fromProperty":"NullValue","toId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","toProperty":"value"},{"fromId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","fromProperty":"Value","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"DistrictsId"},{"fromId":"26589e67-6572-90d1-7a44-8338ddf98112","fromProperty":"value","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"WardId"},{"fromId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","fromProperty":"value","toId":"cce0e78c-6a98-f73e-1eb9-9be82adb7a2d","toProperty":"Value"},{"fromId":"605dfa97-029c-6a61-b6e5-cac2366f3808","fromProperty":"NullValue","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"ProvinceId"},{"fromId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","fromProperty":"Value","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"ProvinceId"},{"fromId":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","fromProperty":"Done","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"Changed"},{"fromId":"040e9be1-fba3-53ac-9bf9-862196e97dc4","fromProperty":"Done","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"Changed"},{"fromId":"605dfa97-029c-6a61-b6e5-cac2366f3808","fromProperty":"Done","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"Changed"},{"fromId":"cce0e78c-6a98-f73e-1eb9-9be82adb7a2d","fromProperty":"Value","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"DisasterId"},{"fromId":"cce0e78c-6a98-f73e-1eb9-9be82adb7a2d","fromProperty":"Done","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"Changed"},{"fromId":"fd0c50a3-4475-327a-a8d2-de72337d8800","fromProperty":"onClick","toId":"05d62c81-cb76-1676-6f92-66680c16c59a","toProperty":"Clear"},{"fromId":"05d62c81-cb76-1676-6f92-66680c16c59a","fromProperty":"NullValue","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"DisasterId"},{"fromId":"05d62c81-cb76-1676-6f92-66680c16c59a","fromProperty":"Done","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"Changed"},{"fromId":"605dfa97-029c-6a61-b6e5-cac2366f3808","fromProperty":"EmptyArr","toId":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","toProperty":"items"},{"fromId":"605dfa97-029c-6a61-b6e5-cac2366f3808","fromProperty":"EmptyArr","toId":"26589e67-6572-90d1-7a44-8338ddf98112","toProperty":"items"},{"fromId":"605dfa97-029c-6a61-b6e5-cac2366f3808","fromProperty":"NullValue","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"DistrictsId"},{"fromId":"605dfa97-029c-6a61-b6e5-cac2366f3808","fromProperty":"NullValue","toId":"68294839-8859-2b3c-cb1e-004332e4b5ae","toProperty":"WardId"},{"fromId":"05d62c81-cb76-1676-6f92-66680c16c59a","fromProperty":"EmptyArr","toId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","toProperty":"items"},{"fromId":"b37bfb76-8971-960e-65e6-1f7cfe976e70","fromProperty":"didMount","toId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","toProperty":"Do"},{"fromId":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","fromProperty":"onFocus","toId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","toProperty":"Do"},{"fromId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","fromProperty":"Data","toId":"d54466c9-b98d-2ca5-da61-34fe105f22e7","toProperty":"in-ResponseArray"},{"fromId":"f39cd2af-42f3-1846-cc2a-48a0f46403fe","fromProperty":"out-Dang","toId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","toProperty":"status"},{"fromId":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","fromProperty":"Data","toId":"706dd045-5c75-eca4-5952-245cea7938f8","toProperty":"in-ResponseArray"},{"fromId":"17fee454-fb1f-1c5f-5c31-20134f6d1e21","fromProperty":"Mounted","toId":"d58f8bca-be53-77b6-5089-04fa7787f8f9","toProperty":"Do"},{"fromId":"d58f8bca-be53-77b6-5089-04fa7787f8f9","fromProperty":"lat","toId":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","toProperty":"lat"},{"fromId":"d58f8bca-be53-77b6-5089-04fa7787f8f9","fromProperty":"lng","toId":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","toProperty":"lng"},{"fromId":"605dfa97-029c-6a61-b6e5-cac2366f3808","fromProperty":"EmptyArr","toId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","toProperty":"items"},{"fromId":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","fromProperty":"onFocus","toId":"d9bf7ee1-71a0-3dda-4c7a-4ac51878a69c","toProperty":"Fetch"}],"roots":[{"id":"b37bfb76-8971-960e-65e6-1f7cfe976e70","type":"Group","x":-91,"y":-255,"parameters":{"backgroundColor":"transparent","flexDirection":"row","columnGap":{"value":16,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"flexWrap":"nowrap"},"ports":[],"dynamicports":[],"children":[{"id":"c905f4e1-a16f-0886-b397-de14225a114a","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"ce04d8cd-805c-37c7-6ae9-e77e2f315efc","type":"net.noodl.controls.options","label":"Loai thien tai","parameters":{"items":"[\n    {\"Label\":\"Tất cả\", \"Value\":\"-1\"},\n]","label":"Thiên tai","placeholder":"Chọn thiên tai đang diễn ra"},"ports":[],"dynamicports":[],"children":[]},{"id":"4a99ac8a-0035-eeac-5fa2-8ad1e8626c70","type":"Group","parameters":{"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"fd0c50a3-4475-327a-a8d2-de72337d8800","type":"net.noodl.controls.button","parameters":{"height":{"value":32,"unit":"px"},"alignX":"left","label":"Hiện thị tất cả"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"29c25eba-4f52-b773-a32b-03e1fe1fd3dc","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"61bb99bd-f49f-0de6-5a18-2e682cbd489d","type":"net.noodl.controls.options","label":"Tỉnh","parameters":{"items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]","placeholder":"Chọn","label":"Tỉnh","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"a9454cab-bead-77b5-6da6-d49acc423f47","type":"Group","parameters":{"height":{"value":32,"unit":"px"},"flexDirection":"row","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"d30f87e5-846d-15a9-2deb-659fe171a590","type":"net.noodl.controls.button","parameters":{"height":{"value":32,"unit":"px"},"alignX":"left","label":"Huỷ lọc theo địa chỉ","backgroundColor":"Danger"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"81abcd35-ac71-cd7f-bb44-f844ddd9d5bb","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"3ec9157d-4e40-ff2e-bb80-18293ffcb9e3","type":"net.noodl.controls.options","label":"Huyện","parameters":{"placeholder":"Chọn","label":"Huyện","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","enabled":false},"ports":[],"dynamicports":[],"children":[]},{"id":"d09bd80e-78c1-535d-6216-e0b4104fa3bb","type":"Group","parameters":{"height":{"value":32,"unit":"px"},"flexDirection":"row","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"bf4e79df-0463-03ac-bb17-510240ac8005","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"26589e67-6572-90d1-7a44-8338ddf98112","type":"net.noodl.controls.options","label":"Xã","parameters":{"label":"Xã","placeholder":"Chọn","width":{"value":100,"unit":"%","isFixed":false},"sizeMode":"explicit","enabled":false},"ports":[],"dynamicports":[],"children":[]},{"id":"5f0dbca5-8e50-fcd7-269e-8a8825e12ed4","type":"Group","parameters":{"height":{"value":32,"unit":"px"},"flexDirection":"row","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"eb4aa1b6-85d7-02c9-549f-a7e3396ef984","type":"net.noodl.controls.button","parameters":{"height":{"value":32,"unit":"px"},"label":"Chi tiết","mounted":false},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"569b3b80-dec8-ff58-05bb-2d8ac5a1f346","type":"/#Logic/GetDisasters","label":"GetDisasters","x":-326.1269065937613,"y":-203.19938902834667,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d54466c9-b98d-2ca5-da61-34fe105f22e7","type":"JavaScriptFunction","x":-327.1269065937613,"y":-112.19938902834667,"parameters":{"functionScript":"const inputArray = Inputs.ResponseArray;\r\nif(inputArray) {\r\n    Outputs.DropdownOptions = inputArray.map((item, index) => ({\r\n        Label: item.Name,\r\n        Value: item.id.toString()\r\n    }));\r\n}"},"ports":[],"dynamicports":[{"name":"in-ResponseArray","displayName":"ResponseArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DropdownOptions","displayName":"DropdownOptions","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"a22606fe-18dd-066f-7165-c47a9c5eb1f7","type":"/#Logic/ConvertLocation","x":-318.79230971374955,"y":255.0232527795513,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"99f7ded4-bd64-10a5-f99f-22f7a47d1c6f","type":"JavaScriptFunction","x":-320.9003429547468,"y":369.2947209235956,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (response && response.Province && response.District && response.Ward) {\r\n    Outputs.ProvinceId = response.Province.id;\r\n    Outputs.DistrictId = response.District.id;\r\n    Outputs.WardId = response.Ward.id;\r\n} else {\r\n    Outputs.ProvinceId = null;\r\n    Outputs.DistrictId = null;\r\n    Outputs.WardId = null;\r\n}"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ProvinceId","displayName":"ProvinceId","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-DistrictId","displayName":"DistrictId","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-WardId","displayName":"WardId","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"706dd045-5c75-eca4-5952-245cea7938f8","type":"JavaScriptFunction","x":-327.1269065937613,"y":-19.199389028346673,"parameters":{"functionScript":"const inputArray = Inputs.ResponseArray;\r\nif (inputArray && inputArray.length > 0) {\r\n    const lastItem = inputArray[inputArray.length - 1];\r\n    Outputs.DefautValue = lastItem.id.toString();\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-ResponseArray","displayName":"ResponseArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-DefautValue","displayName":"DefautValue","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d9bf7ee1-71a0-3dda-4c7a-4ac51878a69c","type":"/#Logic/GetProvinces","label":"GetProvinces","x":795.0694457395741,"y":169.22676329517532,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"151afb10-45e2-a16f-f5ae-98f7afbb0f2e","type":"JavaScriptFunction","x":605.069445739574,"y":251.2267632951753,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString()\r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"0b369c61-fb71-e9cc-c957-0bcb6f5f54fa","type":"/#Logic/GetDistricts","x":794.0694457395741,"y":262.22676329517526,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"3ab7f9b4-9fe0-7ee4-00cc-be210fcd194a","type":"JavaScriptFunction","x":604.069445739574,"y":327.22676329517526,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"1ba96604-e34e-157f-3aa9-c07830866cca","type":"/#Logic/GetWards","x":795.0694457395741,"y":375.2267632951754,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f1b4083b-0488-38eb-dc5a-359d82636549","type":"JavaScriptFunction","x":604.069445739574,"y":402.2267632951754,"parameters":{"functionScript":"const response = Inputs.Response;\r\n\r\nif (Array.isArray(response)) {\r\n    const options = response.map((item, index) => ({\r\n        Label: item.FullName,\r\n        Value: item.id.toString() \r\n    }));\r\n    Outputs.Options = options;\r\n} else {\r\n    Outputs.Options = [];\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Options","displayName":"Options","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"17fee454-fb1f-1c5f-5c31-20134f6d1e21","type":"Component Inputs","x":-90.78611481826238,"y":-332.3149259255106,"parameters":{},"ports":[{"name":"Mounted","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"68294839-8859-2b3c-cb1e-004332e4b5ae","type":"Component Outputs","x":-337.36931123730017,"y":517.4619766642282,"parameters":{},"ports":[{"name":"ProvinceId","plug":"input","type":{"name":"*"},"index":1},{"name":"DistrictsId","plug":"input","type":{"name":"*"},"index":2},{"name":"WardId","plug":"input","type":{"name":"*"},"index":3},{"name":"Changed","plug":"input","type":{"name":"*"},"index":4},{"name":"DisasterId","plug":"input","type":{"name":"*"},"index":5}],"dynamicports":[],"children":[]},{"id":"142466a7-de0e-a76f-4ec1-3c4d6dcb3e65","type":"Javascript2","label":"HandleChange","x":301.5152354570638,"y":520.9639889196676,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"040e9be1-fba3-53ac-9bf9-862196e97dc4","type":"Javascript2","label":"HandleChange","x":299.73684210526335,"y":669.2936288088642,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"605dfa97-029c-6a61-b6e5-cac2366f3808","type":"Javascript2","label":"HandleClear","x":316.39431097060367,"y":290.25566869499124,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"cce0e78c-6a98-f73e-1eb9-9be82adb7a2d","type":"Javascript2","label":"HandleChange","x":298.23972466367513,"y":-24.233782251840367,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"05d62c81-cb76-1676-6f92-66680c16c59a","type":"Javascript2","label":"HandleClear","x":297.33092901374323,"y":85.69540595913122,"parameters":{"code":"Script.Inputs = {\r\n  Value: \"string\"\r\n};\r\n\r\nScript.Outputs = {\r\n  NullValue: 'number',\r\n  Value: 'number',\r\n  EmptyArr: 'array',\r\n  Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Clear = function() {\r\n  Script.Outputs.NullValue = null;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nfunction onChange() {\r\n  Script.Outputs.Value = Script.Inputs.Value;\r\n  Script.Outputs.EmptyArr = [];\r\n  Script.Outputs.Done();\r\n}\r\n\r\nScript.Setters.Value = onChange;"},"ports":[],"dynamicports":[{"name":"Value","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Clear","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"NullValue","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Value","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"EmptyArr","type":{"name":"array"},"plug":"output","group":"Outputs","index":9},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"f39cd2af-42f3-1846-cc2a-48a0f46403fe","type":"JavaScriptFunction","x":-530,"y":-220,"parameters":{"functionScript":"Outputs.Dang = 2"},"ports":[],"dynamicports":[{"name":"out-Dang","displayName":"Dang","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d58f8bca-be53-77b6-5089-04fa7787f8f9","type":"/#Logic/GetLocation","x":-318.7765947675646,"y":162.5344507237598,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["b37bfb76-8971-960e-65e6-1f7cfe976e70"],"comments":[{"text":"Lấy vị trí, chuyển thành object địa chỉ","width":254,"height":376,"fill":"fill","x":-411,"y":126,"id":"1b547021-8dda-661d-a554-75e0ccb27e44","color":"notice"},{"text":"Lấy thiên tai đang diễn ra","width":174,"height":329,"fill":"fill","x":-338,"y":-243,"id":"50e197ca-56c6-e112-c667-76eb48d9e239","color":"notice","largeFont":false},{"text":"Tự động lấy địa chỉ theo vị trí","width":373,"height":355,"fill":"fill","x":583,"y":157,"id":"826a295b-5b16-87eb-6a1a-78a61f7b4bf2","largeFont":false,"color":"notice"}]}},{"name":"/Page/notifications/FilterPopup","id":"5b9ac4cc-aa97-9f58-f87d-a66ff765bf60","graph":{"connections":[{"fromId":"ba3c4755-e6f6-1339-8053-acfd048944a2","fromProperty":"value","toId":"16c844fc-c23d-ef12-301d-6710f555f023","toProperty":"Sort"},{"fromId":"540ddfa0-9f26-f70d-26ef-34d784ec709b","fromProperty":"Do","toId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","toProperty":"to-open"},{"fromId":"b4615dfb-2c9e-8a74-e2a7-564c351e6269","fromProperty":"onClick","toId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","toProperty":"to-close"},{"fromId":"07c04898-15f8-c812-c21f-cbe795a2509e","fromProperty":"onClick","toId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","toProperty":"to-close"},{"fromId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","fromProperty":"hidden","toId":"a9629262-41b0-7781-a502-a8c95c74b259","toProperty":"visible"},{"fromId":"0a171920-cf33-0d50-4ab1-87c70821d941","fromProperty":"value","toId":"16c844fc-c23d-ef12-301d-6710f555f023","toProperty":"Status"},{"fromId":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","fromProperty":"out-page","toId":"16c844fc-c23d-ef12-301d-6710f555f023","toProperty":"Page"},{"fromId":"ba3c4755-e6f6-1339-8053-acfd048944a2","fromProperty":"onChange","toId":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","toProperty":"run"},{"fromId":"0a171920-cf33-0d50-4ab1-87c70821d941","fromProperty":"onChange","toId":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","toProperty":"run"},{"fromId":"ba3c4755-e6f6-1339-8053-acfd048944a2","fromProperty":"onChange","toId":"16c844fc-c23d-ef12-301d-6710f555f023","toProperty":"Fetch"},{"fromId":"0a171920-cf33-0d50-4ab1-87c70821d941","fromProperty":"onChange","toId":"16c844fc-c23d-ef12-301d-6710f555f023","toProperty":"Fetch"},{"fromId":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","fromProperty":"onClick","toId":"16c844fc-c23d-ef12-301d-6710f555f023","toProperty":"Fetch"},{"fromId":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","fromProperty":"onClick","toId":"2bcd5a96-a4b9-e385-a2ee-6cd76ce77f4d","toProperty":"Do"},{"fromId":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","fromProperty":"onClick","toId":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","toProperty":"run"},{"fromId":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","fromProperty":"onClick","toId":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","toProperty":"to-close"}],"roots":[{"id":"a9629262-41b0-7781-a502-a8c95c74b259","type":"Group","x":466,"y":155,"parameters":{"styleCss":"/* background-color: red; */\r\nz-index: 9","position":"fixed","visible":false},"ports":[],"dynamicports":[],"children":[{"id":"07c04898-15f8-c812-c21f-cbe795a2509e","type":"Group","label":"Dark BG Fullscreen","parameters":{"backgroundColor":"#000000A5"},"ports":[],"dynamicports":[],"children":[]},{"id":"8562f5e1-7a4d-158c-d7b0-20ee6ddb67d3","type":"Group","label":"Modal","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","width":{"value":580,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"b4615dfb-2c9e-8a74-e2a7-564c351e6269","type":"net.noodl.controls.button","label":"Close icon","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"9f05f469-e84d-b986-29c8-986779252269","type":"Group","label":"filter","parameters":{"alignItems":"flex-start","justifyContent":"flex-start","alignX":"center","sizeMode":"contentHeight","marginTop":{"value":20,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"flexDirection":"column","columnGap":{"value":24,"unit":"px"},"alignY":"bottom","rowGap":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"7f9812ea-f7b6-5c75-a916-73252f1401db","type":"Text","parameters":{"text":"Lọc","fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":18,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"8d275f05-b484-3517-fc5d-672e4d3bba48","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"ba3c4755-e6f6-1339-8053-acfd048944a2","type":"net.noodl.controls.options","parameters":{"items":"[\n    {\"Label\":\"Mới nhất\", \"Value\":\"desc\"},\n    {\"Label\":\"Cũ nhất\", \"Value\":\"asc\"},\n]","label":"Lọc","placeholder":"Select","sizeMode":"explicit","mounted":true,"value":"desc"},"ports":[],"dynamicports":[],"children":[]},{"id":"0a171920-cf33-0d50-4ab1-87c70821d941","type":"net.noodl.controls.options","parameters":{"label":"Trạng thái","items":"[\n    {\"Label\":\"Chưa hổ trợ\", \"Value\":\"1\"},\n    {\"Label\":\"Đang hổ trợ\", \"Value\":\"2\"},\n    {\"Label\":\"Đã hổ trợ\", \"Value\":\"3\"}\n]","placeholder":"Select","sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"c0648e8c-9097-6177-a3b3-b2d87dae0b90","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"40988f1c-f4f1-2c65-049d-2d2f91e3de4e","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-end"},"ports":[],"dynamicports":[],"children":[{"id":"e4a8fd3a-22d4-c04d-889c-e14f2db48101","type":"net.noodl.controls.button","label":"Bỏ bộ lọc","parameters":{"label":"Bỏ bộ lọc","backgroundColor":"Danger"},"ports":[],"dynamicports":[],"children":[]}]}]}]}]},{"id":"540ddfa0-9f26-f70d-26ef-34d784ec709b","type":"Component Inputs","x":-139.4661338382391,"y":434.7047347533609,"parameters":{},"ports":[{"name":"Do","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"16c844fc-c23d-ef12-301d-6710f555f023","type":"Component Outputs","x":1031.2463530903174,"y":798.2726460294771,"parameters":{},"ports":[{"name":"Sort","plug":"input","type":{"name":"*"},"index":5},{"name":"Fetch","plug":"input","type":{"name":"*"},"index":8},{"name":"Status","plug":"input","type":{"name":"*"},"index":9},{"name":"Page","plug":"input","type":{"name":"*"},"index":11}],"dynamicports":[],"children":[]},{"id":"56afa9ee-3467-71e7-cd5d-abafafe1e78c","type":"States","x":140.9521311099823,"y":427.48394454576135,"parameters":{"states":"open,close","values":"hidden","type-hidden":"boolean","value-open-hidden":true,"value-close-hidden":false,"currentState":"close"},"ports":[],"dynamicports":[{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"hidden","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"hidden","name":"type-hidden","index":7},{"plug":"input","type":"boolean","group":"open Values","name":"value-open-hidden","displayName":"hidden","editorName":"open|hidden","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"open Transitions","name":"transitiondef-open","index":9},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To open","name":"to-open","group":"Go to state","index":10},{"plug":"output","type":"boolean","displayName":"At open","name":"at-open","group":"Current state","index":11},{"plug":"output","type":"signal","displayName":"Has Reached open","name":"reached-open","group":"Current state","index":12},{"plug":"input","type":"boolean","group":"close Values","name":"value-close-hidden","displayName":"hidden","editorName":"close|hidden","index":13},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"close Transitions","name":"transitiondef-close","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To close","name":"to-close","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At close","name":"at-close","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached close","name":"reached-close","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["open","close"]},"group":"States","displayName":"State","name":"currentState","default":"open","index":18}],"children":[]},{"id":"afaaaca9-1de5-722d-c04d-fe4e8b58af84","type":"JavaScriptFunction","x":773.3632236797079,"y":851.1793028551695,"parameters":{"functionScript":"Outputs.page = 0"},"ports":[],"dynamicports":[{"name":"out-page","displayName":"page","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"2bcd5a96-a4b9-e385-a2ee-6cd76ce77f4d","type":"/#Logic/ReloadPage","x":294.9638136578423,"y":986.932762929676,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["a9629262-41b0-7781-a502-a8c95c74b259"]}},{"name":"/Page/notifications/HeaderSOS","id":"d75ff93d-a91a-abc0-977e-f18630e78626","graph":{"connections":[],"roots":[{"id":"590e74b2-595a-c973-5dd8-a57956bc2039","type":"Group","label":"Row","x":-72,"y":-393,"parameters":{"sizeMode":"contentHeight","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#E7E7E9","flexDirection":"row","alignItems":"center","backgroundColor":"Primary","borderTopLeftRadius":{"value":12,"unit":"px"},"borderTopRightRadius":{"value":12,"unit":"px"},"position":"sticky","styleCss":"/* background-color: red; */\r\nz-index: 1"},"ports":[],"dynamicports":[],"children":[{"id":"c572db0a-1322-1dba-176f-4db76999729b","type":"Group","label":"Trạng thái","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"width":{"value":120,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"673c8519-5ac6-d067-fbd6-323450294ee5","type":"Text","parameters":{"text":"Thời gian","textAlignX":"left","color":"Grey - 100"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"c45825bd-11ef-d47b-6044-8f6a2c56ba87","type":"Group","label":"","parameters":{"alignY":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"alignItems":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"58fd0eae-5628-d69d-0c0b-964c995f71d6","type":"Text","parameters":{"text":"Thông tin ","color":"Grey - 100"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"7fd922a0-a56d-acd8-e6fc-525f864911af","type":"Group","label":"","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"28a90608-a2c0-ec5d-6eb8-b57013e8ec81","type":"Text","label":"","parameters":{"text":"Nhu cầu","color":"Grey - 100"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"89d31366-2f78-faad-71f0-e77cb77fb2ef","type":"Group","label":"","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"7ba95447-10ff-de50-a6be-c666a8b9b667","type":"Text","label":"Mô tả","parameters":{"text":"Mô tả","color":"Grey - 100"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"08c6eedd-95ac-c0e0-ddfa-d48cf7f39bbd","type":"Group","label":"","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"0f5225e0-fd66-328b-9fdf-6d47bbdd0573","type":"Text","label":"","parameters":{"text":"Địa chỉ","color":"Grey - 100"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"c4946cfe-5e49-6934-06ed-f2b23573f0bf","type":"Group","label":"","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"7be6c883-77eb-5068-8899-e697fba89751","type":"Text","parameters":{"text":"Trạng thái","color":"Grey - 100"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"7385c37d-0d9e-3273-4b55-c30223b7e8a7","type":"Group","label":"","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"center","justifyContent":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"1964b81f-2e99-a3dc-d87e-41e9541317a1","type":"Text","label":"Thao tác","parameters":{"text":"Thao tác","color":"Grey - 100"},"ports":[],"dynamicports":[],"children":[]}]}]}],"visualRoots":["590e74b2-595a-c973-5dd8-a57956bc2039"]}},{"name":"/Page/notifications/RowSOS","id":"da31e34f-c24c-bc13-3041-d10f5cada4a2","graph":{"connections":[{"fromId":"090e1aca-e56a-b3f5-b116-a2350f18a564","fromProperty":"result","toId":"8dc421a3-ffdd-6ad7-2420-f4ebcf1bc333","toProperty":"mounted"},{"fromId":"090e1aca-e56a-b3f5-b116-a2350f18a564","fromProperty":"result","toId":"7203503c-1c46-e4bb-196f-f64e15c0662c","toProperty":"text"},{"fromId":"500ed76f-8a81-ab6e-5759-edb3e60a4e5b","fromProperty":"result","toId":"adce6c2c-b57a-9337-9d06-7471fc206e2f","toProperty":"link"},{"fromId":"3708fa80-89ad-6c42-e695-de5a588fbca9","fromProperty":"onClick","toId":"adce6c2c-b57a-9337-9d06-7471fc206e2f","toProperty":"do"},{"fromId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","fromProperty":"out-ChuaHoTro","toId":"132f50ac-1a5d-841f-22c3-96ec5f351be2","toProperty":"mounted"},{"fromId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","fromProperty":"out-DaHoTro","toId":"d67061b0-4009-b171-c4ab-9ac817dc5de4","toProperty":"mounted"},{"fromId":"253a783a-5d1c-549f-2c53-0b0190a7f15f","fromProperty":"out-result","toId":"d180a0b3-5594-27d3-7456-7da734966495","toProperty":"text"},{"fromId":"387e4b34-c8f7-1238-389a-b0c2521ed957","fromProperty":"result","toId":"96d1003c-f558-82dd-5e3d-0d5b13987181","toProperty":"text"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-Disaster","toId":"38093daa-1818-4c19-ee1e-011cea801b5e","toProperty":"Disaster"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-PeopleCount","toId":"387e4b34-c8f7-1238-389a-b0c2521ed957","toProperty":"count"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-NeedMedical","toId":"253a783a-5d1c-549f-2c53-0b0190a7f15f","toProperty":"in-yTe"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-NeedFood","toId":"253a783a-5d1c-549f-2c53-0b0190a7f15f","toProperty":"in-nuoc"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-NeedFood","toId":"253a783a-5d1c-549f-2c53-0b0190a7f15f","toProperty":"in-thucAn"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-PhoneNumber","toId":"3708fa80-89ad-6c42-e695-de5a588fbca9","toProperty":"label"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-PhoneNumber","toId":"3708fa80-89ad-6c42-e695-de5a588fbca9","toProperty":"mounted"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-State","toId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","toProperty":"in-state"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-PhoneNumber","toId":"500ed76f-8a81-ab6e-5759-edb3e60a4e5b","toProperty":"phone"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-Disaster","toId":"090e1aca-e56a-b3f5-b116-a2350f18a564","toProperty":"Disaster"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-RequestDescription","toId":"a44401d2-0601-cefb-8d93-2f0822600e6f","toProperty":"text"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-FullName","toId":"30a25244-2b9f-31a4-ea1a-a34c89bbe720","toProperty":"text"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-AcceptedBy","toId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","toProperty":"in-acceptedBy"},{"fromId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","fromProperty":"out-DangHoTro","toId":"ddb3fa23-dbcb-9a07-5f24-00638604ffc9","toProperty":"mounted"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-Amenity","toId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","toProperty":"in-Amenity"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-Province","toId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","toProperty":"in-Province"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-District","toId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","toProperty":"in-District"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-Ward","toId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","toProperty":"in-Ward"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-Road","toId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","toProperty":"in-Road"},{"fromId":"681589f4-237a-bcd0-e85b-1ec2486d77d5","fromProperty":"out-FullAddress","toId":"4de25475-a753-8177-5899-95801e31b29c","toProperty":"Address"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-createdAt","toId":"8d0fcc08-57c4-f018-bd9f-8dd4c4344e21","toProperty":"Date"},{"fromId":"8d0fcc08-57c4-f018-bd9f-8dd4c4344e21","fromProperty":"TimeAgo","toId":"16fa2978-4566-6b56-bef2-1b56d9c64787","toProperty":"text"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-createdAt","toId":"a788c1ab-88cf-e2b3-09fd-520f69ceb729","toProperty":"Date"},{"fromId":"a788c1ab-88cf-e2b3-09fd-520f69ceb729","fromProperty":"Date","toId":"48cf5873-bb2e-e6ba-9808-d5948f7e886d","toProperty":"text"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-documentId","toId":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","toProperty":"DocumentId"},{"fromId":"9505c8ff-ee70-192a-ab59-8a7ca5ef5e29","fromProperty":"organization","toId":"5d19ebeb-4bf2-75da-0417-f5f719268708","toProperty":"in-JsonString"},{"fromId":"5d19ebeb-4bf2-75da-0417-f5f719268708","fromProperty":"out-Id","toId":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","toProperty":"OrganizationId"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-documentId","toId":"63a5def3-aff5-26c9-e45a-18928e302a7c","toProperty":"pm-id"},{"fromId":"3f446e72-dcde-5bfa-e54b-d3efa1acec2e","fromProperty":"onClick","toId":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","toProperty":"Fetch"},{"fromId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","fromProperty":"out-ChuaHoTro","toId":"3f446e72-dcde-5bfa-e54b-d3efa1acec2e","toProperty":"mounted"},{"fromId":"dc845d43-ed52-d2de-ddfb-1bdc0eb3abd4","fromProperty":"onClick","toId":"63a5def3-aff5-26c9-e45a-18928e302a7c","toProperty":"navigate"},{"fromId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","fromProperty":"out-DangHoTro","toId":"73dac815-6021-4d39-9bd7-ce64f84200f6","toProperty":"mounted"},{"fromId":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","fromProperty":"out-DangHoTro","toId":"d79819b4-3a52-705b-418d-cfdd075b78fc","toProperty":"mounted"},{"fromId":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","fromProperty":"Success","toId":"75abcba8-8979-32c4-3e08-a95c0953c420","toProperty":"Do"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-documentId","toId":"4186d774-8146-6809-b45d-dde7490964da","toProperty":"DocumentId"},{"fromId":"4186d774-8146-6809-b45d-dde7490964da","fromProperty":"Success","toId":"1c3bd636-6ed5-643a-cbef-11540243ffa6","toProperty":"Do"},{"fromId":"73dac815-6021-4d39-9bd7-ce64f84200f6","fromProperty":"onClick","toId":"4186d774-8146-6809-b45d-dde7490964da","toProperty":"Fetch"},{"fromId":"d79819b4-3a52-705b-418d-cfdd075b78fc","fromProperty":"onClick","toId":"096c9e2b-fee6-6cdf-e4b7-e405deb18a27","toProperty":"Fetch"},{"fromId":"096c9e2b-fee6-6cdf-e4b7-e405deb18a27","fromProperty":"Success","toId":"f4625581-8da9-0e73-13c3-59cc454f2088","toProperty":"Do"},{"fromId":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","fromProperty":"prop-documentId","toId":"096c9e2b-fee6-6cdf-e4b7-e405deb18a27","toProperty":"DocumentId"}],"roots":[{"id":"538cd804-5e34-3c43-0e85-d5d9a7cbf6c9","type":"Group","label":"Row","x":-163.12841908619862,"y":-285.3654028515841,"parameters":{"sizeMode":"contentHeight","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#E7E7E9","flexDirection":"row","alignItems":"center","clip":false},"stateParameters":{"hover":{}},"ports":[],"dynamicports":[],"children":[{"id":"75d183ad-18d9-d322-6dc8-19d34899b49b","type":"Group","label":"Thời gian","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","sizeMode":"contentHeight","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"width":{"value":120,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"48cf5873-bb2e-e6ba-9808-d5948f7e886d","type":"Text","parameters":{"color":"Grey - 700"},"ports":[],"dynamicports":[],"children":[]},{"id":"16fa2978-4566-6b56-bef2-1b56d9c64787","type":"Text","parameters":{"fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","color":"Grey - 600"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"35c5f535-92c1-ddf7-1512-4b246ca496ac","type":"Group","label":"Thông tin","parameters":{"alignY":"center","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"alignItems":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight","rowGap":{"value":0,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"f078248e-cb83-fade-1010-3542d4cec577","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"8dc421a3-ffdd-6ad7-2420-f4ebcf1bc333","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"backgroundColor":"Danger","borderStyle":"none","borderWidth":{"value":0.2,"unit":"px"},"borderColor":"Notice","visible":true,"alignItems":"center"},"stateParameters":{"hover":{"opacity":0.8}},"ports":[],"dynamicports":[],"children":[{"id":"db54df18-5386-6f73-746a-81742fe18ea4","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"error_outline","codeAsClass":false},"iconColor":"Grey - 100"},"ports":[],"dynamicports":[],"children":[]},{"id":"7203503c-1c46-e4bb-196f-f64e15c0662c","type":"Text","variant":"active","parameters":{"text":"","color":"Grey - 100","fontSize":{"value":14,"unit":"px"},"sizeMode":"contentHeight","styleCss":"/* background-color: red; */\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 1;\r\n-webkit-box-orient: vertical;\r\nword-break: break-word;"},"stateParameters":{"hover":{"textTransform":"none"}},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"30a25244-2b9f-31a4-ea1a-a34c89bbe720","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"dynamicports":[],"children":[]},{"id":"3708fa80-89ad-6c42-e695-de5a588fbca9","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"backgroundColor":"transparent","sizeMode":"contentSize","color":"Grey - 700","alignY":"bottom","alignX":"left","minWidth":{"value":0,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","label":"","fontSize":{"value":16,"unit":"px"}},"stateParameters":{"hover":{"color":"#1666FF"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"84075eef-025b-1d49-6067-fc0ee7d333fa","type":"Group","parameters":{"alignY":"center","alignItems":"flex-start","justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"d180a0b3-5594-27d3-7456-7da734966495","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"96d1003c-f558-82dd-5e3d-0d5b13987181","type":"Text","parameters":{"text":"","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"ba8fe3d8-0f20-3add-56cc-715a58d40f63","type":"Group","label":"","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"a44401d2-0601-cefb-8d93-2f0822600e6f","type":"Text","label":"Mô tả","parameters":{"color":"Grey - 700","text":"","styleCss":"/* background-color: red; */\r\n\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 3;\r\n-webkit-box-orient: vertical;\r\nword-break: break-word;","fontSize":{"value":14,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"bc95a573-43d6-9064-a59c-1bdee421575d","type":"Group","parameters":{"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"4de25475-a753-8177-5899-95801e31b29c","type":"/Page/notifications/RowSOS/Address","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"51305802-6a1a-1983-42ff-5d5c15d2aaee","type":"Group","label":"Trạng thái","parameters":{"minWidth":{"value":50,"unit":"px"},"minHeight":{"value":50,"unit":"px"},"alignItems":"flex-start","justifyContent":"center","flexDirection":"column","columnGap":{"value":8,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"132f50ac-1a5d-841f-22c3-96ec5f351be2","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"backgroundColor":"FBECEC","borderStyle":"solid","borderWidth":{"value":0.2,"unit":"px"},"borderColor":"Notice","visible":true},"ports":[],"dynamicports":[],"children":[{"id":"72f3899f-0851-5c0c-a2cb-48dba8c2d455","type":"Text","variant":"active","parameters":{"text":"Chưa được hỗ trợ","color":"Danger","fontSize":{"value":14,"unit":"px"}},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"ddb3fa23-dbcb-9a07-5f24-00638604ffc9","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"FEF8C3","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Notice"},"ports":[],"dynamicports":[],"children":[{"id":"95b80477-df0d-3978-367a-baee08711cb9","type":"Text","variant":"active","label":"","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đang hỗ trợ","color":"A06109"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"d67061b0-4009-b171-c4ab-9ac817dc5de4","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"justifyContent":"flex-start","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingLeft":{"value":8,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"ECFCCB","borderRadius":{"value":8,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":0.4,"unit":"px"},"borderColor":"Success"},"ports":[],"dynamicports":[],"children":[{"id":"5dbe03e2-5238-e095-2fcf-4c368c3de892","type":"Text","variant":"active","label":"","parameters":{"fontSize":{"value":14,"unit":"px"},"text":"Đã hỗ trợ"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"2fadb2ca-7738-c3f3-3ab7-e81888109272","type":"Group","parameters":{"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":8,"unit":"px"},"width":{"value":100,"unit":"%","isFixed":false}},"ports":[],"dynamicports":[],"children":[{"id":"dc845d43-ed52-d2de-ddfb-1bdc0eb3abd4","type":"net.noodl.controls.button","label":"View","parameters":{"label":"","backgroundColor":"transparent","mounted":true,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"remove_red_eye","codeAsClass":false},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"iconColor":"Grey - 600","borderStyle":"none","borderColor":"Grey - 400","color":"#1666FF","borderWidth":{"value":1.3,"unit":"px"},"height":{"value":36,"unit":"px"},"useLabel":false,"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"iconSize":{"value":22,"unit":"px"}},"stateParameters":{"disabled":{"opacity":0},"hover":{"opacity":0.8,"backgroundColor":"Border","iconColor":"Grey - 600"}},"ports":[],"dynamicports":[],"children":[]},{"id":"3f446e72-dcde-5bfa-e54b-d3efa1acec2e","type":"net.noodl.controls.button","label":"Accept","parameters":{"backgroundColor":"transparent","mounted":true,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"check","codeAsClass":false},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"iconColor":"Grey - 600","borderStyle":"none","borderColor":"Grey - 400","color":"Grey - 600","borderWidth":{"value":1.3,"unit":"px"},"height":{"value":36,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"iconSize":{"value":22,"unit":"px"},"label":"Nhận hỗ trợ"},"stateParameters":{"disabled":{"opacity":0},"hover":{"opacity":0.8,"backgroundColor":"Success","iconColor":"Border","color":"Border"}},"ports":[],"dynamicports":[],"children":[]},{"id":"73dac815-6021-4d39-9bd7-ce64f84200f6","type":"net.noodl.controls.button","label":"Cancel","parameters":{"backgroundColor":"transparent","mounted":true,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"clear","codeAsClass":false},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"iconColor":"Grey - 600","borderStyle":"none","borderColor":"Grey - 400","color":"Grey - 600","borderWidth":{"value":1.3,"unit":"px"},"height":{"value":36,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"iconSize":{"value":22,"unit":"px"},"label":"Huỷ hỗ trợ","useLabel":false},"stateParameters":{"disabled":{"opacity":0},"hover":{"opacity":0.8,"backgroundColor":"Danger","iconColor":"Border","color":"Border"}},"ports":[],"dynamicports":[],"children":[]},{"id":"d79819b4-3a52-705b-418d-cfdd075b78fc","type":"net.noodl.controls.button","label":"State","parameters":{"backgroundColor":"transparent","mounted":true,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"check","codeAsClass":false},"paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"iconColor":"Grey - 600","borderStyle":"none","borderColor":"Grey - 400","color":"Grey - 600","borderWidth":{"value":1.3,"unit":"px"},"height":{"value":36,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"iconSize":{"value":22,"unit":"px"},"label":"Đã hỗ trợ","useLabel":true},"stateParameters":{"disabled":{"opacity":0},"hover":{"opacity":0.8,"backgroundColor":"Success","iconColor":"Border","color":"Border"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"090e1aca-e56a-b3f5-b116-a2350f18a564","type":"Expression","x":-352.2574103560271,"y":76.10306139080683,"parameters":{"expression":"Disaster.Name"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Disaster","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"500ed76f-8a81-ab6e-5759-edb3e60a4e5b","type":"Expression","x":169.23221124219413,"y":390.6018063255856,"parameters":{"expression":"\"tel:\" + phone"},"ports":[],"dynamicports":[{"group":"Parameters","name":"phone","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"adce6c2c-b57a-9337-9d06-7471fc206e2f","type":"net.noodl.externallink","label":"External Link","x":169.71834164328084,"y":298.4834677615782,"parameters":{"link":""},"ports":[],"dynamicports":[],"children":[]},{"id":"e74b6edf-8010-cfe6-f2ae-6695ae64d073","type":"JavaScriptFunction","x":-466.6366276970506,"y":1120.9155576697078,"parameters":{"functionScript":"const state = Inputs.state || false;\r\nconst acceptedBy = Inputs.acceptedBy;\r\n\r\nOutputs.ChuaHoTro = false;\r\nOutputs.DangHoTro = false;\r\nOutputs.DaHoTro = false;\r\n\r\nif (!state && acceptedBy === null) {\r\n    Outputs.ChuaHoTro = true;\r\n    return\r\n} else if (!state && acceptedBy !== null) {\r\n    Outputs.DangHoTro = true;\r\n    return\r\n} else if (state) {\r\n    Outputs.DaHoTro = true;\r\n    return;\r\n}"},"ports":[],"dynamicports":[{"name":"in-state","displayName":"state","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-acceptedBy","displayName":"acceptedBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-ChuaHoTro","displayName":"ChuaHoTro","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-DangHoTro","displayName":"DangHoTro","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-DaHoTro","displayName":"DaHoTro","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"253a783a-5d1c-549f-2c53-0b0190a7f15f","type":"JavaScriptFunction","x":-356.87743428164777,"y":627.5040128290045,"parameters":{"functionScript":"const thucAn = Inputs.thucAn;\r\nconst nuoc = Inputs.nuoc;\r\nconst yTe = Inputs.yTe;\r\n\r\nif (!thucAn && !nuoc && !yTe) {\r\n    Outputs.result = \"Khác\";\r\n    return\r\n}\r\n\r\n// Tạo mảng chứa các giá trị được chọn\r\nconst selectedItems = [];\r\nif (thucAn) selectedItems.push('Đồ ăn');\r\nif (nuoc) selectedItems.push('Đồ uống');\r\nif (yTe) selectedItems.push('Y tế');\r\n\r\n// Kết hợp các giá trị thành chuỗi\r\nconst result = selectedItems.join(', ');\r\n\r\n// Trả kết quả ra output\r\nOutputs.result = result;\r\n"},"ports":[],"dynamicports":[{"name":"in-thucAn","displayName":"thucAn","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-nuoc","displayName":"nuoc","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-yTe","displayName":"yTe","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"387e4b34-c8f7-1238-389a-b0c2521ed957","type":"Expression","x":-352.3117119570287,"y":507.37259398941967,"parameters":{"expression":"\"Số lượng: \" + count"},"ports":[],"dynamicports":[{"group":"Parameters","name":"count","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"38093daa-1818-4c19-ee1e-011cea801b5e","type":"Expression","x":-352.3138983603467,"y":165.00336284974162,"parameters":{"expression":"Disaster.documentId"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Disaster","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"c6e8873d-cdbd-b94b-36e5-017ea2f4c67a","type":"Model2","x":-352.86659459319503,"y":253.2891885960961,"parameters":{"properties":"id,FullName,RequestDescription,PeopleCount,NeedWater,NeedFood,NeedMedical,PhoneNumber,Email,DamageImage,AudioFile,Province,District,Ward,Disaster,createdAt,Location,AcceptedBy,State,documentId,Road,Amenity","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-id","displayName":"id","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"id Changed","name":"changed-id","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-FullName","displayName":"FullName","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"FullName Changed","name":"changed-FullName","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-RequestDescription","displayName":"RequestDescription","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"RequestDescription Changed","name":"changed-RequestDescription","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-PeopleCount","displayName":"PeopleCount","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"PeopleCount Changed","name":"changed-PeopleCount","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-NeedWater","displayName":"NeedWater","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"NeedWater Changed","name":"changed-NeedWater","index":16},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-NeedFood","displayName":"NeedFood","index":17},{"type":"signal","plug":"output","group":"Changed Events","displayName":"NeedFood Changed","name":"changed-NeedFood","index":18},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-NeedMedical","displayName":"NeedMedical","index":19},{"type":"signal","plug":"output","group":"Changed Events","displayName":"NeedMedical Changed","name":"changed-NeedMedical","index":20},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-PhoneNumber","displayName":"PhoneNumber","index":21},{"type":"signal","plug":"output","group":"Changed Events","displayName":"PhoneNumber Changed","name":"changed-PhoneNumber","index":22},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Email","displayName":"Email","index":23},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Email Changed","name":"changed-Email","index":24},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-DamageImage","displayName":"DamageImage","index":25},{"type":"signal","plug":"output","group":"Changed Events","displayName":"DamageImage Changed","name":"changed-DamageImage","index":26},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-AudioFile","displayName":"AudioFile","index":27},{"type":"signal","plug":"output","group":"Changed Events","displayName":"AudioFile Changed","name":"changed-AudioFile","index":28},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Province","displayName":"Province","index":29},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Province Changed","name":"changed-Province","index":30},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-District","displayName":"District","index":31},{"type":"signal","plug":"output","group":"Changed Events","displayName":"District Changed","name":"changed-District","index":32},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Ward","displayName":"Ward","index":33},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Ward Changed","name":"changed-Ward","index":34},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Disaster","displayName":"Disaster","index":35},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Disaster Changed","name":"changed-Disaster","index":36},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-createdAt","displayName":"createdAt","index":37},{"type":"signal","plug":"output","group":"Changed Events","displayName":"createdAt Changed","name":"changed-createdAt","index":38},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Location","displayName":"Location","index":39},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Location Changed","name":"changed-Location","index":40},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-AcceptedBy","displayName":"AcceptedBy","index":41},{"type":"signal","plug":"output","group":"Changed Events","displayName":"AcceptedBy Changed","name":"changed-AcceptedBy","index":42},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-State","displayName":"State","index":43},{"type":"signal","plug":"output","group":"Changed Events","displayName":"State Changed","name":"changed-State","index":44},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-documentId","displayName":"documentId","index":45},{"type":"signal","plug":"output","group":"Changed Events","displayName":"documentId Changed","name":"changed-documentId","index":46},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Road","displayName":"Road","index":47},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Road Changed","name":"changed-Road","index":48},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Amenity","displayName":"Amenity","index":49},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Amenity Changed","name":"changed-Amenity","index":50}],"children":[]},{"id":"681589f4-237a-bcd0-e85b-1ec2486d77d5","type":"JavaScriptFunction","x":-356.38920919112877,"y":854.4470814143102,"parameters":{"functionScript":"const parts = [];\r\n\r\nif (Inputs.Amenity) parts.push(Inputs.Amenity);\r\nif (Inputs.Road) parts.push(Inputs.Road);\r\nif (Inputs.Ward?.FullName) parts.push(Inputs.Ward.FullName);\r\nif (Inputs.District?.FullName) parts.push(Inputs.District.FullName);\r\nif (Inputs.Province?.FullName) parts.push(Inputs.Province.FullName);\r\n\r\nOutputs.FullAddress = parts.join(\", \");\r\nOutputs.HasAddress = parts.length > 0;"},"ports":[],"dynamicports":[{"name":"in-Amenity","displayName":"Amenity","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Road","displayName":"Road","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Ward","displayName":"Ward","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-District","displayName":"District","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Province","displayName":"Province","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-FullAddress","displayName":"FullAddress","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-HasAddress","displayName":"HasAddress","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"a788c1ab-88cf-e2b3-09fd-520f69ceb729","type":"/#Logic/FormatDate","x":-350.1302806197001,"y":-70.20768049045165,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8d0fcc08-57c4-f018-bd9f-8dd4c4344e21","type":"/#Logic/TimeAgo","x":-352.1302806197001,"y":1.7923195095483493,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9df6ed36-4b35-19fb-32c2-d9aafd7488cf","type":"/#Logic/AcceptRequest","x":-463.21985012344044,"y":1324.9488126003955,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9505c8ff-ee70-192a-ab59-8a7ca5ef5e29","type":"/#Logic/CurrentOrganization","x":-698.8847299724285,"y":1433.4971716227399,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5d19ebeb-4bf2-75da-0417-f5f719268708","type":"JavaScriptFunction","x":-698.8847299724285,"y":1340.4971716227399,"parameters":{"functionScript":"const jsonString = Inputs.JsonString;\r\n\r\nif (!jsonString) return;\r\n\r\ntry {\r\n    const parsedData = JSON.parse(jsonString);\r\n    if (Array.isArray(parsedData) && parsedData.length > 0) {\r\n        Outputs.Id = parsedData[0].id;\r\n        Outputs.Success();\r\n    } else {\r\n        Outputs.Error();\r\n    }\r\n} catch (error) {\r\n    Outputs.Error();\r\n}"},"ports":[],"dynamicports":[{"name":"in-JsonString","displayName":"JsonString","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Error","displayName":"Error","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"63a5def3-aff5-26c9-e45a-18928e302a7c","type":"RouterNavigate","x":-467.3167150484277,"y":1234.4214727426981,"parameters":{"router":"Main","target":"/Page/notifications-detail"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-id","displayName":"id","type":"string","plug":"input","group":"Parameters","index":4}],"children":[]},{"id":"75abcba8-8979-32c4-3e08-a95c0953c420","type":"/Components/Show Toast","x":-463.2880787643103,"y":1439.723764563667,"parameters":{"Message":"Cập nhật thành công, tải lại trang để xem dữ liệu mới","Type":"Success"},"ports":[],"dynamicports":[],"children":[]},{"id":"4186d774-8146-6809-b45d-dde7490964da","type":"/#Logic/CancelRequest","x":-464.11296827591156,"y":1568.5292911229985,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"1c3bd636-6ed5-643a-cbef-11540243ffa6","type":"/Components/Show Toast","x":-465.10526315789474,"y":1688.421052631579,"parameters":{"Message":"Cập nhật thành công, tải lại trang để xem dữ liệu mới","Type":"Success"},"ports":[],"dynamicports":[],"children":[]},{"id":"096c9e2b-fee6-6cdf-e4b7-e405deb18a27","type":"/#Logic/UpdateRequestState","x":-466.3951824595697,"y":1781.098905295029,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f4625581-8da9-0e73-13c3-59cc454f2088","type":"/Components/Show Toast","x":-466,"y":1869,"parameters":{"Message":"Cập nhật thành công, tải lại trang để xem dữ liệu mới","Type":"Success"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["538cd804-5e34-3c43-0e85-d5d9a7cbf6c9"]}},{"name":"/Page/notifications/RowSOS/Address","id":"6204beca-75b2-4df4-0482-eb02855f5f79","graph":{"connections":[{"fromId":"2ecf9520-0c0d-04ed-e788-3bac73305337","fromProperty":"Address","toId":"3a5a4cd4-439e-f6d1-4232-4c01d287cac4","toProperty":"text"},{"fromId":"2ecf9520-0c0d-04ed-e788-3bac73305337","fromProperty":"Address","toId":"6d26f834-f35e-892b-748f-9328c75c23b9","toProperty":"mounted"}],"roots":[{"id":"6d26f834-f35e-892b-748f-9328c75c23b9","type":"Group","x":-152.5,"y":-78,"parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"alignItems":"flex-start","marginBottom":{"value":8,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"433f05ed-addc-e875-63ae-55aa6c2fb250","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"location_on","codeAsClass":false},"iconColor":"Success","iconSize":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"3a5a4cd4-439e-f6d1-4232-4c01d287cac4","type":"Text","parameters":{"color":"Grey - 700","text":""},"ports":[],"dynamicports":[],"children":[]}]},{"id":"2ecf9520-0c0d-04ed-e788-3bac73305337","type":"Component Inputs","x":-466.25,"y":-20,"parameters":{},"ports":[{"name":"Address","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]}],"visualRoots":["6d26f834-f35e-892b-748f-9328c75c23b9"]}},{"name":"/Page/organizations","id":"ac3df4fc-fa26-09d0-4469-12a289c2c51d","graph":{"connections":[{"fromId":"d67e043f-53cd-8271-5b7a-bf27aeebbe70","fromProperty":"onClick","toId":"931248b1-8630-7b91-38fc-37a4cf068925","toProperty":"clear"},{"fromId":"931248b1-8630-7b91-38fc-37a4cf068925","fromProperty":"onTextChanged","toId":"d67e043f-53cd-8271-5b7a-bf27aeebbe70","toProperty":"visible"},{"fromId":"f7b663dc-8c76-fb3e-d658-0f24b456c974","fromProperty":"Layout String","toId":"80454006-f4bf-8b19-049b-7f221ecbe9c0","toProperty":"layoutString"},{"fromId":"feba9438-cb8e-53e3-95a7-a3b58fc3b176","fromProperty":"out-isDesktop","toId":"f7b663dc-8c76-fb3e-d658-0f24b456c974","toProperty":"to-5cols"},{"fromId":"feba9438-cb8e-53e3-95a7-a3b58fc3b176","fromProperty":"out-isTablet","toId":"f7b663dc-8c76-fb3e-d658-0f24b456c974","toProperty":"to-3cols"},{"fromId":"80454006-f4bf-8b19-049b-7f221ecbe9c0","fromProperty":"boundingWidth","toId":"feba9438-cb8e-53e3-95a7-a3b58fc3b176","toProperty":"in-Width"},{"fromId":"feba9438-cb8e-53e3-95a7-a3b58fc3b176","fromProperty":"out-isMobile","toId":"f7b663dc-8c76-fb3e-d658-0f24b456c974","toProperty":"to-1cols"},{"fromId":"bcefcadd-3ca6-3276-3a6a-bc9a52de0b5a","fromProperty":"Match","toId":"ad40b222-621c-d68d-f298-de32efbe3d87","toProperty":"to-Tablet & Mobile"},{"fromId":"bcefcadd-3ca6-3276-3a6a-bc9a52de0b5a","fromProperty":"No Match","toId":"ad40b222-621c-d68d-f298-de32efbe3d87","toProperty":"to-Desktop"},{"fromId":"ad40b222-621c-d68d-f298-de32efbe3d87","fromProperty":"padding","toId":"fef4d66b-d322-2f78-10b0-65628346a134","toProperty":"paddingLeft"},{"fromId":"ad40b222-621c-d68d-f298-de32efbe3d87","fromProperty":"padding","toId":"fef4d66b-d322-2f78-10b0-65628346a134","toProperty":"paddingRight"},{"fromId":"c95b3c98-e182-5d90-dfb0-b445ad0011b8","fromProperty":"onChange","toId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","toProperty":"Fetch"},{"fromId":"931248b1-8630-7b91-38fc-37a4cf068925","fromProperty":"onEnter","toId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","toProperty":"Fetch"},{"fromId":"d67e043f-53cd-8271-5b7a-bf27aeebbe70","fromProperty":"onClick","toId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","toProperty":"Fetch"},{"fromId":"0cf09503-2aa8-c33a-1df3-372931fff4b4","fromProperty":"Changed","toId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","toProperty":"Fetch"},{"fromId":"931248b1-8630-7b91-38fc-37a4cf068925","fromProperty":"onTextChanged","toId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","toProperty":"keyword"},{"fromId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","fromProperty":"page","toId":"0cf09503-2aa8-c33a-1df3-372931fff4b4","toProperty":"SelectedPage"},{"fromId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","fromProperty":"pageSize","toId":"0cf09503-2aa8-c33a-1df3-372931fff4b4","toProperty":"RowsPerPage"},{"fromId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","fromProperty":"total","toId":"0cf09503-2aa8-c33a-1df3-372931fff4b4","toProperty":"TotalCount"},{"fromId":"c95b3c98-e182-5d90-dfb0-b445ad0011b8","fromProperty":"value","toId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","toProperty":"sort"},{"fromId":"0cf09503-2aa8-c33a-1df3-372931fff4b4","fromProperty":"Limit","toId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","toProperty":"limit"},{"fromId":"5d3aec08-9e4f-9b18-b45c-1fc6c066ebe4","fromProperty":"didMount","toId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","toProperty":"Fetch"},{"fromId":"4b33e091-ef5c-6d96-5eef-979fa40aa999","fromProperty":"data","toId":"39f80424-f9f6-6002-5c4b-4bf4d502dc78","toProperty":"items"}],"roots":[{"id":"5d3aec08-9e4f-9b18-b45c-1fc6c066ebe4","type":"Page","x":0,"y":0,"parameters":{"title":"Tổ chức","urlPath":"organizations"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"organizations","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"tổ-chức","index":32}],"children":[{"id":"ca4583bb-9f79-50fc-1b23-c6b5c464d6c5","type":"Group","parameters":{"scrollEnabled":true},"ports":[],"dynamicports":[],"children":[{"id":"fef4d66b-d322-2f78-10b0-65628346a134","type":"Group","label":"Group table","parameters":{"alignX":"center","sizeMode":"explicit","boxShadowEnabled":false,"alignItems":"center","marginTop":{"value":32,"unit":"px"},"marginBottom":{"value":32,"unit":"px"},"maxWidth":{"value":1536,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"70ae2b66-0894-d0b1-e920-2e5ded4ebcce","type":"Group","label":"Header","parameters":{"flexDirection":"row","columnGap":{"value":12,"unit":"px"},"sizeMode":"contentSize","alignX":"left"},"ports":[],"dynamicports":[],"children":[{"id":"efcec32c-ec79-1b9c-e369-1e66c9220855","type":"Text","label":"Bài viết","parameters":{"text":"Thông tin về các tổ chức hỗ trợ","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":24,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"3c96b3d6-9d79-e6c5-81e0-9b6a8a8a93f6","type":"Group","label":"filter","parameters":{"alignItems":"center","justifyContent":"flex-start","alignX":"center","sizeMode":"contentHeight","marginTop":{"value":20,"unit":"px"},"marginBottom":{"value":20,"unit":"px"},"flexDirection":"row","flexWrap":"wrap","columnGap":{"value":24,"unit":"px"},"alignY":"bottom"},"ports":[],"dynamicports":[],"children":[{"id":"c95b3c98-e182-5d90-dfb0-b445ad0011b8","type":"net.noodl.controls.options","parameters":{"maxWidth":{"value":200,"unit":"px"},"items":"[\n    {\"Label\":\"Mới nhất\", \"Value\":\"desc\"},\n    {\"Label\":\"Cũ nhất\", \"Value\":\"asc\"},\n]","label":"Lọc"},"ports":[],"dynamicports":[],"children":[]},{"id":"f0a3e165-dda1-9a92-0fc0-ef7dcb5e5a41","type":"Group","label":"Search","parameters":{"sizeMode":"contentSize","flexWrap":"nowrap","columnGap":{"value":12,"unit":"px"},"clip":false,"alignY":"bottom","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","justifyContent":"flex-start","borderRadius":{"value":8,"unit":"px"},"alignItems":"flex-end","paddingRight":{"value":4,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"flexDirection":"row","position":"relative"},"ports":[],"dynamicports":[],"children":[{"id":"931248b1-8630-7b91-38fc-37a4cf068925","type":"net.noodl.controls.textinput","parameters":{"label":"","alignY":"center","borderStyle":"none","placeholder":"Tìm kiếm","sizeMode":"contentHeight","width":{"value":300,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"d67e043f-53cd-8271-5b7a-bf27aeebbe70","type":"net.noodl.controls.button","label":"Tìm kiếm","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","iconSize":{"value":18,"unit":"px"},"paddingLeft":{"value":2,"unit":"px"},"paddingRight":{"value":2,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"backgroundColor":"Grey - 400","mounted":true,"position":"relative","enabled":true,"blockTouch":false},"stateParameters":{"hover":{"backgroundColor":"Grey - 500","useIcon":true}},"ports":[],"dynamicports":[],"children":[]},{"id":"90528293-d573-1a2b-b38a-a0d4082acb81","type":"net.noodl.controls.button","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"search","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"minWidth":{"value":0,"unit":"px"},"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"iconSize":{"value":22,"unit":"px"},"minHeight":{"value":34,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"eb2f58d1-6f64-8c7e-f95e-fb765d05225f","type":"Group","parameters":{"width":{"value":100,"unit":"%","isFixed":false},"alignItems":"center"},"ports":[],"dynamicports":[],"children":[{"id":"80454006-f4bf-8b19-049b-7f221ecbe9c0","type":"net.noodl.visual.columns","parameters":{"direction":"row","layoutString":"1 1 1 1 1","justifyContent":"flex-start"},"ports":[],"dynamicports":[],"children":[{"id":"39f80424-f9f6-6002-5c4b-4bf4d502dc78","type":"For Each","parameters":{"template":"/Page/organizations/OrganizationCard"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]},{"id":"28e11777-c628-3baa-5406-8ffb08703be3","type":"Group","parameters":{"paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"0cf09503-2aa8-c33a-1df3-372931fff4b4","type":"/Components/PagesAndRows","parameters":{},"ports":[],"dynamicports":[],"children":[]}]}]}]}]}]},{"id":"4f232e66-6092-344f-2894-bf436543e23a","type":"PageInputs","x":1,"y":-38,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f7b663dc-8c76-fb3e-d658-0f24b456c974","type":"States","x":422.8404988118034,"y":1020.1715574978591,"parameters":{"values":"Layout String","states":"3cols,5cols,1cols","useTransitions":false,"type-Layout String":"string","value-3cols-Layout String":"1 1 1","value-5cols-Layout String":"1 1 1 1 1","value-1cols-Layout String":"1"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Layout String","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Layout String","name":"type-Layout String","index":7},{"plug":"input","type":"string","group":"3cols Values","name":"value-3cols-Layout String","displayName":"Layout String","editorName":"3cols|Layout String","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 3cols","name":"to-3cols","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At 3cols","name":"at-3cols","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached 3cols","name":"reached-3cols","group":"Current state","index":11},{"plug":"input","type":"string","group":"5cols Values","name":"value-5cols-Layout String","displayName":"Layout String","editorName":"5cols|Layout String","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 5cols","name":"to-5cols","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At 5cols","name":"at-5cols","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached 5cols","name":"reached-5cols","group":"Current state","index":15},{"plug":"input","type":"string","group":"1cols Values","name":"value-1cols-Layout String","displayName":"Layout String","editorName":"1cols|Layout String","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 1cols","name":"to-1cols","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At 1cols","name":"at-1cols","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached 1cols","name":"reached-1cols","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["3cols","5cols","1cols"]},"group":"States","displayName":"State","name":"currentState","default":"3cols","index":20}],"children":[]},{"id":"feba9438-cb8e-53e3-95a7-a3b58fc3b176","type":"JavaScriptFunction","x":422.8931303907508,"y":887.2768206557539,"parameters":{"functionScript":"const width = Inputs.Width;\r\n\r\nif (width > 1000) {\r\n    Outputs.isDesktop = true;\r\n    Outputs.isTablet = false;\r\n    Outputs.isMobile = false;\r\n} else if (width > 768 && width <= 1000) {\r\n    Outputs.isDesktop = false;\r\n    Outputs.isTablet = true;\r\n    Outputs.isMobile = false;\r\n} else {\r\n    Outputs.isDesktop = false;\r\n    Outputs.isTablet = false;\r\n    Outputs.isMobile = true;\r\n}"},"ports":[],"dynamicports":[{"name":"in-Width","displayName":"Width","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-isDesktop","displayName":"isDesktop","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-isTablet","displayName":"isTablet","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-isMobile","displayName":"isMobile","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"bcefcadd-3ca6-3276-3a6a-bc9a52de0b5a","type":"/Components/Media Query","x":-189.8654322787578,"y":227.22700102055694,"parameters":{"mediaQuery":"(max-width: 575px)"},"ports":[],"dynamicports":[],"children":[]},{"id":"ad40b222-621c-d68d-f298-de32efbe3d87","type":"States","x":-188.8654322787578,"y":114.22700102055694,"parameters":{"states":"Tablet & Mobile,Desktop","values":"padding","value-Tablet & Mobile-padding":24,"value-Desktop-padding":64},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"padding","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"padding","name":"type-padding","index":7},{"plug":"input","type":"number","group":"Tablet & Mobile Values","name":"value-Tablet & Mobile-padding","displayName":"padding","editorName":"Tablet & Mobile|padding","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Tablet & Mobile Transitions","name":"transitiondef-Tablet & Mobile","index":9},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Tablet & Mobile Transitions","name":"transition-Tablet & Mobile-padding","displayName":"padding","editorName":"Transition Tablet & Mobile|padding","index":10},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Tablet & Mobile","name":"to-Tablet & Mobile","group":"Go to state","index":11},{"plug":"output","type":"boolean","displayName":"At Tablet & Mobile","name":"at-Tablet & Mobile","group":"Current state","index":12},{"plug":"output","type":"signal","displayName":"Has Reached Tablet & Mobile","name":"reached-Tablet & Mobile","group":"Current state","index":13},{"plug":"input","type":"number","group":"Desktop Values","name":"value-Desktop-padding","displayName":"padding","editorName":"Desktop|padding","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Desktop Transitions","name":"transitiondef-Desktop","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Desktop Transitions","name":"transition-Desktop-padding","displayName":"padding","editorName":"Transition Desktop|padding","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Desktop","name":"to-Desktop","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At Desktop","name":"at-Desktop","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached Desktop","name":"reached-Desktop","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["Tablet & Mobile","Desktop"]},"group":"States","displayName":"State","name":"currentState","default":"Tablet & Mobile","index":20}],"children":[]},{"id":"4b33e091-ef5c-6d96-5eef-979fa40aa999","type":"/#Logic/GetAllOrganization","x":422.0042025562911,"y":661.0997206228377,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["5d3aec08-9e4f-9b18-b45c-1fc6c066ebe4"]}},{"name":"/Page/organizations-detail","id":"811ba1e2-1731-e8d6-c760-39c1824c76bf","graph":{"connections":[{"fromId":"00b567b1-5899-251d-a817-25df0e0a511b","fromProperty":"onClick","toId":"6b5064fb-50dd-386a-37c8-238ff0999327","toProperty":"navigate"},{"fromId":"65a43e47-11ae-5468-70e8-affcafbf37b0","fromProperty":"pm-documentId","toId":"26cf56d3-9db3-dbec-1a11-82d1e140dfdb","toProperty":"run"},{"fromId":"26cf56d3-9db3-dbec-1a11-82d1e140dfdb","fromProperty":"out-Id","toId":"4bc3f3d2-6f7f-2647-6e57-a526667a663b","toProperty":"documentId"},{"fromId":"df6d2ada-ca77-e9a6-6f66-d6783f73152e","fromProperty":"didMount","toId":"4bc3f3d2-6f7f-2647-6e57-a526667a663b","toProperty":"Fetch"},{"fromId":"4bc3f3d2-6f7f-2647-6e57-a526667a663b","fromProperty":"Response","toId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","toProperty":"in-Data"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-Image","toId":"01d032ce-e0d1-4dee-ecec-8c09aa574e32","toProperty":"Images"},{"fromId":"01d032ce-e0d1-4dee-ecec-8c09aa574e32","fromProperty":"Image 1","toId":"d013b186-22f1-8b75-e0d1-332273f3f0a3","toProperty":"src"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-Province","toId":"b7c717c6-196f-d230-1dfe-3c06220f7709","toProperty":"Province"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-District","toId":"b7c717c6-196f-d230-1dfe-3c06220f7709","toProperty":"District"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-Ward","toId":"b7c717c6-196f-d230-1dfe-3c06220f7709","toProperty":"Ward"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-Name","toId":"3e8fd9a1-a728-d36d-00c7-d878f7a36128","toProperty":"text"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-Representative","toId":"a7ee60cc-bdcd-872f-0f79-b5e88d23e426","toProperty":"text"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-NotificationEmail","toId":"055b50b3-b946-555a-e86f-40c45918106f","toProperty":"text"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-PhoneNumber","toId":"6234a250-7aa3-a071-2884-a5f4aa8535c1","toProperty":"text"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-Description","toId":"aac0f6d4-4f88-150e-23a4-cb590ea03f2a","toProperty":"text"},{"fromId":"c7d3c090-a90b-7b03-57de-1f5b489c216e","fromProperty":"Match","toId":"8d21754f-b6e5-7cdd-a978-61dc2b8b6bd1","toProperty":"to-Tablet & Mobile"},{"fromId":"c7d3c090-a90b-7b03-57de-1f5b489c216e","fromProperty":"No Match","toId":"8d21754f-b6e5-7cdd-a978-61dc2b8b6bd1","toProperty":"to-Desktop"},{"fromId":"8d21754f-b6e5-7cdd-a978-61dc2b8b6bd1","fromProperty":"padding","toId":"1bfd9145-b48b-1f55-3bd2-94f7f60fd36d","toProperty":"paddingLeft"},{"fromId":"8d21754f-b6e5-7cdd-a978-61dc2b8b6bd1","fromProperty":"padding","toId":"1bfd9145-b48b-1f55-3bd2-94f7f60fd36d","toProperty":"paddingRight"},{"fromId":"b7c717c6-196f-d230-1dfe-3c06220f7709","fromProperty":"result","toId":"81b5b36f-f7c0-48de-1fc6-31315b173cfa","toProperty":"text"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-Description","toId":"0409bde7-8e0d-09f7-a616-9b17ac1999e5","toProperty":"mounted"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-Representative","toId":"9dfe625e-4b7c-a689-a520-7e2c54a6f4b9","toProperty":"mounted"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-NotificationEmail","toId":"20c4d797-ccdd-12b1-a2c8-5dfeb0fdf930","toProperty":"mounted"},{"fromId":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","fromProperty":"out-PhoneNumber","toId":"fd5101cc-df0a-3b6a-d9e5-4beacddccec4","toProperty":"mounted"}],"roots":[{"id":"df6d2ada-ca77-e9a6-6f66-d6783f73152e","type":"Page","x":163,"y":54,"parameters":{"title":"Chi tiết tổ chức","urlPath":"organizations-detail"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"organizations-detail","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"chi-tiết-tổ-chức","index":32}],"children":[{"id":"1bfd9145-b48b-1f55-3bd2-94f7f60fd36d","type":"Group","label":"Container","parameters":{"scrollEnabled":true,"backgroundColor":"transparent","nativeScroll":true,"scrollBounceEnabled":false,"scrollSnapEnabled":false,"scrollSnapToEveryItem":false,"showScrollbar":false,"maxWidth":{"value":1536,"unit":"px"},"alignX":"center","sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"3d7b2777-c468-ab2a-300d-0ed6f9cdbe7b","type":"Group","label":"Header","parameters":{"minWidth":{"value":100,"unit":"%"},"minHeight":{"value":80,"unit":"px"},"backgroundColor":"transparent","maxHeight":{"value":80,"unit":"px"},"flexDirection":"row","alignItems":"center","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"columnGap":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"00b567b1-5899-251d-a817-25df0e0a511b","type":"net.noodl.controls.button","parameters":{"boxShadowEnabled":false,"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"arrow_back_ios_new","codeAsClass":false},"sizeMode":"contentSize","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"alignY":"center","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"151609e9-6f75-ea22-d6a9-33e2477796e5","type":"Text","label":"","parameters":{"text":"Quay về","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"78218573-1b4f-6ff6-19ae-861912e839e5","type":"Group","label":"Content","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"sizeMode":"contentHeight","scrollEnabled":false,"alignItems":"center"},"ports":[],"dynamicports":[],"children":[{"id":"f0808c8c-a85d-55e8-7855-62f15ab17499","type":"Group","parameters":{"borderRadius":{"value":12,"unit":"px"},"borderStyle":"solid","borderColor":"Border","paddingTop":{"value":24,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"rowGap":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"665ef9ac-bf38-7bd3-866a-4706f5fc1cf6","type":"Group","parameters":{"width":{"value":100,"unit":"px","isFixed":true},"height":{"value":100,"unit":"px","isFixed":true}},"ports":[],"dynamicports":[],"children":[{"id":"d013b186-22f1-8b75-e0d1-332273f3f0a3","type":"Image","parameters":{"styleCss":"/* background-color: red; */\r\nobject-fit: cover;","borderRadius":{"value":12,"unit":"px"},"src":"https://placehold.co/400","objectFit":"scale-down","sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"3e8fd9a1-a728-d36d-00c7-d878f7a36128","type":"Text","parameters":{"text":"Tên của tổ chức","fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","textStyle":"Title Large"},"ports":[],"dynamicports":[],"children":[]},{"id":"e1743659-4fd8-b3be-9552-4d8445882d42","type":"Group","label":"Info","parameters":{"sizeMode":"contentHeight","rowGap":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"9dfe625e-4b7c-a689-a520-7e2c54a6f4b9","type":"Group","label":"","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"594bdc2b-b1ef-36d1-9101-098797c93ab1","type":"Text","label":"Label","parameters":{"text":"Người đại diện:","sizeMode":"contentSize","fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","color":"Primary"},"ports":[],"dynamicports":[],"children":[]},{"id":"a7ee60cc-bdcd-872f-0f79-b5e88d23e426","type":"Text","label":"Text","parameters":{"text":"","sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"20c4d797-ccdd-12b1-a2c8-5dfeb0fdf930","type":"Group","label":"","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"4009937e-b77f-4e43-9cfe-5a06cb42af61","type":"Text","label":"Label","parameters":{"text":"Email:","sizeMode":"contentSize","fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","color":"Primary"},"ports":[],"dynamicports":[],"children":[]},{"id":"055b50b3-b946-555a-e86f-40c45918106f","type":"Text","label":"Text","parameters":{"text":"","sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"fd5101cc-df0a-3b6a-d9e5-4beacddccec4","type":"Group","label":"","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"33d2a80a-97b2-50d2-551e-dcdfccd962c5","type":"Text","label":"Label","parameters":{"text":"Số điện thoại:","sizeMode":"contentSize","fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","color":"Primary"},"ports":[],"dynamicports":[],"children":[]},{"id":"6234a250-7aa3-a071-2884-a5f4aa8535c1","type":"Text","label":"Text","parameters":{"text":"","sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"f3ac62f0-aa8d-fde8-7b30-8705cce77dc5","type":"Group","label":"","parameters":{"flexDirection":"row","columnGap":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"60545458-fafb-9e07-e6bf-155a0b200f71","type":"Text","label":"Label","parameters":{"text":"Địa chỉ:","sizeMode":"contentSize","fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","color":"Primary"},"ports":[],"dynamicports":[],"children":[]},{"id":"81b5b36f-f7c0-48de-1fc6-31315b173cfa","type":"Text","label":"Text","parameters":{"text":"","sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"0409bde7-8e0d-09f7-a616-9b17ac1999e5","type":"Group","label":"","parameters":{"flexDirection":"column","columnGap":{"value":8,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"a68a821c-bb3e-d363-4abb-1092f13ddf7e","type":"Text","label":"Mô tả","parameters":{"text":"Mô tả:","sizeMode":"contentSize","fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","color":"Primary"},"ports":[],"dynamicports":[],"children":[]},{"id":"aac0f6d4-4f88-150e-23a4-cb590ea03f2a","type":"Text","label":"Text","parameters":{"text":""},"ports":[],"dynamicports":[],"children":[]}]}]}]}]}]}]},{"id":"6b5064fb-50dd-386a-37c8-238ff0999327","type":"RouterNavigate","x":396.51858911941724,"y":233.674583689909,"parameters":{"router":"Main","target":"/Page/organizations"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]},{"id":"26cf56d3-9db3-dbec-1a11-82d1e140dfdb","type":"JavaScriptFunction","x":-47.31223993870992,"y":158.91363915578486,"parameters":{"functionScript":"const id = Inputs.id;\r\n\r\nif (id) {\r\n    Outputs.Id = id;\r\n} else {\r\n    Outputs.Id = getIdFromURL();\r\n}\r\n\r\nfunction getIdFromURL() {\r\n    const currentPath = window.location.pathname;\r\n\r\n    const regex = /^\\/organizations-detail\\/[a-zA-Z0-9]+$/;\r\n\r\n    if (regex.test(currentPath)) {\r\n        const segments = currentPath.split('/');\r\n        return segments[segments.length - 1];\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-id","displayName":"id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"65a43e47-11ae-5468-70e8-affcafbf37b0","type":"PageInputs","x":-45.115017729789315,"y":83.70792115224091,"parameters":{"pathParams":"documentId"},"ports":[],"dynamicports":[{"name":"pm-documentId","displayName":"documentId","type":"*","plug":"output","group":"Parameters","index":2}],"children":[]},{"id":"4bc3f3d2-6f7f-2647-6e57-a526667a663b","type":"/#Logic/GetOrganizationDetail","x":-45.41799021796555,"y":253.71617900057396,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4c5f1b14-4305-3dc5-e6be-e9657529cf50","type":"JavaScriptFunction","x":-119.89415451444813,"y":1120.9281761677048,"parameters":{"functionScript":"const data = Inputs.Data;\r\n\r\nif(!data) return;\r\n\r\nOutputs.Name = data.Name;\r\nOutputs.Representative = data.Representative;\r\nOutputs.NotificationEmail = data.NotificationEmail;\r\nOutputs.Description = data.Description;\r\nOutputs.PhoneNumber = data.PhoneNumber;\r\nOutputs.Image = data.Image;\r\nOutputs.Province = data.Province?.FullName;\r\nOutputs.District = data.District?.FullName;\r\nOutputs.Ward = data.Ward?.FullName;"},"ports":[],"dynamicports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Name","displayName":"Name","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Representative","displayName":"Representative","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-NotificationEmail","displayName":"NotificationEmail","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Description","displayName":"Description","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-PhoneNumber","displayName":"PhoneNumber","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-Image","displayName":"Image","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Province","displayName":"Province","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-District","displayName":"District","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Ward","displayName":"Ward","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"01d032ce-e0d1-4dee-ecec-8c09aa574e32","type":"/#Logic/GetImage","x":-120.84278767772727,"y":1353.0651190666206,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"b7c717c6-196f-d230-1dfe-3c06220f7709","type":"Expression","x":-125.29638543947749,"y":1448.3757265660379,"parameters":{"expression":"Ward + ', ' + District + ', ' + Province"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Province","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"District","type":{"name":"*","editAsType":"string"},"plug":"input","index":8},{"group":"Parameters","name":"Ward","type":{"name":"*","editAsType":"string"},"plug":"input","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"c7d3c090-a90b-7b03-57de-1f5b489c216e","type":"/Components/Media Query","x":489.07176887600417,"y":120.26054461601002,"parameters":{"mediaQuery":"(max-width: 575px)"},"ports":[],"dynamicports":[],"children":[]},{"id":"8d21754f-b6e5-7cdd-a978-61dc2b8b6bd1","type":"States","x":490.07176887600417,"y":7.260544616010037,"parameters":{"states":"Tablet & Mobile,Desktop","values":"padding","value-Tablet & Mobile-padding":24,"value-Desktop-padding":64},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"padding","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"padding","name":"type-padding","index":7},{"plug":"input","type":"number","group":"Tablet & Mobile Values","name":"value-Tablet & Mobile-padding","displayName":"padding","editorName":"Tablet & Mobile|padding","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Tablet & Mobile Transitions","name":"transitiondef-Tablet & Mobile","index":9},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Tablet & Mobile Transitions","name":"transition-Tablet & Mobile-padding","displayName":"padding","editorName":"Transition Tablet & Mobile|padding","index":10},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Tablet & Mobile","name":"to-Tablet & Mobile","group":"Go to state","index":11},{"plug":"output","type":"boolean","displayName":"At Tablet & Mobile","name":"at-Tablet & Mobile","group":"Current state","index":12},{"plug":"output","type":"signal","displayName":"Has Reached Tablet & Mobile","name":"reached-Tablet & Mobile","group":"Current state","index":13},{"plug":"input","type":"number","group":"Desktop Values","name":"value-Desktop-padding","displayName":"padding","editorName":"Desktop|padding","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Desktop Transitions","name":"transitiondef-Desktop","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Desktop Transitions","name":"transition-Desktop-padding","displayName":"padding","editorName":"Transition Desktop|padding","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Desktop","name":"to-Desktop","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At Desktop","name":"at-Desktop","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached Desktop","name":"reached-Desktop","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["Tablet & Mobile","Desktop"]},"group":"States","displayName":"State","name":"currentState","default":"Tablet & Mobile","index":20}],"children":[]}],"visualRoots":["df6d2ada-ca77-e9a6-6f66-d6783f73152e"]}},{"name":"/Page/organizations/OrganizationCard","id":"47b685df-fea2-e9b0-bfe4-e6ed801add67","graph":{"connections":[{"fromId":"29e60f87-fc7a-3fef-0070-648f6e85a658","fromProperty":"prop-Name","toId":"def71f3c-e72f-8783-d4cf-85ca795b4abe","toProperty":"text"},{"fromId":"29e60f87-fc7a-3fef-0070-648f6e85a658","fromProperty":"prop-Image","toId":"ffa21a51-5298-030f-1961-68f945adb7c8","toProperty":"Images"},{"fromId":"ffa21a51-5298-030f-1961-68f945adb7c8","fromProperty":"Image 1","toId":"b44663e5-c347-27a6-af38-b03df6a309c3","toProperty":"src"},{"fromId":"def71f3c-e72f-8783-d4cf-85ca795b4abe","fromProperty":"onClick","toId":"05ded1c4-fe1d-f88b-dcbe-4da2080e3da0","toProperty":"navigate"},{"fromId":"b44663e5-c347-27a6-af38-b03df6a309c3","fromProperty":"onClick","toId":"05ded1c4-fe1d-f88b-dcbe-4da2080e3da0","toProperty":"navigate"},{"fromId":"29e60f87-fc7a-3fef-0070-648f6e85a658","fromProperty":"prop-Representative","toId":"5e2b0d0b-06e8-ba4f-d7e7-c2595ac84cc0","toProperty":"representative"},{"fromId":"5e2b0d0b-06e8-ba4f-d7e7-c2595ac84cc0","fromProperty":"result","toId":"615db7f2-260c-edb7-3343-45cbff796c0d","toProperty":"text"},{"fromId":"29e60f87-fc7a-3fef-0070-648f6e85a658","fromProperty":"prop-Province","toId":"bd3abbc2-f653-5053-4083-b1676c2cdd8f","toProperty":"Province"},{"fromId":"bd3abbc2-f653-5053-4083-b1676c2cdd8f","fromProperty":"result","toId":"8a1c23af-d2e2-dad0-1bb5-614f36bd28e2","toProperty":"text"},{"fromId":"29e60f87-fc7a-3fef-0070-648f6e85a658","fromProperty":"prop-documentId","toId":"05ded1c4-fe1d-f88b-dcbe-4da2080e3da0","toProperty":"pm-documentId"}],"roots":[{"id":"9bbbffc7-0460-1f21-c520-b54088e6f92d","type":"Group","x":174,"y":87,"parameters":{"sizeMode":"contentHeight","backgroundColor":"transparent","paddingLeft":{"value":0,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"styleCss":"/* background-color: red; */\r\n\r\ncursor: pointer;\r\n","width":{"value":100,"unit":"%","isFixed":false}},"stateParameters":{"hover":{"backgroundColor":"transparent"}},"ports":[],"dynamicports":[],"children":[{"id":"89048e6a-db8a-391a-c230-925c16ec1cad","type":"Group","parameters":{"styleCss":"/* background-color: red; */\r\nposition: relative;\r\n"},"ports":[],"dynamicports":[],"children":[{"id":"b44663e5-c347-27a6-af38-b03df6a309c3","type":"Image","parameters":{"marginBottom":{"value":12,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"styleCss":"/* background-color: red; */\r\nobject-fit: cover;\r\nbackground-color: #B4B4B4;","src":"https://placehold.co/400x400?text=UniHand","maxHeight":{"value":200,"unit":"px"},"sizeMode":"explicit","height":{"value":150,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"93d3f2b5-f4ba-148e-13a7-b835604d7e52","type":"Group","parameters":{"rowGap":{"value":4,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"def71f3c-e72f-8783-d4cf-85ca795b4abe","type":"Text","parameters":{"color":"Grey - 900","fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","text":"","styleCss":"/* background-color: red; */\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 3;\r\n-webkit-box-orient: vertical;\r\nword-break: break-word;"},"stateParameters":{"hover":{"textTransform":"none","fontFamily":"build/fonts/Roboto/Roboto-Bold.ttf","color":"Primary"}},"ports":[],"dynamicports":[],"children":[]},{"id":"615db7f2-260c-edb7-3343-45cbff796c0d","type":"Text","label":"Người đại diện","parameters":{"textStyle":"Label Medium","fontFamily":"build/fonts/Roboto/Roboto-Medium.ttf","text":"","color":"Grey - 600"},"ports":[],"dynamicports":[],"children":[]},{"id":"8a1c23af-d2e2-dad0-1bb5-614f36bd28e2","type":"Text","label":"Tỉnh","parameters":{"textStyle":"Label Medium","fontFamily":"build/fonts/Roboto/Roboto-Medium.ttf","color":"Grey - 600"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"29e60f87-fc7a-3fef-0070-648f6e85a658","type":"Model2","x":-24,"y":197,"parameters":{"idSource":"foreach","properties":"documentId,Name,Image,Representative,Province"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-documentId","displayName":"documentId","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"documentId Changed","name":"changed-documentId","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Name","displayName":"Name","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Name Changed","name":"changed-Name","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Image","displayName":"Image","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Image Changed","name":"changed-Image","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Representative","displayName":"Representative","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Representative Changed","name":"changed-Representative","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Province","displayName":"Province","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Province Changed","name":"changed-Province","index":16}],"children":[]},{"id":"ffa21a51-5298-030f-1961-68f945adb7c8","type":"/#Logic/GetImage","x":-23,"y":124,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"05ded1c4-fe1d-f88b-dcbe-4da2080e3da0","type":"RouterNavigate","x":-24,"y":330,"parameters":{"router":"Main","target":"/Page/organizations-detail"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-documentId","displayName":"documentId","type":"string","plug":"input","group":"Parameters","index":4}],"children":[]},{"id":"5e2b0d0b-06e8-ba4f-d7e7-c2595ac84cc0","type":"Expression","x":7.25,"y":426,"parameters":{"expression":"\"Người đại diện: \" + representative"},"ports":[],"dynamicports":[{"group":"Parameters","name":"representative","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"bd3abbc2-f653-5053-4083-b1676c2cdd8f","type":"Expression","x":7.25,"y":547,"parameters":{"expression":"'Tỉnh/TP: ' + Province.FullName"},"ports":[],"dynamicports":[{"group":"Parameters","name":"Province","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}}],"visualRoots":["9bbbffc7-0460-1f21-c520-b54088e6f92d"]}},{"name":"/Page/post","id":"bed6db7f-8fcd-b41c-232c-3c411072928f","graph":{"connections":[{"fromId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","fromProperty":"data","toId":"194309fc-0a1a-f104-1fa8-b9469d1c06ba","toProperty":"items"},{"fromId":"704b97c8-ace5-1e10-1e2d-1f927d3dbabf","fromProperty":"onClick","toId":"341ec5bd-fa4e-7210-f758-5ce344965829","toProperty":"clear"},{"fromId":"341ec5bd-fa4e-7210-f758-5ce344965829","fromProperty":"onTextChanged","toId":"704b97c8-ace5-1e10-1e2d-1f927d3dbabf","toProperty":"visible"},{"fromId":"341ec5bd-fa4e-7210-f758-5ce344965829","fromProperty":"onTextChanged","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"keyword"},{"fromId":"1a216e92-d40f-c362-0e4b-6ebdccdecd19","fromProperty":"value","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"sort"},{"fromId":"341ec5bd-fa4e-7210-f758-5ce344965829","fromProperty":"onEnter","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"Fetch"},{"fromId":"5c8f3f60-2447-0ef7-cbf3-5c33fd77e55d","fromProperty":"onClick","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"Fetch"},{"fromId":"1a216e92-d40f-c362-0e4b-6ebdccdecd19","fromProperty":"onChange","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"Fetch"},{"fromId":"de325db6-53e0-758e-4010-92e546917901","fromProperty":"didMount","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"Fetch"},{"fromId":"704b97c8-ace5-1e10-1e2d-1f927d3dbabf","fromProperty":"onClick","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"Fetch"},{"fromId":"b10b46d4-668f-f6a7-67dd-bb078e20c640","fromProperty":"Layout String","toId":"7ac686bd-657b-78d4-3622-ddba711356bb","toProperty":"layoutString"},{"fromId":"ae3bf74c-7abe-7e1d-9a94-70fde2718108","fromProperty":"out-isDesktop","toId":"b10b46d4-668f-f6a7-67dd-bb078e20c640","toProperty":"to-5cols"},{"fromId":"ae3bf74c-7abe-7e1d-9a94-70fde2718108","fromProperty":"out-isTablet","toId":"b10b46d4-668f-f6a7-67dd-bb078e20c640","toProperty":"to-3cols"},{"fromId":"7ac686bd-657b-78d4-3622-ddba711356bb","fromProperty":"boundingWidth","toId":"ae3bf74c-7abe-7e1d-9a94-70fde2718108","toProperty":"in-Width"},{"fromId":"ae3bf74c-7abe-7e1d-9a94-70fde2718108","fromProperty":"out-isMobile","toId":"b10b46d4-668f-f6a7-67dd-bb078e20c640","toProperty":"to-1cols"},{"fromId":"6fbd30db-fafd-a920-9783-5c18764a9253","fromProperty":"Match","toId":"75f7b902-53f8-f728-de50-5b4e70bf1440","toProperty":"to-Tablet & Mobile"},{"fromId":"6fbd30db-fafd-a920-9783-5c18764a9253","fromProperty":"No Match","toId":"75f7b902-53f8-f728-de50-5b4e70bf1440","toProperty":"to-Desktop"},{"fromId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","fromProperty":"total","toId":"e092699e-f376-2170-3a00-c7183034f81c","toProperty":"TotalCount"},{"fromId":"e092699e-f376-2170-3a00-c7183034f81c","fromProperty":"Limit","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"limit"},{"fromId":"e092699e-f376-2170-3a00-c7183034f81c","fromProperty":"Changed","toId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","toProperty":"Fetch"},{"fromId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","fromProperty":"page","toId":"e092699e-f376-2170-3a00-c7183034f81c","toProperty":"SelectedPage"},{"fromId":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","fromProperty":"pageSize","toId":"e092699e-f376-2170-3a00-c7183034f81c","toProperty":"RowsPerPage"},{"fromId":"75f7b902-53f8-f728-de50-5b4e70bf1440","fromProperty":"padding","toId":"a5856f34-08b9-b57a-86af-291f58a60c8c","toProperty":"paddingLeft"},{"fromId":"75f7b902-53f8-f728-de50-5b4e70bf1440","fromProperty":"padding","toId":"a5856f34-08b9-b57a-86af-291f58a60c8c","toProperty":"paddingRight"}],"roots":[{"id":"de325db6-53e0-758e-4010-92e546917901","type":"Page","x":-29.158769499927075,"y":-145.79384749963555,"parameters":{"urlPath":"/post","title":"Tin tức"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"post","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"tin-tức","index":32}],"children":[{"id":"ed9b1350-d9c7-95cc-4b29-635e6b99c3b4","type":"Group","parameters":{"scrollEnabled":true},"ports":[],"dynamicports":[],"children":[{"id":"a5856f34-08b9-b57a-86af-291f58a60c8c","type":"Group","label":"Group table","parameters":{"alignX":"center","sizeMode":"explicit","boxShadowEnabled":false,"alignItems":"center","marginTop":{"value":32,"unit":"px"},"marginBottom":{"value":32,"unit":"px"},"maxWidth":{"value":1536,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"b98e32c3-f080-8a80-5b53-9ad2a08b4a9e","type":"Group","label":"Header","parameters":{"flexDirection":"row","columnGap":{"value":12,"unit":"px"},"sizeMode":"contentSize","alignX":"left"},"ports":[],"dynamicports":[],"children":[{"id":"9a78daca-d5a4-57ca-d4df-298b77046fae","type":"Text","label":"Bài viết","parameters":{"text":"Bài viết","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":24,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"8c8fabc4-4634-3e21-ebfc-3a7b8977085a","type":"Group","label":"filter","parameters":{"alignItems":"center","justifyContent":"flex-start","alignX":"center","sizeMode":"contentHeight","marginTop":{"value":20,"unit":"px"},"marginBottom":{"value":20,"unit":"px"},"flexDirection":"row","flexWrap":"wrap","columnGap":{"value":24,"unit":"px"},"alignY":"bottom"},"ports":[],"dynamicports":[],"children":[{"id":"1a216e92-d40f-c362-0e4b-6ebdccdecd19","type":"net.noodl.controls.options","parameters":{"maxWidth":{"value":200,"unit":"px"},"items":"[\n    {\"Label\":\"Mới nhất\", \"Value\":\"desc\"},\n    {\"Label\":\"Cũ nhất\", \"Value\":\"asc\"},\n]","label":"Lọc"},"ports":[],"dynamicports":[],"children":[]},{"id":"6932f1c5-6971-ece8-0523-1f8e6d5e1013","type":"Group","label":"Search","parameters":{"sizeMode":"contentSize","flexWrap":"nowrap","columnGap":{"value":12,"unit":"px"},"clip":false,"alignY":"bottom","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Border","justifyContent":"flex-start","borderRadius":{"value":8,"unit":"px"},"alignItems":"flex-end","paddingRight":{"value":4,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"flexDirection":"row","position":"relative"},"ports":[],"dynamicports":[],"children":[{"id":"341ec5bd-fa4e-7210-f758-5ce344965829","type":"net.noodl.controls.textinput","parameters":{"label":"","alignY":"center","borderStyle":"none","placeholder":"Tìm kiếm","sizeMode":"contentHeight","width":{"value":300,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"704b97c8-ace5-1e10-1e2d-1f927d3dbabf","type":"net.noodl.controls.button","label":"Tìm kiếm","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","iconSize":{"value":18,"unit":"px"},"paddingLeft":{"value":2,"unit":"px"},"paddingRight":{"value":2,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"backgroundColor":"Grey - 400","mounted":true,"position":"relative","enabled":true,"blockTouch":false},"stateParameters":{"hover":{"backgroundColor":"Grey - 500","useIcon":true}},"ports":[],"dynamicports":[],"children":[]},{"id":"5c8f3f60-2447-0ef7-cbf3-5c33fd77e55d","type":"net.noodl.controls.button","parameters":{"label":"Tìm kiếm","alignY":"center","useIcon":true,"iconIconSource":{"class":"material-icons","code":"search","codeAsClass":false},"iconSpacing":{"value":8,"unit":"px"},"useLabel":false,"minWidth":{"value":0,"unit":"px"},"height":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"iconSize":{"value":22,"unit":"px"},"minHeight":{"value":34,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"7af6a13a-7358-3ff6-b533-2fbb7452476a","type":"Group","parameters":{"width":{"value":100,"unit":"%","isFixed":false},"alignItems":"center"},"ports":[],"dynamicports":[],"children":[{"id":"7ac686bd-657b-78d4-3622-ddba711356bb","type":"net.noodl.visual.columns","parameters":{"direction":"row","layoutString":"1 1 1 1 1","justifyContent":"flex-start"},"ports":[],"dynamicports":[],"children":[{"id":"194309fc-0a1a-f104-1fa8-b9469d1c06ba","type":"For Each","parameters":{"template":"/Page/post/PostCard"},"ports":[],"dynamicports":[{"name":"itemOutput-reload","displayName":"reload","type":"*","plug":"output","group":"Item Outputs","index":6},{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":7}],"children":[]}]},{"id":"d3fd46de-e6df-dd68-738f-0d4f07185eff","type":"Group","parameters":{"paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"e092699e-f376-2170-3a00-c7183034f81c","type":"/Components/PagesAndRows","parameters":{},"ports":[],"dynamicports":[],"children":[]}]}]}]}]}]},{"id":"8aef658f-6c2f-285d-1dc8-46a67d7b7c1a","type":"PageInputs","x":-27.9442595970595,"y":-184.86496909809335,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8f3bc1f6-1e1c-9ab4-4991-6d7a5369db8a","type":"/#Logic/GetAllPosts","x":411.0646654273521,"y":479.83599928758906,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"b10b46d4-668f-f6a7-67dd-bb078e20c640","type":"States","x":410.56182133655307,"y":829.8279175390226,"parameters":{"values":"Layout String","states":"3cols,5cols,1cols","useTransitions":false,"type-Layout String":"string","value-3cols-Layout String":"1 1 1","value-5cols-Layout String":"1 1 1 1 1","value-1cols-Layout String":"1"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Layout String","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Layout String","name":"type-Layout String","index":7},{"plug":"input","type":"string","group":"3cols Values","name":"value-3cols-Layout String","displayName":"Layout String","editorName":"3cols|Layout String","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 3cols","name":"to-3cols","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At 3cols","name":"at-3cols","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached 3cols","name":"reached-3cols","group":"Current state","index":11},{"plug":"input","type":"string","group":"5cols Values","name":"value-5cols-Layout String","displayName":"Layout String","editorName":"5cols|Layout String","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 5cols","name":"to-5cols","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At 5cols","name":"at-5cols","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached 5cols","name":"reached-5cols","group":"Current state","index":15},{"plug":"input","type":"string","group":"1cols Values","name":"value-1cols-Layout String","displayName":"Layout String","editorName":"1cols|Layout String","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 1cols","name":"to-1cols","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At 1cols","name":"at-1cols","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached 1cols","name":"reached-1cols","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["3cols","5cols","1cols"]},"group":"States","displayName":"State","name":"currentState","default":"3cols","index":20}],"children":[]},{"id":"ae3bf74c-7abe-7e1d-9a94-70fde2718108","type":"JavaScriptFunction","x":410.4772065009647,"y":695.2658818156663,"parameters":{"functionScript":"const width = Inputs.Width;\r\n\r\nif (width > 1000) {\r\n    Outputs.isDesktop = true;\r\n    Outputs.isTablet = false;\r\n    Outputs.isMobile = false;\r\n} else if (width > 768 && width <= 1000) {\r\n    Outputs.isDesktop = false;\r\n    Outputs.isTablet = true;\r\n    Outputs.isMobile = false;\r\n} else {\r\n    Outputs.isDesktop = false;\r\n    Outputs.isTablet = false;\r\n    Outputs.isMobile = true;\r\n}"},"ports":[],"dynamicports":[{"name":"in-Width","displayName":"Width","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-isDesktop","displayName":"isDesktop","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-isTablet","displayName":"isTablet","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-isMobile","displayName":"isMobile","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"6fbd30db-fafd-a920-9783-5c18764a9253","type":"/Components/Media Query","x":-231,"y":227,"parameters":{"mediaQuery":"(max-width: 575px)"},"ports":[],"dynamicports":[],"children":[]},{"id":"75f7b902-53f8-f728-de50-5b4e70bf1440","type":"States","x":-230,"y":114,"parameters":{"states":"Tablet & Mobile,Desktop","values":"padding","value-Tablet & Mobile-padding":24,"value-Desktop-padding":64},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"padding","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"padding","name":"type-padding","index":7},{"plug":"input","type":"number","group":"Tablet & Mobile Values","name":"value-Tablet & Mobile-padding","displayName":"padding","editorName":"Tablet & Mobile|padding","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Tablet & Mobile Transitions","name":"transitiondef-Tablet & Mobile","index":9},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Tablet & Mobile Transitions","name":"transition-Tablet & Mobile-padding","displayName":"padding","editorName":"Transition Tablet & Mobile|padding","index":10},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Tablet & Mobile","name":"to-Tablet & Mobile","group":"Go to state","index":11},{"plug":"output","type":"boolean","displayName":"At Tablet & Mobile","name":"at-Tablet & Mobile","group":"Current state","index":12},{"plug":"output","type":"signal","displayName":"Has Reached Tablet & Mobile","name":"reached-Tablet & Mobile","group":"Current state","index":13},{"plug":"input","type":"number","group":"Desktop Values","name":"value-Desktop-padding","displayName":"padding","editorName":"Desktop|padding","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Desktop Transitions","name":"transitiondef-Desktop","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Desktop Transitions","name":"transition-Desktop-padding","displayName":"padding","editorName":"Transition Desktop|padding","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Desktop","name":"to-Desktop","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At Desktop","name":"at-Desktop","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached Desktop","name":"reached-Desktop","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["Tablet & Mobile","Desktop"]},"group":"States","displayName":"State","name":"currentState","default":"Tablet & Mobile","index":20}],"children":[]}],"visualRoots":["de325db6-53e0-758e-4010-92e546917901"]}},{"name":"/Page/post-detail","id":"ddf803dc-1b39-e0cc-46ba-432388ec0a1e","graph":{"connections":[{"fromId":"fb8e16a4-602e-c974-6c46-b3c8e76b3196","fromProperty":"data","toId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","toProperty":"in-data"},{"fromId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","fromProperty":"out-Author","toId":"a8ee1330-283d-d582-62da-8ace7d6c2d2b","toProperty":"text"},{"fromId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","fromProperty":"out-Title","toId":"1c20084f-df02-2f75-1efb-c99c0da268de","toProperty":"text"},{"fromId":"eecef1c5-8e5b-5470-7b6f-207d49a8b2b8","fromProperty":"onClick","toId":"85004e3d-9665-95eb-efb7-8f58f182448b","toProperty":"navigate"},{"fromId":"d30eb1e2-a2ac-4036-0c06-24c59fb8a6da","fromProperty":"pm-id","toId":"96775863-fea7-6066-89af-58a488955f73","toProperty":"in-id"},{"fromId":"96775863-fea7-6066-89af-58a488955f73","fromProperty":"out-Id","toId":"fb8e16a4-602e-c974-6c46-b3c8e76b3196","toProperty":"id"},{"fromId":"13b0a9e9-7a1e-cf99-65ae-dd35d13c9d20","fromProperty":"didMount","toId":"fb8e16a4-602e-c974-6c46-b3c8e76b3196","toProperty":"Do"},{"fromId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","fromProperty":"out-Image","toId":"20bd2f60-8e9d-6e87-e6ff-d8b776c89e89","toProperty":"Images"},{"fromId":"20bd2f60-8e9d-6e87-e6ff-d8b776c89e89","fromProperty":"Image 1","toId":"4d642fe6-e5e2-d10e-678b-1b5131208687","toProperty":"src"},{"fromId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","fromProperty":"out-createdAt","toId":"0096df4d-61d0-f211-f8ba-72b9bd5937bb","toProperty":"Date"},{"fromId":"0096df4d-61d0-f211-f8ba-72b9bd5937bb","fromProperty":"Date","toId":"c6c7db24-3f23-a083-859c-64d6943c5eba","toProperty":"text"},{"fromId":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","fromProperty":"out-createdAt","toId":"25a12c3a-e216-afa6-c043-c4692d7e7027","toProperty":"Date"},{"fromId":"25a12c3a-e216-afa6-c043-c4692d7e7027","fromProperty":"TimeAgo","toId":"32e98e41-0c29-2ba8-e4d4-cc0637ec0f92","toProperty":"text"},{"fromId":"bcb70bf9-732e-4faa-8d7c-785f5bf284d7","fromProperty":"Match","toId":"f533c51b-bb44-c852-f247-f90779db2458","toProperty":"to-Tablet & Mobile"},{"fromId":"bcb70bf9-732e-4faa-8d7c-785f5bf284d7","fromProperty":"No Match","toId":"f533c51b-bb44-c852-f247-f90779db2458","toProperty":"to-Desktop"},{"fromId":"f533c51b-bb44-c852-f247-f90779db2458","fromProperty":"padding","toId":"90451060-0810-d7ed-46b7-bd2fae0be001","toProperty":"paddingLeft"},{"fromId":"f533c51b-bb44-c852-f247-f90779db2458","fromProperty":"padding","toId":"90451060-0810-d7ed-46b7-bd2fae0be001","toProperty":"paddingRight"}],"roots":[{"id":"13b0a9e9-7a1e-cf99-65ae-dd35d13c9d20","type":"Page","x":-140,"y":-116,"parameters":{"title":"Bài viết","urlPath":"post-detail"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"post-detail","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"bài-viết","index":32}],"children":[{"id":"90451060-0810-d7ed-46b7-bd2fae0be001","type":"Group","label":"Container","parameters":{"scrollEnabled":true,"backgroundColor":"transparent","nativeScroll":true,"scrollBounceEnabled":false,"scrollSnapEnabled":false,"scrollSnapToEveryItem":false,"showScrollbar":false,"maxWidth":{"value":1536,"unit":"px"},"alignX":"center","marginTop":{"value":32,"unit":"px"},"marginBottom":{"value":128,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"873543dc-bb63-469e-6ad7-9d7b7ad59233","type":"Group","label":"Header","parameters":{"minWidth":{"value":100,"unit":"%"},"minHeight":{"value":80,"unit":"px"},"backgroundColor":"transparent","maxHeight":{"value":80,"unit":"px"},"flexDirection":"row","alignItems":"center","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"columnGap":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"eecef1c5-8e5b-5470-7b6f-207d49a8b2b8","type":"net.noodl.controls.button","parameters":{"boxShadowEnabled":false,"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"arrow_back_ios_new","codeAsClass":false},"sizeMode":"contentSize","paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"%"},"alignY":"center","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"1dd10f43-bf6a-0c0b-e349-25f8ea980147","type":"Text","label":"Quay lại","parameters":{"text":"Quay lại","fontSize":{"value":18,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"665d71d7-7d52-8295-9fc9-30598bccdc4d","type":"Group","label":"Content","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"sizeMode":"contentHeight","scrollEnabled":false,"alignItems":"center"},"ports":[],"dynamicports":[],"children":[{"id":"4d642fe6-e5e2-d10e-678b-1b5131208687","type":"Image","parameters":{"sizeMode":"explicit","styleCss":"/* background-color: red; */\r\nobject-fit: cover;","borderRadius":{"value":12,"unit":"px"},"maxHeight":{"value":500,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"e8358fde-3e55-d3d0-a3b8-968adbc0adf3","type":"Group","label":"Content","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"scrollEnabled":false,"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[{"id":"1c20084f-df02-2f75-1efb-c99c0da268de","type":"Text","parameters":{"fontSize":{"value":30,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","marginTop":{"value":20,"unit":"px"},"marginBottom":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"dccee0c7-63f8-57a5-19e5-2fc08217b135","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentSize","columnGap":{"value":12,"unit":"px"},"alignItems":"flex-end"},"ports":[],"dynamicports":[],"children":[{"id":"a8ee1330-283d-d582-62da-8ace7d6c2d2b","type":"Text","parameters":{"sizeMode":"contentSize","color":"Grey - 700","fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"dynamicports":[],"children":[]},{"id":"c6c7db24-3f23-a083-859c-64d6943c5eba","type":"Text","parameters":{"sizeMode":"contentSize","color":"Grey - 700","fontSize":{"value":14,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"32e98e41-0c29-2ba8-e4d4-cc0637ec0f92","type":"Text","parameters":{"sizeMode":"contentSize","color":"Grey - 700","fontSize":{"value":14,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"3159baee-b943-0f00-8916-cca82470c435","type":"Group","label":"Content","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"scrollEnabled":true,"sizeMode":"contentSize","marginTop":{"value":32,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"d5760cb6-49ed-ff5b-aae7-c14af7a2c59c","type":"module.inlineHtml","parameters":{"html":"<div class=\"content-baiviet\"></div>\r\n\r\n<script>\r\n  // Lấy dữ liệu từ localStorage\r\n  var content = localStorage.getItem(\"content\");\r\n\r\n  // Kiểm tra dữ liệu trước khi gán vào HTML\r\n  if (content && typeof content === \"string\") {\r\n    document.querySelector(\".content-baiviet\").innerHTML = content;\r\n  } else {\r\n    console.warn(\"No valid content found in localStorage.\");\r\n  }\r\n</script>\r\n","runJs":true,"styleCss":"/* background-color: red; */\r\nfont-family: Roboto-regular;\r\nword-break: break-word;\r\nline-height: 1.5;"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"d30eb1e2-a2ac-4036-0c06-24c59fb8a6da","type":"PageInputs","x":-486.35520099944665,"y":320.6338005697158,"parameters":{"pathParams":"id"},"ports":[],"dynamicports":[{"name":"pm-id","displayName":"id","type":"*","plug":"output","group":"Parameters","index":2}],"children":[]},{"id":"85004e3d-9665-95eb-efb7-8f58f182448b","type":"RouterNavigate","x":121.1850720014013,"y":-20.952679541282805,"parameters":{"router":"Main","target":"/Page/post"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]},{"id":"fb8e16a4-602e-c974-6c46-b3c8e76b3196","type":"/#Logic/GetPostDetail","x":-484.29351033231285,"y":485.6495740559549,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"3d947e9d-b2ed-8a58-c70f-b58d90cf1da4","type":"JavaScriptFunction","x":-484.29351033231285,"y":576.6495740559551,"parameters":{"functionScript":"const data = Inputs.data\r\n\r\nif (!data) return\r\n\r\nOutputs.Title = data.Title\r\nOutputs.Content = data.Content;\r\nOutputs.Content = data.Content;\r\nOutputs.createdAt = data.createdAt;\r\nOutputs.Author = data.Author;\r\nOutputs.Image = data.Image"},"ports":[],"dynamicports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Title","displayName":"Title","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Content","displayName":"Content","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-createdAt","displayName":"createdAt","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-Author","displayName":"Author","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-Image","displayName":"Image","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"25a12c3a-e216-afa6-c043-c4692d7e7027","type":"/#Logic/TimeAgo","x":-267.5804145960247,"y":715.6929664686953,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"0096df4d-61d0-f211-f8ba-72b9bd5937bb","type":"/#Logic/FormatDate","x":-268.00146722760337,"y":643.9561243634321,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"96775863-fea7-6066-89af-58a488955f73","type":"JavaScriptFunction","x":-484.65241967923555,"y":392.5456215080157,"parameters":{"functionScript":"const id = Inputs.id;\r\n\r\nif (id) {\r\n    Outputs.Id = id;\r\n} else {\r\n    Outputs.Id = getIdFromURL();\r\n}\r\n\r\nfunction getIdFromURL() {\r\n    const currentPath = window.location.pathname;\r\n\r\n    // Regex kiểm tra định dạng: \"/post-detail/:id\"\r\n    const regex = /^\\/post-detail\\/[a-zA-Z0-9]+$/;\r\n\r\n    if (regex.test(currentPath)) {\r\n        const segments = currentPath.split('/');\r\n        return segments[segments.length - 1]; // Lấy phần tử cuối cùng làm ID\r\n    } else {\r\n        return null; // Trả về null nếu không đúng định dạng\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-id","displayName":"id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"20bd2f60-8e9d-6e87-e6ff-d8b776c89e89","type":"/#Logic/GetImage","x":-485.11175172173716,"y":709.36960272022,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"bcb70bf9-732e-4faa-8d7c-785f5bf284d7","type":"/Components/Media Query","x":-392.4736842105263,"y":117.42105263157885,"parameters":{"mediaQuery":"(max-width: 575px)"},"ports":[],"dynamicports":[],"children":[]},{"id":"f533c51b-bb44-c852-f247-f90779db2458","type":"States","x":-391.4736842105263,"y":4.421052631578846,"parameters":{"states":"Tablet & Mobile,Desktop","values":"padding","value-Tablet & Mobile-padding":24,"value-Desktop-padding":64},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"padding","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"padding","name":"type-padding","index":7},{"plug":"input","type":"number","group":"Tablet & Mobile Values","name":"value-Tablet & Mobile-padding","displayName":"padding","editorName":"Tablet & Mobile|padding","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Tablet & Mobile Transitions","name":"transitiondef-Tablet & Mobile","index":9},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Tablet & Mobile Transitions","name":"transition-Tablet & Mobile-padding","displayName":"padding","editorName":"Transition Tablet & Mobile|padding","index":10},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Tablet & Mobile","name":"to-Tablet & Mobile","group":"Go to state","index":11},{"plug":"output","type":"boolean","displayName":"At Tablet & Mobile","name":"at-Tablet & Mobile","group":"Current state","index":12},{"plug":"output","type":"signal","displayName":"Has Reached Tablet & Mobile","name":"reached-Tablet & Mobile","group":"Current state","index":13},{"plug":"input","type":"number","group":"Desktop Values","name":"value-Desktop-padding","displayName":"padding","editorName":"Desktop|padding","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Desktop Transitions","name":"transitiondef-Desktop","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Desktop Transitions","name":"transition-Desktop-padding","displayName":"padding","editorName":"Transition Desktop|padding","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Desktop","name":"to-Desktop","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At Desktop","name":"at-Desktop","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached Desktop","name":"reached-Desktop","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["Tablet & Mobile","Desktop"]},"group":"States","displayName":"State","name":"currentState","default":"Tablet & Mobile","index":20}],"children":[]}],"visualRoots":["13b0a9e9-7a1e-cf99-65ae-dd35d13c9d20"]}},{"name":"/Page/post/PostCard","id":"0c4b1536-f1a3-f5dd-e1fc-5f8028f1d2ba","graph":{"connections":[{"fromId":"89c7b8ed-9750-78a8-8702-6e02bf1fb2b1","fromProperty":"prop-Title","toId":"6126a268-940a-9f51-ffc9-af8ef96b44cb","toProperty":"text"},{"fromId":"89c7b8ed-9750-78a8-8702-6e02bf1fb2b1","fromProperty":"prop-Image","toId":"85310cff-5b94-eb3f-ca1d-e10d0e5b67e8","toProperty":"Images"},{"fromId":"85310cff-5b94-eb3f-ca1d-e10d0e5b67e8","fromProperty":"Image 1","toId":"0f1e4c2e-65a1-0bdb-9e53-4d7a5b74cd2f","toProperty":"src"},{"fromId":"6126a268-940a-9f51-ffc9-af8ef96b44cb","fromProperty":"onClick","toId":"57da2844-cea9-5cd6-c453-6b7721ca73d8","toProperty":"navigate"},{"fromId":"0f1e4c2e-65a1-0bdb-9e53-4d7a5b74cd2f","fromProperty":"onClick","toId":"57da2844-cea9-5cd6-c453-6b7721ca73d8","toProperty":"navigate"},{"fromId":"89c7b8ed-9750-78a8-8702-6e02bf1fb2b1","fromProperty":"prop-documentId","toId":"57da2844-cea9-5cd6-c453-6b7721ca73d8","toProperty":"pm-id"},{"fromId":"89c7b8ed-9750-78a8-8702-6e02bf1fb2b1","fromProperty":"prop-Content","toId":"c330a9f8-e2cb-9f5b-c541-c20e38f2108d","toProperty":"in-Content"},{"fromId":"0f1e4c2e-65a1-0bdb-9e53-4d7a5b74cd2f","fromProperty":"onClick","toId":"c330a9f8-e2cb-9f5b-c541-c20e38f2108d","toProperty":"run"},{"fromId":"6126a268-940a-9f51-ffc9-af8ef96b44cb","fromProperty":"onClick","toId":"c330a9f8-e2cb-9f5b-c541-c20e38f2108d","toProperty":"run"},{"fromId":"89c7b8ed-9750-78a8-8702-6e02bf1fb2b1","fromProperty":"prop-createdAt","toId":"a9cd8ed0-b2fb-ac95-e0b6-56848471808f","toProperty":"Date"},{"fromId":"a9cd8ed0-b2fb-ac95-e0b6-56848471808f","fromProperty":"TimeAgo","toId":"d35b30b9-6518-f290-24d1-ba0b7b39d006","toProperty":"text"}],"roots":[{"id":"035c2232-57ee-71c1-b3cb-03e528798890","type":"Group","x":-128,"y":-119,"parameters":{"sizeMode":"contentHeight","backgroundColor":"transparent","paddingLeft":{"value":0,"unit":"px"},"paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingBottom":{"value":12,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"styleCss":"/* background-color: red; */\r\n\r\ncursor: pointer;\r\n","width":{"value":100,"unit":"%","isFixed":false}},"stateParameters":{"hover":{"backgroundColor":"transparent"}},"ports":[],"dynamicports":[],"children":[{"id":"9fc9dd7d-af0c-3d03-767d-13248ce5715a","type":"Group","parameters":{"styleCss":"/* background-color: red; */\r\nposition: relative;\r\n"},"ports":[],"dynamicports":[],"children":[{"id":"0f1e4c2e-65a1-0bdb-9e53-4d7a5b74cd2f","type":"Image","parameters":{"marginBottom":{"value":12,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"styleCss":"/* background-color: red; */\r\nobject-fit: cover;\r\nbackground-color: #B4B4B4;","src":"https://placehold.co/400x400?text=UniHand","maxHeight":{"value":200,"unit":"px"},"sizeMode":"explicit","height":{"value":150,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"034938ce-29a7-a729-9a84-56fd686a583d","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"d35b30b9-6518-f290-24d1-ba0b7b39d006","type":"Text","label":"","parameters":{"color":"Grey - 600","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","text":"","fontSize":{"value":14,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"6126a268-940a-9f51-ffc9-af8ef96b44cb","type":"Text","parameters":{"color":"Grey - 900","fontFamily":"fonts/Roboto/Roboto-Medium.ttf","text":"","styleCss":"/* background-color: red; */\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 3;\r\n-webkit-box-orient: vertical;\r\nword-break: break-word;"},"stateParameters":{"hover":{"textTransform":"none","fontFamily":"fonts/Roboto/Roboto-Medium.ttf"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"89c7b8ed-9750-78a8-8702-6e02bf1fb2b1","type":"Model2","x":-442.369002580596,"y":76.4119776929586,"parameters":{"idSource":"foreach","properties":"documentId,Title,Content,Author,Image,createdAt"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-documentId","displayName":"documentId","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"documentId Changed","name":"changed-documentId","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Title","displayName":"Title","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Title Changed","name":"changed-Title","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Content","displayName":"Content","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Content Changed","name":"changed-Content","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Author","displayName":"Author","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Author Changed","name":"changed-Author","index":14},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-Image","displayName":"Image","index":15},{"type":"signal","plug":"output","group":"Changed Events","displayName":"Image Changed","name":"changed-Image","index":16},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-createdAt","displayName":"createdAt","index":17},{"type":"signal","plug":"output","group":"Changed Events","displayName":"createdAt Changed","name":"changed-createdAt","index":18}],"children":[]},{"id":"a9cd8ed0-b2fb-ac95-e0b6-56848471808f","type":"/#Logic/TimeAgo","x":-444.13354208228816,"y":210.48264943458457,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"85310cff-5b94-eb3f-ca1d-e10d0e5b67e8","type":"/#Logic/GetImage","x":-441.63185196999433,"y":3.4310544815231054,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"57da2844-cea9-5cd6-c453-6b7721ca73d8","type":"RouterNavigate","x":-445.79996008400116,"y":284.5542538924219,"parameters":{"router":"Main","target":"/Page/post-detail"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/Page/home","/Page/post","/Page/post-detail","/Page/notifications","/Page/notifications-detail","/Page/organizations","/Page/organizations-detail"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-id","displayName":"id","type":"string","plug":"input","group":"Parameters","index":4}],"children":[]},{"id":"dc61c51d-d141-18c1-65f1-99ff36cec7db","type":"Component Outputs","x":146.1750459899621,"y":328.5154142034729,"parameters":{},"ports":[{"name":"reload","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"c330a9f8-e2cb-9f5b-c541-c20e38f2108d","type":"JavaScriptFunction","x":-446,"y":354,"parameters":{"functionScript":"\r\nconst content = Inputs.Content\r\n\r\nlocalStorage.removeItem(\"content\");\r\nlocalStorage.setItem(\"content\", content);"},"ports":[],"dynamicports":[{"name":"in-Content","displayName":"Content","plug":"input","type":"*","group":"Inputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["035c2232-57ee-71c1-b3cb-03e528798890"]}}],"settings":{"mapboxAccessToken":"pk.eyJ1IjoiZGhpZXAyMzA3IiwiYSI6ImNtNDRpeDFtejBuNzkycHB6bXp6eWZ1MTQifQ.169cDiC_Q2YWzRBdIxxgPg","sitemap.enabled":false,"navigationPathType":"path","baseUrl":"","headCode":"<link href=\"https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css\" rel=\"stylesheet\" />\r\n<script src=\"https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js\"></script>\r\n<script\r\n    src=\"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.1/mapbox-gl-directions.js\"></script>\r\n<link href=\"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.1/mapbox-gl-directions.css\"\r\n    rel=\"stylesheet\" />\r\n<link rel=\"icon\" type=\"image/x-icon\" href=\"/favicon.ico\">\r\n\r\n<script>\r\n    let provinces;\r\n    let posTestList;\r\n    let center;\r\n    let map;\r\n    let provinceNames;\r\n    let marker;\r\n</script>","bodyScroll":true},"rootNodeId":"246f9453-a119-ac78-171e-3806cf596ecc","version":"4","metadata":{"styles":{"text":{"Title Medium":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":"20","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Body Medium":{"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"16","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none"},"Display":{"letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none","fontSize":{"value":"40","unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","color":"#000000"},"Headline":{"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"32","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Title Large":{"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":"24","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120%","unit":"px"},"textTransform":"none"},"Title Small":{"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":"16","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Large":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":"16","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Medium":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":"14","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Small":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":"12","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Body Large":{"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"20","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none"},"Body Small":{"letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"14","unit":"px"},"color":"#000000"}},"colors":{"ECFCCB":"#ECFCCB","FBECEC":"#FBECEC","FEF8C3":"#FEF8C3","Grey - 200":"#F4F4F4","Grey - 600":"#757575","Grey - 900":"#1F1F1F","Notice":"#F2C441","Primary":"#0EA4E9","A06109":"#A06109","Border":"#E7E7E9","Danger":"#F75A4F","Grey - 100":"#FBFBFB","Grey - 700":"#4C4C4C","Success":"#49AD7F","Grey - 400":"#CECECE","Grey - 500":"#A5A5A5","Grey - 800":"#383838","Primary Dark":"#3F22B8","White":"#FFFFFF","Grey - 300":"#E9E9E9","Primary Subtle":"#C9BFFC","Primary Light":"#F7F5FF","Black":"#000000"}}},"variants":[{"typename":"Text","parameters":{"textStyle":"Body Medium"},"stateParamaters":{},"stateTransitions":{}},{"typename":"net.noodl.controls.button","parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","backgroundColor":"Primary","iconIconSource":{"class":"material-icons","code":"home"},"iconSpacing":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"textStyle":"Label Medium","paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"color":"#FFFFFF","minWidth":{"value":80,"unit":"px"},"useIcon":false,"iconSize":{"value":20,"unit":"px"}},"stateParamaters":{"hover":{"backgroundColor":"Primary Dark"},"pressed":{"backgroundColor":"Primary","color":"White"},"disabled":{"backgroundColor":"Grey - 300","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.textinput","parameters":{"useLabel":true,"sizeMode":"explicit","height":{"value":40,"unit":"px"},"textStyle":"Body Medium","borderStyle":"solid","borderRadius":{"value":4,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 700","labeltextStyle":"Label Small","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"labelSpacing":{"value":4,"unit":"px"},"placeholder":"Type here","color":"Grey - 900","placeHolderOpacity":0.65,"enabled":true,"blockTouch":false,"useIcon":false,"iconIconSource":{"class":"material-icons","code":"home"},"iconSize":{"value":20,"unit":"px"},"iconSpacing":{"value":4,"unit":"px"},"iconColor":"Grey - 700","labelcolor":"Grey - 700"},"stateParamaters":{"hover":{"labelcolor":"Grey - 700","borderColor":"Grey - 700","borderStyle":"solid","color":"Grey - 900"},"focused":{"borderColor":"Primary","labelcolor":"Primary","borderWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowColor":"Primary","borderStyle":"solid"},"disabled":{"labelcolor":"Grey - 500","backgroundColor":"Grey - 200","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"disabled":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.options","parameters":{"sizeMode":"explicit","height":{"value":40,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"borderColor":"Grey - 700","boxShadowColor":"Dark Gray","useIcon":true,"iconIconSource":{"class":"material-icons","code":"expand_more"},"iconPlacement":"right","iconSize":{"value":20,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"textStyle":"Body Medium","paddingLeft":{"value":12,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"width":{"value":100,"unit":"%"},"iconColor":"Grey - 700","placeholderOpacity":0.65,"placeholder":"Select option","useLabel":true,"labelSpacing":{"value":4,"unit":"px"},"labeltextStyle":"Label Small","labelcolor":"Grey - 700","items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]"},"stateParamaters":{"hover":{"borderColor":"Grey - 700","borderRadius":{"value":4,"unit":"px"},"iconColor":"Grey - 900","iconSize":{"value":20,"unit":"px"},"iconPlacement":"right","color":"Grey - 900","labelcolor":"Grey - 700"},"focused":{"borderColor":"Primary","boxShadowColor":"Primary","borderRadius":{"value":4,"unit":"px"},"useIcon":true,"iconColor":"Primary","iconIconSource":{"class":"material-icons","code":"keyboard_arrow_up"},"iconPlacement":"right","color":"Grey - 900","labelcolor":"Primary"},"pressed":{"borderRadius":{"value":4,"unit":"px"}},"disabled":{"labelcolor":"Grey - 500","iconColor":"Grey - 500","borderColor":"Grey - 500","color":"Grey - 600","backgroundColor":"Grey - 200"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.range","parameters":{"thumbColor":"Primary","thumbBorderRadius":{"value":100,"unit":"%"},"trackHeight":{"value":4,"unit":"px"},"trackActiveColor":"Primary","trackColor":"Primary Subtle","width":{"value":100,"unit":"%"},"trackBorderRadius":{"value":100,"unit":"px"},"thumbHeight":{"value":16,"unit":"px"},"thumbWidth":{"value":16,"unit":"px"}},"stateParamaters":{"hover":{"thumbColor":"Primary Dark","trackActiveColor":"Primary Dark"},"disabled":{"trackActiveColor":"Grey - 500","trackColor":"Grey - 300","thumbColor":"Grey - 500"}},"stateTransitions":{}},{"typename":"net.noodl.controls.checkbox","parameters":{"width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"useIcon":false,"borderWidth":{"value":1,"unit":"px"},"useLabel":true,"labeltextStyle":"Body Medium","borderRadius":{"value":2,"unit":"px"},"borderColor":"Grey - 700","labelfontSize":{"value":16,"unit":"px"},"labelcolor":"Grey - 900","labelSpacing":{"value":12,"unit":"px"}},"stateParamaters":{"checked":{"useIcon":true,"iconIconSource":{"class":"material-icons","code":"check"},"backgroundColor":"Primary","borderColor":"Primary","iconSize":{"value":16,"unit":"px"}},"disabled":{"opacity":0.5},"hover":{"borderColor":"Grey - 700"},"pressed":{}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"checked":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.radiobutton","parameters":{"width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"useLabel":true,"labeltextStyle":"Body Large","borderWidth":{"value":1,"unit":"px"},"value":"0","useIcon":false,"fillColor":"transparent","borderColor":"Grey - 700","labelfontSize":{"value":16,"unit":"px"},"marginBottom":{"value":8,"unit":"px"},"labelcolor":"Grey - 900","labelSpacing":{"value":12,"unit":"px"}},"stateParamaters":{"checked":{"fillColor":"Primary","borderColor":"Primary","borderWidth":{"value":1,"unit":"px"},"backgroundColor":"transparent","width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"fillSpacing":{"value":2,"unit":"px"}},"hover":{"backgroundColor":"transparent","borderColor":"Grey - 700","width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"}},"disabled":{"borderColor":"Grey - 500","labelcolor":"Grey - 500","fillColor":"transparent"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"checked":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"name":"active","typename":"Text","parameters":{"textStyle":"Body Medium","text":"Đã duyệt","sizeMode":"contentSize","color":"Success"},"stateParamaters":{},"stateTransitions":{}}]}